2001-06-01  Peter Stephenson  <pws@csr.com>

	* Andrej: can't find the number: improved 14644.

	* 14660: Etc/zsh-development-guide: can't use autoconf 2.50 yet.

2001-06-01  Oliver Kiddle  <opk@zsh.org>

	* 14658: Base/Utility/_arguments, Base/Utility/_values: correctly
	handle argument to -O option

2001-06-01  Peter Stephenson  <pws@csr.com>

	* 14651: Doc/Zsh/builtins.yo: add fix for 14597 in one other place.

	* 14646: LICENCE, Etc/FEATURES, Etc/MACHINES: `final' tweaks for
	4.0.1.

	* 14644: configure.in: only undefine M4 macros if they are
	defined, since new autoconf complains.  Undefining the macros
	in question is probably only a historical curiosity.

2001-06-01  Clint Adams  <clint@zsh.org>

	* 14635: Completion/Unix/Command/_gdb: presume
	'*core' glob for coredump files.

2001-06-01  Sven Wischnowsky  <wischnow@zsh.org>

	* 14630: Src/Zle/computil.c: fix for exclusion of normal
	arguments

2001-06-01  Andrej Borsenkow  <bor@zsh.org>

	* unposted: Etc/MACHINES: Cygwin belongs now to Red Hat. Mention
	the release where everything appears to work for the first time.

2001-06-01  Tanaka Akira  <akr@zsh.org>

	* 14628: Completion/Unix/Command/_ruby: new completion function.

2001-05-31  Sven Wischnowsky  <wischnow@zsh.org>

	* 14607: Completion/Base/Utility/_arguments, Src/Zle/computil.c:
	fix tag-order problem with _arguments (completion after an
	option that gets an argument in the same word); and a fix for
	completion after -ab, where -a gets an argument in the next
	word and -b gets one in the same word

2001-05-31  Oliver Kiddle  <opk@zsh.org>

	* unposted: Doc/Makefile.in, Doc/Zsh/compsys.yo: correct alphabetical
	ordering of lists of styles, tags, completion functions and modules

2001-05-31  Peter Stephenson  <pws@csr.com>

	* as per 14577 from Bart: README, INSTALL: we don't support
	--enable-omit-modules any more; a few more changes since 3.0.

2001-05-31  Sven Wischnowsky  <wischnow@zsh.org>

	* 14605: Src/params.c, Src/Modules/parameter.c,
	Src/Zle/complete.c, Src/Zle/computil.c, Src/Zle/zleparameter.c:
	fix two memory leaks (at least I hope they are fixed) and some
	out-of-bound array accesses, plus some defensive programming
	for heap allocated param structs

	* 14602: Completion/Base/Utility/_values,
	Functions/Misc/nslookup: better prompt matching in nslookup;
	fix separator handling in _multi_parts

	* 14599: Completion/Base/Utility/_multi_parts: always use
	supplied matchers

2001-05-31  Bart Schaefer  <schaefer@zsh.org>

	* 14597: Doc/Zsh/builtins.yo: Back out 12724; instead, insert a
	space on a line between paragraphs to prevent yodl from treating
	it as paragraph break.  Still a hack, but a better hack.

2001-05-30  Peter Stephenson  <pws@csr.com>

	* 14573: INSTALL, README, Doc/Zsh/builtins.yo, Test/README,
	Util/helpfiles:  documentation changes for 4.0.1 for clarity,
	plus avoid buggy nroff wrap in read builtin.

2001-05-30  Bart Schaefer  <schaefer@zsh.org>

	* 14516: Use the same ncurses compilation test in gettermcap() as
	was already used in echotc().  This needs more work, hence the
	delay in getting it committed.

2001-05-30  Oliver Kiddle  <opk@zsh.org>

	* 14567: Completion/Unix/Command/_pine,
	Completion/Zsh/Command/.distfiles, Completion/Zsh/Command/_echotc,
	Completion/Zsh/Command/_echoti: new echoti completion, update
	echotc completion and update _pine to reflect pine 4.33

	* 14563: Etc/MACHINES: IRIX 5.3 fails & other updates

2001-05-30  Andrej Borsenkow  <bor@zsh.org>

	* 14566: Test/C02cond.ztst: more testing for unimplemented
	features.

	* 14557: INSTALL: remove 3.1 version number

2001-05-30  Sven Wischnowsky  <wischnow@zsh.org>

	* 14558: Completion/Base/Widget/_correct_word,
	Completion/Base/Widget/_expand_word: some cleanup

2001-05-30  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* unposted: Zsh/Doc/metafaq.yo: make line spacing consistent.

2001-05-29  Clint Adams  <clint@zsh.org>

	* 14553: Src/Zle/zle_hist.c: fix thinko

	* 14552: Src/Zle/zle_hist.c: repeat last vi history search
	if search string is empty.

2001-05-29  Oliver Kiddle  <opk@zsh.org>

	* unposted: Completion/compdump, Completion/BSD/Command/_cvsup,
	Completion/Base/Completer/_approximate,
	Completion/Base/Completer/_menu, Completion/Base/Core/_tags,
	Completion/Base/Utility/_multi_parts,
	Completion/Base/Utility/_regex_arguments,
	Completion/Base/Utility/_sep_parts, Completion/Redhat/Command/_rpm,
	Completion/Unix/Command/_apm, Completion/Unix/Command/_cvs,
	Completion/Unix/Command/_enscript,
	Completion/Unix/Command/_imagemagick, Completion/Unix/Command/_java,
	Completion/Unix/Command/_ls, Completion/Unix/Command/_mount,
	Completion/Unix/Command/_pbm, Completion/Unix/Command/_perl,
	Completion/Unix/Command/_prcs, Completion/Unix/Command/_ssh,
	Completion/Unix/Command/_telnet, Completion/Unix/Command/_wget,
	Completion/Unix/Type/_path_files, Completion/Zsh/Command/_bindkey,
	Completion/Zsh/Command/_hash, Completion/Zsh/Command/_which,
	Doc/Zsh/compsys.yo, Doc/Zsh/expn.yo, Doc/Zsh/func.yo,
	Doc/Zsh/mod_computil.yo, Doc/Zsh/params.yo, Functions/Misc/checkmail,
	Functions/Misc/zrecompile, Functions/Misc/zstyle+: spelling corrections

2001-05-29  Bart Schaefer  <schaefer@zsh.org>

	* 14545: INSTALL: Mention "make check" and its usage.

2001-05-29  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 14539: Completion/Debian/Command/_update-alternatives:
	Add support for rpm update-alternatives.

2001-05-29  Clint Adams  <clint@zsh.org>

	* 14541: %# with capabilities should prompt-expand to #
	iff (euid=0 or the Effective set is non-empty).

	* 14538: cleaner _perl_config_vars from Matt Zimmerman.

	* 14536: Completion/Debian/Command/_update-alternatives:
	loop for multiple --slaves thanks to Sven.

	* 14533: Completion/Debian/Command/_dpkg,
	Completion/Debian/Command/_update-alternatives:
	use "= ->" for states expecting positional
	parameters.

2001-05-29  Sven Wischnowsky  <wischnow@zsh.org>

	* 14530: Completion/compinit,
	Completion/Base/Completer/_expand_alias,
	Completion/Base/Core/_main_complete,
	Completion/Base/Widget/_bash_completions,
	Completion/Base/Widget/_complete_debug,
	Completion/Base/Widget/_complete_help,
	Completion/Base/Widget/_correct_word,
	Completion/Base/Widget/_expand_word,
	Completion/Base/Widget/_history_complete_word,
	Completion/Base/Widget/_next_tags: use `eval $_comp_setup' in
	all entry points of the completion system to not only set up
	the options, but also redirect stdin and ignore trap handlers
	for ZERR

	* 14524: Src/jobs.c: print at least a warning when disowning a
	stopped job

2001-05-28  Clint Adams  <schizo@debian.org>

	* 14517: Src/Builtins/rlimits.awk: fix glibc2.2.3
	handling.

	* 14513: Completion/Debian/Command/.distfiles,
	Completion/Debian/Command/_update_alternatives:
	completion for update-alternatives

	* 14512: Completion/Debian/Command/_dpkg: tweak --compare-versions
	behavior.

2001-05-28  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Src/Modules/zprof.c: Silence bogus compiler warnings
	about variables used when unitialized.

	* Andrej: 14501 (as tweaked by 14510): Fix device and FIFO tests
	for Cygwin and other platforms where they're not implemented or
	the testing user has insufficient permissions.

2001-05-28  Clint Adams  <clint@zsh.org>

	* 14509: Completion/Base/Core/_setup, Doc/Zsh/compsys.yo,
	Doc/Zsh/mod_complist.yo: clobber both ZLS_COLORS and ZLS_COLOURS
	during compinit, and slightly clarify this behavior in the
	documentation.

2001-05-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 14507: Src/Zle/compresult.c: fix for cursor positioning with
	that -y option of compctl (display strings)

	* 14504: Src/Modules/zprof.c: make the zprof wrapper function
	be more careful, avoiding almost all of the code when the
	module is being unloaded

	* 14503: Src/exec.c: another attempt at fixing the job problem
	from 14327; make execpline() reset list_pipe_job to zero if it
	would be set for a job started in the background

2001-05-27  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Etc/MACHINES: Mention failure of gcc 2.7.1 on HPUX,
	and need for --disable-lfs on Solaris 2.6.

2001-05-27  Clint Adams  <clint@zsh.org>

  	* 14492: Functions/Prompts/.distfiles,
	Functions/Prompts/prompt_clint_setup:
	additional prompt theme.

2001-05-26  Wayne Davison  <wayned@users.sourceforge.net>

	* 14488: Src/Zle/zle_hist.c: fixed accept-and-infer-next-history
	when called repeatedly.  Also made the infer actions and
	accept-line-and-down-history not get tripped up by transitory
	changes to the history data.

2001-05-26  Andrej Borsenkow  <bor@zsh.org>

	* 14489: Test/C02cond.ztst: workaround for (probably) find
	bug on ReliantUNIX made visible by 14484.

2001-05-25  Bart Schaefer  <schaefer@zsh.org>

	* 14484: Test/C02cond.ztst: Print a warning and skip the -b test
	if no block devices can be found (test only ! -b in that case).

2001-05-25  Clint Adams  <schizo@debian.org>

	* 14479: Completion/Debian/Command/_apt: add --reinstall.

2001-05-24  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* from Bart: Etc/FAQ.yo: changes for 4.0.1, already installed
	at http://sunsite.dk/zsh/FAQ/.

2001-05-23  Bart Schaefer  <schaefer@zsh.org>

	* 14461: Test/V01zmodload.ztst: Change the unloading test to be
	sure that modules are not unloaded until their dependencies have
	been unloaded.

2001-05-23  Oliver Kiddle  <opk@zsh.org>

	* unposted: Src/signals.c, Src/utils.c: add missing mod_exports

2001-05-22  Peter Stephenson  <pws@csr.com>

	* 14430: Test/ztst.zsh: Be less cavalier about exiting on failure
	so as to perform cleanup.

2001-05-21  Clint Adams  <clint@zsh.org>

	* 14419: Src/Builtins/rlimits.awk: handle glibc 2.2.3
	rlimits enum.

2001-05-21  Oliver Kiddle  <opk@zsh.org>

	* 14416: Completion/Base/Core/_tags: include + options for tag order

2001-05-21  Bart Schaefer  <schaefer@zsh.org>

	* 14411: Test/C02cond.ztst: Move chmod from 14408 into the %clean
	section so the right exit status is tested in the unmodish test.

2001-05-21  Clint Adams  <clint@zsh.org>

	* unposted: Completion/Unix/Type/_diff_options: quote $@
	in calls to _arguments.

2001-05-21  Oliver Kiddle  <opk@zsh.org>

	* 14409: Completion/Zsh/Command/_set: make use of _arguments in _set

2001-05-21  Peter Stephenson  <pws@csr.com>

	* unposted: Config/version.mk: 4.0.1-pre-5.
	
	* 14408: Test/C02cond.ztst: do chmod +w to work around rm -f
	problem in Cygwin.

	* unposted: Test/.distfiles: add Test/E01options.ztst.

2001-05-20  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 14396: Src/params.c, Test/D04paramater.ztst, Doc/Zsh/params.yo:
	Fix bug that though path/PATH etc. were unset as a pair, they
	didn't get recreated as a pair despite remaining special.  Add
	tests for this and fix in 14388.  Add documentation for special
	ties like path and PATH.

2001-05-20  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Test/ztst.zsh: Handle line wrapping in ZTST_hashmark.

2001-05-20  Andrej Borsenkow  <bor@zsh.org>

	* 14401: Makefile.in, configure.in, Config/config.mk,
	Config/installfns.sh, Doc/Makefile.in, Src/Makefile.in,
	Src/mkmakemod.sh: do not assume scripts are directly executable
	(they are not always on Cygwin) - use `sh script' instead

2001-05-20  Wayne Davison  <wayned@users.sourceforge.net>

	* last half of 14390: Src/params.c: Added some boundary checks
	to the array-assignment code.

2001-05-19  Wayne Davison  <wayned@users.sourceforge.net>

	* 14389: Src/hashtable.c, Src/hist.c: Don't call addhistnode()
	or removehashnode() on a HIST_TMPSTORE entry.  Don't merge a
	HIST_TMPSTORE entry with a previous "duplicate" line.

2001-05-18  Bart Schaefer  <schaefer@zsh.org>

	* 14388: Src/params.c, Src/subst.c: Correctly handle re-set of
	of integer-typed special parameters such as SHLVL, after unset.

	* 14385: Test/V01zmodload.ztst, Test/ztst.zsh: Fix typo in a
	comment; print a warning when unable to test zsh/example; make
	sure the file descriptor for that warning (and others in other
	test files) is available even if ZTST_verbose has an unexpected
	value.

2001-05-18  Peter Stephenson  <pws@csr.com>

	* not posted: Test/ztst.zsh, Test/E01options.ztst: added some more
	options; made ztst.zsh more robust about ksharrays being set by
	a test.

	* 14382: Src/module.c: zmodload -uf wouldn't work even if the
	math function hadn't been loaded yet.

2001-05-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 14381: Src/subst.c: try to make ${(e)..} work for complicated
	parameter expansions in the value; this means: keep Qstring
	tokens unchanged if they are inside double quotes and
	tokenizing patterns in parameter expansions

2001-05-18  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Test/.distfiles, Test/V01zmodload.ztst: Add the basic
	tests of zmodload functionality.

2001-05-18  Clint Adams  <clint@zsh.org>

	* 14378: Completion/Unix/Type/_tex: also work for
	pdflatex, jadetex, and pdfjadetex.

2001-05-17  Tanaka Akira  <akr@zsh.org>

	* 14377: Completion/Unix/Command/_cvs: support new .cvspass format
	introduced by cvs-1.11.1.

2001-05-17  Peter Stephenson  <pws@csr.com>

	* 14376: Completion/Unix/Command/_lp: type with compset.

2001-05-17  Bart Schaefer  <schaefer@zsh.org>

	* 14375: Src/Zle/zle_main.c: Permit signals to be handled during
	read from the terminal in zleread().  (This changes only nested
	calls from widgets such as incremental search; signals were never
	queued for top-level reads.)

2001-05-16  Clint Adams  <clint@zsh.org>

	* 14361, 14362: Completion/Unix/Command/_modutils: use
	state for modprobe so that modprobe -r will
	complete multiple loaded modules.  Also
	handle more of modprobe's options.

2001-05-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 14359: Src/Zle/zle_tricky.c: more fixage for expansion: just
	convert the command line to the original when expansion
	shouldn't or couldn't do something sensible on the line

2001-05-15  Wayne Davison  <wayned@users.sourceforge.net>

	* 14357: Src/hashtable.c, Src/hist.c, Src/zsh.h, Doc/Zsh/options.yo:
	Added a "delayed drop" for ignored history entries.

2001-05-15  Oliver Kiddle  <opk@zsh.org>

	* 14355: Completion/Unix/Command/_modutils: fix bug where /sbin/lsmod
	was redirected in instead of being run

2001-05-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 14350: Completion/Base/Completer/_expand, Src/Zle/zle_tricky.c:
	don't remove single and double quotes that are inside parameter
	expansions; hopefully better handling of brace expansions in
	_expand

2001-05-15  Peter Stephenson  <pws@csr.com>

	* 14348: Src/builtin.c: some idiot forgot to make GLOBAL_EXPORT
	work with typeset -g.

2001-05-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 14346: Src/parse.c: calculate the length of the region to map
	(for mapped zwc files) correctly, including the
	offset-page-boundary-adjustment

2001-05-15  Clint Adams  <clint@zsh.org>

	* 14341: Completion/Unix/Command/.distfiles,
	Completion/Unix/Command/_modutils:
	complete loaded Linux kernel modules for
	rmmod or modprobe -r.

2001-05-14  Peter Stephenson  <pws@csr.com>

	* 14330: Completion/Base/Widget/_most_recent_file: handle filenames
	which need quoted characters better.

2001-05-14  Sven Wischnowsky  <wischnow@zsh.org>

	* 14327: Src/exec.c: set list_pipe_job only for real pipelines

2001-05-11  Peter Stephenson  <pws@csr.com>

	* 14314: Src/Modules/stat.c: writing const variable under cygwin.

	* 14313: Test/E01options.ztst, Test/ztst.zsh: new options tests.

2001-05-10  Wayne Davison  <wayned@users.sourceforge.net>

	* 14304: Src/hist.c: Fixed an obscure local-history bug that could
	make the "history" command output something that was slightly wrong.

2001-05-10  Andrej Borsenkow  <bor@zsh.org>

	* users/3872: Src/Modules/zftp.c: rename inet_* to avoid clash
	with Solaris 7 headers.

2001-05-10  Tanaka Akira  <akr@zsh.org>

	* 14295: Completion/Unix/Command/_cvs: support new cvs subcommands
	`rannotate' and `rlog' introduced by cvs-1.11.1.

2001-05-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 14293: Src/Zle/computil.c: barf if a empty string is given as
	one of the separators for _values

2001-05-09  Bart Schaefer  <schaefer@zsh.org>

	* unposted: configure.in: Clean up 14275+14290 a bit at Andrej's
	urging so as not to violate quite so many autoconf usage rules.

	* 14290: configure.in: Use a different cache variable for the
	Solaris-curses.h-mistake-fix from 14275.

2001-05-09  Oliver Kiddle  <opk@zsh.org>

	* 14266, 14283: Etc/FEATURES, StartupFiles/zshrc: update; in
	particular to use new style completion in example startup file.

	* 14282: Completion/Unix/Command/_chown: complete only files
	that can be chowned.

	* 14281: Completion/Base/Completer/_expand: insert redirection
	operators when expanding after a redirection operator.

2001-05-09  Peter Stephenson  <pws@csr.com>

	* unposted: Config/version.mk: 4.0.1-pre-4.

	* 14280: Doc/Zsh/options.yo: make clearer that GLOB_SUBST doesn't
	affect braces and commas.

	* unposted: back off 14140, since logically it implies tokenizing
	braces from parameters, which opens a whole new kettle of worms.

2001-05-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 14279: Doc/Zsh/compsys.yo: add description of how to add a
	auto-removable suffix when using a ->state action with _values

2001-05-08  Bart Schaefer  <schaefer@zsh.org>

	* 14275: configure.in, acconfig.h: Fix 14270 so that it works
	after config.cache has been loaded.

2001-05-08  Peter Stephenson  <pws@csr.com>

	* 14270: configure.in, acconfig.h: use TRY_COMPILE to check for
	curses.h because SunOS 5.8 produces warnings which cause
	HAVE_CURSES_H not to be defined.

2001-05-08  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Completion/Zsh/Context/_subscript: Remove unnecessary
	`*' from a pattern.

2001-05-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 14257: Completion/Base/Utility/_values, Doc/Zsh/compsys.yo,
	Src/Zle/computil.c: add -S option to specify separator between
	values and their arguments; make _values add the
	value-separator as a suffix for most types of actions

2001-05-08  Oliver Kiddle  <opk@zsh.org>

	* 14256: Completion/Zsh/Context/_subscript: fix minor mistake

	* 14255: Completion/X/Command/_vnc: fix guard for display numbers

2001-05-08  Peter Stephenson  <pws@csr.com>

	* Andrej: 14248: Src/Modules/zpty.c, Test/comptest: don't use
	O_NOCTTY in one case for zpty on cygwin, remove incorrect flag for
	no blocking with zpty in comptest.

2001-05-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 14252: Completion/Base/Core/_description, Doc/Zsh/compsys.yo:
	empty description means: don't add a -X option

	* 14251: Src/Zle/complist.c, Src/Zle/zle_tricky.c: print
	space/backspace when reaching the last column while printing
	descriptions and the like to avoid a cursor positioning bug
	depending on the kind of terminal (autowrap)

2001-05-07  Sven Wischnowsky  <wischnow@zsh.org>

	* 14240: Completion/Unix/Type/_files: double all backslashes
	before colons in the original pattern

2001-05-06  Bart Schaefer  <schaefer@zsh.org>

	* 14235: Completion/Zsh/Context/_subscript: Improve handling of
	b/n/s subscript flags.

	* 14234: Src/Zle/computil.c: Prevent "no multi-letter values"
	error on values of '\:' and '' in compvalues().

2001-05-05  Bart Schaefer  <schaefer@zsh.org>

	* 14230: Completion/Zsh/Context/_subscript: Fix flag descriptions.

2001-05-04  Oliver Kiddle  <opk@zsh.org>

	* 14227: Completion/Zsh/Context/_subscript: Complete subscript flags.

2001-05-04  Bart Schaefer  <schaefer@zsh.org>

	* 14224: Completion/Unix/Commmand/_cvs: Complete path prefixes for
	subcommands where file completion must reference CVS/Entries.

2001-05-04  Oliver Kiddle  <opk@zsh.org>

	* 14219: Completion/Zsh/Command/_bindkey: update for bindkey
	changes in 14046

2001-05-03  Bart Schaefer  <schaefer@zsh.org>

	* 14217: Completion/Unix/Type/_files: Fix processing of the -F
	option so that it doesn't stomp on other options.

2001-05-03  Oliver Kiddle  <opk@zsh.org>

	* 14216: Completion/Unix/Command/.distfiles,
	Completion/Unix/Command/_loadkeys, Completion/Unix/Command/_lp,
	Completion/Unix/Command/_pbm, Completion/Unix/Command/_w3m: minor
	completion changes

2001-05-03  Sven Wischnowsky  <wischnow@zsh.org>

	* 14214: Src/Zle/computil.c: ignore errors when removing quotes

2001-05-02  Bart Schaefer  <schaefer@zsh.org>

	* 14206: configure.in: Fix bug introduced by 14177; also, only
	check for curses headers when linking against the curses library.

2001-05-02  Clint Adams  <clint@zsh.org>

	* 14208: Completion/Unix/Command/_loadkeys: support Solaris
	loadkeys.

	* 14201: Completion/Unix/Command/_loadkeys: completion for
	loadkeys.

2001-05-02  Peter Stephenson  <pws@csr.com>

	* 14140: Src/glob.c:  v='A,B'; print X{$~v}Y  now prints XAY XBY.

2001-05-02  Sven Wischnowsky  <wischnow@zsh.org>

	* 14198: Src/Zle/computil.c: remove quotes when looking at
	arguments in comparguments

	* 14197: Completion/Base/Completer/_expand: missing star in
	suffix-style test pattern

2001-05-01  Peter Stephenson  <pws@csr.com>

	* 14181: Src/params.c: follow-up to 14151: use BDIGBUFSIZE in
	two other places.

2001-05-01  Bart Schaefer  <schaefer@zsh.org>

	* 14177: configure.in: Add --with-curses-terminfo to force search
	order for tgetent and search for tigetstr.  Reorder some other
	options and reword their help messages.

2001-04-30  Bart Schaefer  <schaefer@zsh.org>

	* 14169: configure.in: Improve some AC_TRY_LINK tests so that they
	can't accidentally succeed because of a compiler that optimizes
	away unreferenced variables.

2001-04-30  Sven Wischnowsky  <wischnow@zsh.org>

	* 14160: Completion/Base/Completer/_expand: fixlet for the test
	for the suffix style; if word contains only a tilde, don't try
	to expand it

2001-04-30  Andrej Borsenkow  <bor@zsh.org>

	* Bart: 14144 (modified): Src/Modules/stat.c: The S_IXUSR,
	S_IXGRP, S_IXOTH are made external variables in Cygwin 1.3.1 and
	cannot be used as static array initializer anymore.

2001-04-29  Bart Schaefer  <schaefer@zsh.org>

	* users/3837: Completion/compinit: Add `NO_kshglob' to
	$_comp_options.

2001-04-28  Bart Schaefer  <schaefer@zsh.org>

	* 14151: Src/params.c, Src/subst.c, Src/system.h: BDIGBUFSIZE is
	the space needed to print a number converted to binary.

2001-04-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 14133: Completion/Base/Completer/_expand,
	Completion/Unix/Type/_path_files, Doc/Zsh/compsys.yo: try to
	improve testing for suffix style in _expand; make _path_files
	fail to complete words like ...<pat>..<param-subst>...

2001-04-26  Bart Schaefer  <schaefer@zsh.org>

	* 14129: Completion/Base/Completer/_approximate: Use a trap to
	unfunction the `compadd' function so that it can be correctly
	removed in the event that the competion system is interrupted by
	a keyboard signal.

2001-04-26  Clint Adams  <clint@zsh.org>

	* 14125: Src/Modules/termcap.c, Src/Modules/terminfo.c:
	remove static incleanup flag since it is not used.

	* 14123: acconfig.h, configure.in, Src/Modules/termcap.c:
	don't include curses.h in termcap.c if term.h doesn't need it.

2001-04-26  Sven Wischnowsky  <wischnow@zsh.org>

	* 14117: Completion/Base/Utility/_arguments, Doc/Zsh/compsys.yo:
	tweak to make single-letter options only be completed after an
	option with an argument if the -W option is given

2001-04-26  Bart Schaefer  <schaefer@zsh.org>

	* 14108: Src/Modules/termcap.c: Don't define USES_TERM* if the
	corresponding HAVE_TERM* constants are not defined.

2001-04-26  Oliver Kiddle  <opk@zsh.org>

	* 14112: Completion/Base/Utility/.distfiles,
	Completion/Unix/Command/_pine, Completion/X/Command/.distfiles,
	Completion/X/Command/_vnc: new _vnc and use of new _guard in _pine

2001-04-26  Sven Wischnowsky  <wischnow@zsh.org>

	* 14107: Completion/compaudit, Completion/compinstall,
	Doc/Zsh/compsys.yo: handle sub-sub-directories of $_compdir as
	in the CVS-layout

	* 14105: Completion/Base/Utility/_arguments,
	Completion/Base/Utility/_guard,
	Completion/X/Utility/_x_arguments,
	Completion/X/Utility/_xt_arguments, Doc/Zsh/compsys.yo,
	Src/Zle/computil.c: rename -W option to -w, add new -W option
	which makes _arguments complete options even after options that
	get their argument in the same word; new _guard function for
	conditionally displaying messages

	* 14092: Completion/Base/Completer/_expand: make keep-prefix
	keep everything up to the first component with a parameter
	expansion, not only if that is at the beginning of the string

2001-04-25  Sven Wischnowsky  <wischnow@zsh.org>

	* 14089: Src/Zle/computil.c: fix a sizeof() to strlen(). ahem.

2001-04-23  Bart Schaefer  <schaefer@brasslantern.com>

	* 14081: configure.in, Src/termcap.c, Src/terminfo.c: Fix linking
	yet again in the wake of 14077.  Disables echoti and the terminfo
	parameter on systems that have the old termcap, because otherwise
	the main zsh may be unnecessarily linked with curses even when the
	zsh/terminfo module is not in use.

	* 14080: Src/glob.c, Src/params.c, Src/subst.c, Src/zsh.h,
	Test/D06subscript.ztst: Optimize subscript parsing slightly by
	passing down an indication of whether the expression is in double
	quotes; fail noisily rather than silently on certain illegal
	associative array assignments; still more subscripting tests.

2001-04-23  Clint Adams  <schizo@debian.org>

	* 14078: Doc/Zsh/mod_termcap.yo, Doc/Zsh/mod_terminfo.yo:
	Document $termcap, change reference to termcap/terminfo
	'strings' to 'values'.

2001-04-23  Andrej Borsenkow  <bor@zsh.org>

	* 14077 : acconfig.h, aczsh.m4, configure.in, Config/defs.mk.in,
	Src/Makefile.in, Src/mkmakemod.sh, Src/zsh.mdd, Src/Modules/cap.mdd,
	Src/Modules/termcap.mdd, Src/Modules/terminfo.mdd,
	Src/Modules/zftp.mdd: revert Clint's build patches. They break
	build on ReliantUNIX and need some more consideration.

2001-04-23  Bart Schaefer  <schaefer@zsh.org>

	* 14070: Src/lex.c, Src/params.c, Test/D06subscript.ztst: Fix
	problem with parsing \" in subscripts during parameter expansion
	in double-quotes.

2001-04-22  Bart Schaefer  <schaefer@zsh.org>

	* 14066: Doc/Zsh/expn.yo, Doc/Zsh/params.yo, Src/params.c,
	Test/D06subscript.ztst: Document subscript usage; fix minor bug in
	(kK) subscript flags, and add a test for it.

2001-04-22  Clint Adams  <schizo@debian.org>

	* 14065: Src/params.c, Src/Modules/termcap.c,
	Src/Modules/terminfo.c: handle numeric capabilities
	properly within the termcap/terminfo parameters.

2001-04-21  Bart Schaefer  <schaefer@zsh.org>

	* 14062: Src/Modules/termcap.c: Avoid including both old-style
	termcap.h and ncurses term.h at the same time (see 13965).

	* 14060: Src/builtin.c, Src/lex.c, Src/params.c,
	Test/D06subscript.ztst: Fix problem with ${array[ix]=value}
	introduced by 14008; fix long-standing problems with
	`noglob typeset array[ix]=value' and `typeset 12foo=bar';
	fix parsing problem with ((\[ ...)) introduced by 14051.

2001-04-20  Clint Adams  <schizo@debian.org>

	* 14055: Src/Modules/termcap.c: include termio.h if available.
	This prevents Solaris 8 from choking on term.h.

	* 14053: Src/Modules/termcap.c, Src/Modules/termcap.mdd:
	add ${termcap} special parameter in the style of ${terminfo}.

2001-04-19  Bart Schaefer  <schaefer@zsh.org>

	* 14008, 14051: Src/lex.c, Src/math.c, Src/params.c,
	Test/D06subscript.ztst: Improve parsing of subscripts so that
	many forms that failed before, work now, particularly for assoc
	array keys; create a test suite.

	* 14008: Src/hist.c: Don't getsparam("HISTFILE") until it is
	actually needed, because other parameter expansions reset the
	history mechanism for subscript parsing.

	* 14008: Src/builtin.c: Keep track of the new Param created when
	typeset_single() calls setsparam() in some circumstances; drop a
	redundant isident() test.

2001-04-19  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 14046: Doc/Zle/zle.yo, Src/Zle/zle_keymap.c: bindkey -rp removes
	bindings with given prefix; minor bugfix for length of prefix with
	bindkey -p.  Also, don't bind cursor keystrings if they are just
	a single key.

2001-04-19  Clint Adams  <schizo@debian.org>

	* unposted: configure.in: make sure all the libraries are
	in for the function check.

	* 14041: configure.in, Config/defs.mk.in, Src/Makefile.in,
	Src/Modules/cap.mdd, Src/Modules/termcap.mdd,
	Src/Modules/terminfo.mdd, Src/Modules/zftp.mdd:
	only link modules against needed libraries.

	* 14039: configure.in, Config/defs.mk.in, Src/zsh.mdd,
	Src/Modules/cap.mdd, Src/Modules/termcap.mdd,
	Src/Modules/terminfo.mdd, Src/Modules/zftp.mdd:
	simulate old linking behavior.

	* 14033: acconfig.h, aczsh.m4, configure.in, Config/defs.mk.in,
	Src/Makefile.in, Src/mkmakemod.sh, Src/zsh.mdd,
	Src/Modules/cap.mdd, Src/Modules/termcap.mdd,
	Src/Modules/terminfo.mdd: only link modules and main binary
	against needed libraries.

2001-04-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 14028: Src/Zle/complete.mdd: use the right path patterns for
	completion functions

2001-04-19  Clint Adams  <schizo@debian.org>

	* 14018: Src/mkmakemod.sh: honor STRIPFLAGS when installing
	modules.

2001-04-18  Bart Schaefer  <schaefer@zsh.org>

	* 14004 (plus typo fix per Sven 14009): Improve completion in the
	tail of paths with a leading tilde-component, particularly with
	respect to nameddirs.

2001-04-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 13999: Src/Zle/computil.c: only use the exclusion lists of
	options that are not currently being completed, but keep
	options from being completed more than once

	* 13997: Completion/Zsh/Type/_directory_stack: remove
	SUFFIX-handling, it's in _tilde and only needed there

2001-04-14  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Etc/zsh-development-guide: The entire section on hook
	functions was repeated twice; delete one copy.

2001-04-13  Oliver Kiddle  <opk@zsh.org>

	* 13982: Completion/Base/Utility/_multi_parts,
	Completion/Unix/Command/.distfiles, Completion/Unix/Command/_elm,
	Completion/Unix/Command/_mail, Completion/Unix/Command/_mutt,
	Completion/Unix/Command/_ncftp, Completion/Unix/Command/_pine:
	add completion for common MUAs and a couple of minor fixes

2001-04-13  Wayne Davison  <wayned@users.sourceforge.net>

	* 13981: Src/Modules/zftp.c: Don't define gethostbyname2()
	as static, since it can clash with the system header files
	on a system that provides the prototype but not the object.

2001-04-13  Bart Schaefer  <schaefer@zsh.org>

	* 13973: Completion/Unix/Type/_path_files: Parameter expansions
	are checked before tilde-expansions so that the former are handled
	properly when they appear in the same word as the latter.

	* 13972: Src/prototypes.h, Src/system.h, Src/Modules/termcap.c,
	Src/Modules/terminfo.c: Resolve assorted header file collisions,
	mostly for benefit of Solaris 2.6.

2001-04-12  Bart Schaefer  <schaefer@zsh.org>

	* 13965: Src/system.h, Src/prototypes.h, Src/Modules/terminfo.c:
	Use <term.h> for termcap protos when it is found but <termcap.h>
	is not; don't include <curses.h> unless it will be used.

2001-04-12  Clint Adams  <schizo@debian.org>

	* 13961: Src/prototypes.h: entertain the possibility that
	tputs is defined in term.h.

2001-04-12  Oliver Kiddle  <opk@zsh.org>

	* 13958: Completion/Zsh/Type/_directory_stack: a hopefully correct
	fix to avoid appending a / when called from _cd

	* unposted: Completion/Zsh/Command/.distfiles: missed change for 13947

2001-04-12  Clint Adams  <schizo@debian.org>

	* 13955: acconfig.h, configure.in, Src/Modules/terminfo.c:
	s/codes/names/.

	* 13953: acconfig.h, configure.in, Src/Modules/terminfo.c:
	have configure check for the existence of boolcodes,
	numcodes, and strcodes symbols, and presume that they
	are terminfo capability code inventories.

	* 13951: Src/Modules/terminfo.c: make scanterminfo do something
	so that ${(k)terminfo} and ${(kv)terminfo} work.

2001-04-11  Bart Schaefer  <schaefer@zsh.org>

	* 13949: Completion/Zsh/Type/_directory_stack: Don't append a slash
	when completing after [-+]*.
	
	* unposted: Functions/Misc/getjobs: Update comment to reflect
	change in preexec call signature from 13942.

	* unposted (see 13946): Functions/Prompts/prompt_bart_setup: Strip
	%[BSUbsu] from $PS1 when computing the width of the first line.

2001-04-11  Oliver Kiddle  <opk@zsh.org>

	* 13947: Completion/Zsh/Command/_fc, Completion/Zsh/Type/_aliases,
	Completion/Zsh/Type/_jobs_fg, Completion/Zsh/Command/_alias,
	Completion/Zsh/Command/_jobs_builtin: new _alias and _jobs_builtin

2001-04-11  Wayne Davison  <wayned@users.sourceforge.net>

	* 13942: Src/init.c, Doc/Zsh/func.yo: Fixed a bug in the
	calling of "preexec" to prevent the passing of the wrong
	history info as arg #1.  Added 2 extra args with expanded
	command info.  Documented the new calling syntax.

2001-04-11  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13944: Src/Modules/mapfile.c (from Bart): dupstring the
	parameter name to avoid static buffer re-use problem.

2001-04-10  Wayne Davison  <wayned@users.sourceforge.net>

	* unposted: Src/hist.c: Slightly enhanced should_ignore_line()
	by using getjobtext() instead of getpermtext().

2001-04-09  Wayne Davison  <wayned@users.sourceforge.net>

	* 13934, 13936: Src/Modules/terminfo.c: silence some compiler
	warnings when HAVE_TIGETSTR is not defined.

2001-04-09  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Src/modules/terminfo.c: Unset the terminfo parameter
	on autoload when terminfo is not available, to suppress a warning
	about autoload failure.

	* 13931: Src/Modules/termcap.mdd, Src/Modules/terminfo.mdd: Fix
	`load' directives broken by 13922.

	* 13922: Src/Modules/termcap.c, Src/Modules/termcap.mdd,
	Src/Modules/terminfo.c, Src/Modules/terminfo.mdd: Loading these
	modules should work even if the corresponding library is not
	available; in that case echotc or echoti uses bin_notavail.

2001-04-09  Peter Stephenson  <pws@csr.com>

	* unposted: Config/version.mk: 4.0.1-pre-3.

2001-04-06  Bart Schaefer  <schaefer@zsh.org>

	* 13919: Completion/compinit: Clarify the prompt presented when
	 the completion system detects insecure files/directories.

2001-04-06  Sven Wischnowsky  <wischnow@zsh.org>

	* 13917: Src/params.c: test for unset in pipestatussetfn()

	* 13916: Src/params.c: like 13907, but for backward searches

2001-04-05 Felix Rosencrantz  <f_rosencrantz@yahoo.com>

	* workers/13914: Completion/Unix/Command/_java: Added call to
	_normal after class to run is specified for java, and added
	completion for files to extract for "jar -x".

2001-04-05  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Functions/Prompts/prompt_bart_setup: Better handling
	of long command strings, more efficient padding computation.

	* users/3795: Functions/Misc/getjobs: Insert history entries
	with the original job texts for jobs resumed with fg/bg/etc.

	* users/3401: Functions/Misc/promptnl: Finally added this
	function, with extensive additional comments on usage, etc.

2001-04-05  Clint Adams  <schizo@debian.org>

	* 13909: Completion/Base/.distfiles, Completion/X/.distfiles,
	Test/.distfiles: remove stray files with tildes.

2001-04-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 13908: Completion/Base/Utility/_arguments: complete only
	those single letter options with the right prefix character

	* 13907: Src/params.c: fix for forward subscripting of strings
	as second part of subscript ($a[x,(r)..])

2001-04-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 13902: Completion/Base/Utility/_arguments,
	Completion/X/Utility/_x_arguments,
	Completion/X/Utility/_xt_arguments, Doc/Zsh/compsys.yo: add -W
	option to _arguments, which allows to complete options after
	options that take an argument in the next word

2000-04-03  Clint Adams  <schizo@debian.org>

	* 13899: Completion/Unix/Command/_apm: add $OSTYPE checking.

2001-04-03  Oliver Kiddle  <opk@zsh.org>

	* 13898, Bart: 13827: Completion/Zsh/Command/_ttyctl,
	Completion/Zsh/Command/_ulimit,	Completion/Zsh/Command/_vared:
	new completion functions
	
2001-04-03  Sven Wischnowsky  <wischnow@zsh.org>

	* 13892: Src/Zle/compmatch.c, Test/comptest, Test/ztst.zsh:
	two more places where fpaths to completion functions were used;
	follow-up on 13868, fix the fix

2001-04-02  Clint Adams  <schizo@debian.org>

	* 13889: Completion/Linux/_apm, Completion/Linux/.distfiles,
	Completion/Unix/Command/_apm, Completion/Unix/Command/.distfiles:
	Add OpenBSD 2.7 apm options.  Move to Unix/Command.

2001-04-02  Bart Schaefer  <schaefer@zsh.org>

	* 13887: Config/installfns.sh: Skip CVS subdirectories.

2001-04-02  Clint Adams  <schizo@debian.org>

	* 13884: Completion/Linux/_apm: Add FreeBSD 4.1 apm options.

2001-04-02  Sven Wischnowsky  <wischnow@zsh.org>

	* Config/installfns.sh, Src/zsh.mdd: more cleanup after
	function moving

	* unposted, kind of: moving functions and scripts around, renaming
	them, accidentally deleted them and re-installing them, etc.

	* 13868: Src/Zle/compmatch.c, Src/Zle/computil.c: make
	`_arguments -S' still complete long options after `--<TAB>';
	fix for cursor positioning with partial word match specs

2001-04-02  Clint Adams  <schizo@debian.org>

 	* 13866: Completion/Debian/_apt: complete a release
	name after apt-get install <pkgname>/.

	* 13864: Completion/Debian/_apt: complete a
	"release" name after apt-get -t.

2001-04-01  Oliver Kiddle  <opk@zsh.org>

	* 13863: Completion/Builtins/_bindkey, Completion/Builtins/_compdef,
	Completion/Builtins/_disable, Completion/Builtins/_emulate,
	Completion/Builtins/_enable, Completion/Builtins/_fc,
	Completion/Builtins/_hash, Completion/Builtins/_print,
	Completion/Builtins/_read, Completion/Builtins/_unhash,
	Completion/Builtins/_vars_eq, Completion/Builtins/_which,
	Completion/Builtins/_zcompile, Completion/Builtins/_zle,
	Completion/Builtins/_zpty, Completion/Builtins/_zstyle,
	Completion/User/_bison, Completion/User/_bzip2, Completion/User/_dirs,
	Completion/User/_fetchmail, Completion/User/_gzip,
	Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	Doc/Zsh/expn.yo: various doc fixes and minor changes to completion
	functions, including use of -A "-*" and -S options to _arguments.

2001-04-01  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 13861: Completion/Linux/_apm: Completion for apm command (linux only).

2001-03-30  Clint Adams  <schizo@debian.org>

	* 13860: Completion/Debian/_deb_packages: caching layer support.

2001-03-30  Peter Stephenson  <pws@csr.com>

	* 13851: Src/signals.c, Src/exec.c: don't exec final command in
	in list if any traps are set, since we don't know whether we will
	need to handle them when that command exits.

2001-03-30  Bart Schaefer  <schaefer@zsh.org>

	* 13846: Test/ztst.zsh: When "make check" is run with output to a
	tty, print a hash mark approximately once per second during tests
	to provide a "progress bar".

	* 13845: Doc/Zsh/options.yo, Src/options.c: Refuse `setopt noexec'
	in interactive shells, except at startup with `zsh -n'.

2001-03-29  Peter Stephenson  <pws@csr.com>

	* 13838: Src/prompt.c: don't assume we can change the string
	returned by getsparam("HOST").

	* 13837: Src/builtin.c: disallow changing of parameter type
	for autoloadable parameter (bug 219459 on Sourceforge).

2001-03-29  Sven Wischnowsky  <wischnow@zsh.org>

	* 13833: Completion/Core/_expand: fix comparison of expansions
	with expanded prefix (missing quoting)

	* 13830: Completion/Core/_multi_parts: next try to get rid of
	empty strings being added as possible completion by
	_multi_parts

2001-03-28  Bart Schaefer  <schaefer@zsh.org>

	* 12724: Doc/Zsh/builtins.yo: Nobody has come up with a better fix
	for the misformatted manual page than this hack, so I've finally
	committed it.

2001-03-28  Peter Stephenson  <pws@csr.com>

	* 13818: Doc/Zsh/zle.yo, Src/Zle/zle_keymap,c. Src/Zle/zle_main.c
	[zle_main hunk got omitted from posted patch, oops]: Add
	`bindkey -p' to list bindings with a given prefix.

	* unposted: Doc/Zsh/zle.yo, Doc/Zsh/mod_zle.yo: move ZLE builtin
	documentation from mod_zle.yo to zle.yo.

2001-03-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 13815: Completion/Commands/_history_complete_word,
	Doc/Zsh/compsys.yo: more cleanup; simplify the stop
	and liststyles; try to make it obey whatever _main_complete
	says should be done (menu-wise)

	* 13814: Completion/User/_urls, Doc/Zsh/compsys.yo: replace
	`path' with more general `urls' style

	* 13813: Completion/Core/_multi_parts: make sure _multi_parts
	doesn't add the empty string as a possible completion

2001-03-28  Peter Stephenson  <pws@csr.com>

	* unposted: Completion/Commands/_complete_tag: mysterious extra
	blank line somehow crept in at critical point.

2001-03-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 13809: Completion/Base/_arguments: don't add options as
	completions if a `->state' action was used and we are
	directly after the option (in the same word)

2001-03-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 13790: Completion/Base/_arguments, Completion/X/_x_arguments,
	Completion/X/_xt_arguments, Doc/Zsh/compsys.yo: make
	_arguments return 300 only if given the -R option

	* 13789: Completion/Base/_tilde, Completion/Builtins/_popd:
	comment out looking up the prefix-needed style when
	completing directory stack entries; make _tilde use _popd,
	finally

	* 3752: Completion/Commands/_history_complete_word,
	Src/Zle/compresult.c: try to make _h_c_w smarter at the
	beginning and end of the list; avoid list-beeping if the old
	completion list is re-used

2001-03-26  Clint Adams  <schizo@debian.org>

	* 13783 from Michal Politowski: Completion/Builtins/_pids:
	handle pids that don't have a preceding space in ps output.

	* 13779 from Michal Politowski: Completion/Commands/_complete_tag:
	typo fixes?

	* 13777: Src/Builtins/rlimits.awk: add maxfilelocks
	for glibc 2.2.

2001-03-26  Sven Wischnowsky  <wischnow@zsh.org>

	* 13770: Src/Zle/computil.c: handle colons in xor lists

	* 13768: Completion/Core/_main_complete,
	Completion/Core/_setup: unset ZLS_COLORS if list-colors not
	set

	* 13767: Src/Zle/zle_utils.c: avoid adding empty strings to
	the kill ring

	* 13763: Completion/Builtins/_pids, Doc/Zsh/compsys.yo: _pids
	shouldn't start menu completion if the current word starts
	with a hyphen; typo fix in compsys.yo

2001-03-25  Bart Schaefer  <schaefer@zsh.org>

	* 13757: StartupFiles/zlogin, StartupFiles/zshenv,
	StartupFiles/zshrc:  Strongly discourage use of these files as
	/etc/z* drop-ins.

2001-03-25  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13751: Completion/User/_cpio: added.

	* 13745: Test/ztst.zsh: set LC_COLLATE to C if already set to
	something.

	* 13743: Completion/User/_mailboxes: handle @folder in MH.

2001-03-24  Bart Schaefer  <schaefer@zsh.org>

	* 13746: Test/13parameter.ztst: Add tests for fixes from 13492.

	* 13744: Test/01grammar.ztst, Test/10prompt.ztst,
	Test/13parameter.ztst, Test/ztst.zsh: Delete or correct comments
	that refer to (non-)bugs or other confusion; enable another test;
	print the name of each test as it begins as well as when it ends.

	* 13740: Completion/User/_mailboxes: Fixes for mh (based on PWS's
	patch in 13737): handle sub-folders; handle +folder abbreviations;
	add commented-out lines that might eventually handle @folder, too.

2001-03-23  Bart Schaefer  <schaefer@zsh.org>

	* 13736: Test/01grammar.ztst: Enable more tests as they seem to
	work now; add regression test for the fix from 13706.

2001-03-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 13733: Completion/Builtins/_pids: don't auto-start menu
	* completion after a `%' when completing pids or jobs

	* 13730: Completion/Core/_approximate: probably no reason to
	put the (#a?) flag after an initial tilde in _approximate
	anymore

	* 13727: Completion/User/_init_d, Completion/User/_make,
	Doc/Zsh/compsys.yo: add commands and call-command styles;
	mention some of the more expensive things about completion
	setup in the docs

	* 13725: Completion/Core/_all_labels,
	Completion/Core/_next_label: test if the colon is quoted

	* 13724: Completion/Core/_path_files: fixlet, complicated
	match specs could result in incorrect words being used as
	possible path expansions

2001-03-22  Peter Stephenson  <pws@csr.com>

	* 13676: Completion/User/_mh: some tweaks for nmh.

2001-03-22  Sven Wischnowsky  <wischnow@zsh.org>

	* 13706: Src/exec.c: skip redirections in execpline2() when
	looking for the command code

2001-03-21  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Functions/Prompts/prompt_bart_setup: Use the (S)
	flag on a parameter expansion to improve parsing of the PS1
	string when computing its visible length.

2001-03-20  Sven Wischnowsky  <wischnow@zsh.org>

	* 13674: Completion/User/_telnet: use -l as default for telnet's
 	without -\? option
	
	* 13673: Src/Modules/zprof.c: fix misaligned percent output of
 	zprof
	
2001-03-18  Clint Adams  <schizo@debian.org>

	* 13664: Completion/User/_init_d: handle rcS.d, force-restart,
	force-reload.  Also, remove Completion/SysV.

2001-03-18  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* From Zvi Har'El: unposted: Doc/Zsh/metafaq.yo: shorter
	address for Israeli mirror.

2001-03-18  Clint Adams  <schizo@debian.org>

	* 13662: Completion/Debian/_apt: new build-dep command
	in apt-get.

	* 13661: Completion/SysV/.distfiles,
	Completion/SysV/_sysv_initscripts: complete arguments
	for SysV initscripts.

2001-03-17  Bart Schaefer  <schaefer@zsh.org>

	* unposted (but see 13646 and users/3563): Doc/Zsh/contrib.yo,
	Functions/Misc/.distfiles, Functions/Misc/zkdb: Function to read
	keyboard sequences and save them in an associative array for later
	reference (much improved from posted version, which was broken).

2001-03-15  Peter Stephenson  <pws@csr.com>

	* users/3671: Completion/User/_java: complete in middle of
	-classpath etc., not just at end.
	
2001-03-15  Sven Wischnowsky  <wischnow@zsh.org>

	* user/3674: Src/Zle/complist.c: fix default colour for directories
	
2001-03-14  Peter Stephenson  <pws@csr.com>

	* 13633: Src/Zle/zle_keymap.c: lastest in saga: don't use
	termcap suggestion for keymap if it is a single key already bound
	by default (user bindings will take precedence anyway).

2001-03-13  Bart Schaefer  <schaefer@zsh.org>

	* Zvi Har'El: 13619: Completion/User/_rcs: Add the D qualifier
	when matching file names in the RCS subdirectory.

	* 13613, 13620: Completion/User/_ncftp, Completion/User/_lftp:
	Unify completion for ncftp and lftp in _ncftp (removed _lftp).

2001-03-13  Peter Stephenson  <pws@csr.com>

	* 13611, 13615: Doc/Zsh/zle.yo, Src/init.c, Src/zsh.h,
	Src/Zle/zle_keymap.c: Use termcap to find cursor sequences to
	bind; default to VT100.  If ^[[? or ^[O? is being bound, bind
	the other one too.  Also bind cursor keys in viins keymap.

2001-03-12  Oliver Kiddle  <opk@zsh.org>

	* 13610: INSTALL, README, Completion/Core/compinit,
	Completion/Core/compinstall, Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo
	Doc/Zsh/compwid.yo, Doc/Zsh/contrib.yo, Doc/Zsh/expn.yo,
	Doc/Zsh/options.yo, Doc/Zsh/zftpsys.yo, Etc/CONTRIBUTORS: spelling
	corrections and improve to wording

	* unposted: Completion/Commands/_complete_help: fix to declare tmp
	as a local variable

2001-03-12  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 13605: Completion/User/_tar, Completion/User/_tar_archive: New tar
	options -j.

2001-03-12  Oliver Kiddle  <opk@zsh.org>

	* unposted: Completion/User/_zip, Completion/User/_hosts: handle
	filenames containing spaces in zip archives and don't complete lftp
	from _hosts

2001-03-12  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 13601: Completion/User/_lftp: Add completion for lftp

2001-03-11  Oliver Kiddle  <opk@zsh.org>

	* 13600: Completion/Base/_subscript, Completion/Core/_files,
	Completion/Core/_tags,  Completion/User/.distfiles,
	Completion/User/_dir_list, Completion/User/_fetchmail,
	Completion/User/_hosts, Completion/User/_iconv, Completion/User/_mutt,
	Completion/User/_ncftp, Completion/User/_tar, Completion/User/_urls,
	Completion/User/_webbrowser, Completion/User/_wget,
	Completion/User/_xargs, Completion/User/_zip, Functions/Misc/mere:
	various new, improved, fixed or updated functions

2001-03-11  Bart Schaefer  <schaefer@zsh.org>

	* 13599: Completion/User/_sh: Use _normal completion following
	the name of a shell script.

	* 13598: Completion/Core/_expand: Handle quoted whitespace in
	glob expansions.

	* 13562: Functions/Zle/edit-command-line: Better handling of
	multi-line buffers, at the expense of an extra feep.

2001-03-08  Peter Stephenson  <pws@csr.com>

	* unposted: Config/version.mk: 4.0.1-pre-2.

	* unposted: Functions/Zle/.distfiles, Completion/Core/.distfiles,
	Completion/Base/.distfiles, Completion/User/.distfiles: dist more
	files.

2001-03-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 13591: Completion/User/_init_d: try to find out the sub commands
 	to complete in _init_d
	
2001-03-07 Felix Rosencrantz  <f_rosencrantz@yahoo.com>

	* 13590: Test/54compmatch.ztst: Added another test case
	that covers the bug mentioned in workers/13563.  The case
	is based on a bug mentioned in workers/13320.

2001-03-07  Sven Wischnowsky  <wischnow@zsh.org>

	* 13589: Src/mem.c, Src/parse.c, Src/zsh.h: two optimisations; use
 	a binary tree to avoid duplicate strings in ecstrcode(); keep a
 	pointer to newly allocated heaps to avoid having to search for a
 	heap with free space in most cases
	
2001-03-07  Andrej Borsenkow  <bor@zsh.org>

	* unposted: configure.in, aczsh.m4: support building with
	GCC on ReliantUNIX; use AC_TRY_COMMAND for better diagnostic

2001-03-06  Oliver Kiddle  <opk@zsh.org>

	* unposted: Completion/User/.distfiles, Completion/User/_webbrowser:
	include _w3m and don't complete w3m with _webbrowser

2001-03-06  Clint Adams  <schizo@debian.org>

	* unposted: Completion/User/_w3m: complete for w3m.

2001-03-06  Bart Schaefer  <schaefer@zsh.org>

	* 13583: Test/54compmatch.ztst: Tweak doc strings for accuracy.

2001-03-06  Sven Wischnowsky  <wischnow@zsh.org>

	* 13576: Src/lex.c, Src/parse.c: make the parser use real memory
 	for the ecbuf to avoid having hrealloc() throw away lots of memory
	
	* 13575: Src/Zle/compmatch.c: another fix for completion matching,
 	CLF_MISS in the wrong cline struct
	
2001-03-06  Andrej Borsenkow  <bor@zsh.org>

	* 13544, 13568 (Peter): Completion/Core/_ignored,
	Completion/Core/_main_complete, Completion/Core/_prefix,
	Completion/Core/compinstall, Doc/Zsh/compsys.yo: allow
	matchers in matcher-list to augment as well as replace
	previous matcher list

	* unposted: Etc/CONTRIBUTORS: use zsh.org mail address (courtesy
	of Geoff) for me :-)

2001-03-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 13566: Completion/Builtins/_aliases, Completion/Core/_expand_alias,
 	Doc/Zsh/compsys.yo: new _expand_aliases to, well, expand aliases
	
	* 13565: Src/Zle/compmatch.c, Src/Zle/compresult.c,
 	Test/54compmatch.ztst: fix for matching control, try harder to
 	merge separately completed parts to avoid losing user-typed
 	characters
	
2001-03-04  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Unposted: Etc/FAQ.yo: latest version.

	* Unposted: Etc/NEWS, Etc/CONTRIBUTORS: changes aimed at 4.0.1
	release.

2001-02-28  Bart Schaefer  <schaefer@zsh.org>

	* users/3649: Completion/Commands/_bash_completions,
	Completion/Commands/_complete_debug,
	Completion/Commands/_complete_help,
	Completion/Commands/_correct_word,
	Completion/Commands/_expand_word,
	Completion/Commands/_history_complete_word,
	Completion/Commands/_next_tags: Same as 13555 below, but for all
	the other places where $_comp_options was referenced.

2001-02-28  Oliver Kiddle  <opk@zsh.org>

	* 13555: Completion/Core/_main_complete: handle ksh_arrays on the
	setopt line to fix problem from users/3648

2001-02-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 13554: Completion/Core/compinit, Doc/Zsh/options.yo, Src/lex.c,
 	Src/options.c, Src/zsh.h, Src/Zle/compcore.c, Src/Zle/compctl.c,
 	Src/Zle/zle_tricky.c: add `aliases' option to be able to disable
 	alias expansion
	
2001-02-26  Sven Wischnowsky  <wischnow@zsh.org>

	* 13536: Completion/Base/_sub_commands, Completion/Core/_normal,
 	Completion/User/_apachectl, Completion/User/_init_d: some small
 	functions for completing sub-commands (generic function, init
 	scripts, apachectl)
	
	* 13534: Completion/Builtins/_fc, Completion/Builtins/_hash,
 	Completion/Builtins/_source, Completion/Builtins/_which,
 	Completion/Builtins/_zftp, Completion/User/_man,
 	Completion/User/_nedit: change $words[1] to $service in some more
 	places
	
	* 13530: Src/hist.c: properly restore noaliases in bufferwords()
	
2001-02-22  Peter Stephenson  <pws@csr.com>

	* 13520: Completion/Builtin/_vars_eq: use $service to decide
	on service; shorten description to avoid dreaded 80-character
	redisplay bug.

2001-02-20  Sven Wischnowsky  <wischnow@zsh.org>

	* 13509: Src/jobs.c: more (|un)queue_signals(), this time for the
 	job control builtins
	
2001-02-19  Peter Stephenson  <pws@csr.com>

	* Alexandre: 13280: Doc/Zsh/expn.yo, Src/hist.c, Src/string.c,
	  Src/system.h:  More sh-like and path-like handling of colon
	  modifiers.

2001-02-17  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* unposted: Doc/Zsh/metafaq.yo: site name change from Geoff.

	* 13497: Src/pattern.c: `?##' didn't work.

2001-02-16  Bart Schaefer  <schaefer@zsh.org>

	* 13495: Follow-up to 13492 to un-break "${(A)=foo=$@}".

2001-02-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 13494: Completion/Core/compinit: make `compdef foo=bar' use the
 	service defined for `bar' if there is any
	
2001-02-16  Bart Schaefer  <schaefer@zsh.org>

	* 13492: Src/subst.c: Partial fix for ${1+"$@"} expanding to
	an array (still doesn't handle shwordsplit properly); fix so
	"${(A)foo=$@}" does *not* expand to an array, even though an
	array is assigned to $foo.

2001-02-14  Clint Adams  <schizo@debian.org>

	* unposted: Src/params.c: remove unused variable declaration.

	* 13478: Src/builtins.c: don't call dyncat with a NULL argument.

2001-02-14  Peter Stephenson  <pws@csr.com>

	* 13473: Makefile.in, Doc/Zsh/options.yo: small changes suggested
	in zsh-users/3524 for CSH_NULL_GLOB description and 13245 for
	cleaning config.modules.

2001-02-14  Clint Adams  <schizo@debian.org>

	* 13323: Functions/Zle/edit-command-line: handle
	multi-line buffers.

2001-02-13  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 13431: aczsh.m4,configure.in,Src/Modules/termcap.c,
	Src/Modules/termcap.mdd,Src/Modules/terminfo.c,
	Src/Modules/terminfo.mdd,Src/mkmakemod.sh: hopefully better
	check for shared libraries. Link in termcap/terminfo statically
	if shared libtermcap/libcurses unavailable

2001-02-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 13462: Src/Modules/zpty.c: try to make the -t option of zpty
 	smarter
	
	* 13459: Completion/Core/_path_files: wehn using glob_complete,
 	don't treat everything starting with a tilde as a pattern
	
2001-02-12  Bart Schaefer  <schaefer@zsh.org>

	* 13457: Completion/Core/compinit: Add `glob' to $_comp_options.

2001-02-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 13450: Completion/Core/_multi_parts: two small fixes to
 	_multi_parts; one more place where a caller-supplied -S can be
 	used and fix for the code deciding which prefix to use
	
2001-02-08  Oliver Kiddle  <opk@zsh.org>

	* 13448: Completion/User/.distfiles, Completion/User/_tin,
	Completion/User/_netscape, Completion/User/_newsgroups:
	add newsgroup completion

	* 13445: Completion/User/_gzip: fix to work for zcat again

2001-02-07  Bart Schaefer  <schaefer@zsh.org>

	* 13442: Test/Makefile.in, Test/comptest: Run zsh with +Z to
	prevent ZLE modules from being loaded before $module_path is
	changed to point at the test installation.

	* 13439: Test/Makefile.in: "make test" cleans up after killed
	tests.

2001-02-02  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* unposted: Src/mkmakemod.sh: patterns in 13412 were wrong.

2001-02-02  Sven Wischnowsky  <wischnow@zsh.org>

	* Peter: 13427: Completion/Core/_expand: fix for handling quoting
 	for filenames with weird characters

2001-02-01  Oliver Kiddle  <opk@zsh.org>

	* 13422: README, Completion/User/_urls, Doc/Zsh/manual.yo,
	Doc/Zsh/metafaq.yo, Etc/CONTRIBUTORS: refer to just sunsite.dk
	instead of sunsite.auc.dk

	* 13420: Completion/User/_tin: new completion function for tin

2001-01-31  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 13412: Src/mkmakemod.sh: avoid duplicate subdirectories in
	recursive build

2001-01-29  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* unposted: ChangeLog: typo in previous commit message

2001-01-28 Felix Rosencrantz  <f_rosencrantz@yahoo.com>

	* 13395: Test/54compmatch.ztst, Test/comptest: Added code to
	test compstate[insert_positions], value of insert_positions are
	now reported

2001-01-26  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 13389: Src/builtin.c: on Cygwin convert path to posix form in
	cd_do_chdir() to avoid dealing with drives letters

2001-01-25  Sven Wischnowsky  <wischnow@zsh.org>

	* 13388: Src/Zle/compmatch.c: fix for mergin two CLF_MID entries
 	in cline lists (with two equal prefixes it thought there were
 	characters missing)
	
	* 13384: Src/signals.c: make signal queueing variables be exported
 	to modules
	
2001-01-19  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 13370 (modified): Src/params.c: do not modify environment when
	importing it - some library functions may access it. When importing
	colon arrays, replenv() tried to free unallocated memory. Remove
	replenv() as it is now redundant.

	* 13380: configure.in: replace AC_CHECK_LIB(...,tgetent) with
	AC_SEARCH_LIBS(tgetent,...) to allow user to override default
	library selection

2001-01-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 13374: Src/Zle/compcore.c, Src/Zle/compctl.c, Src/Zle/complist.c,
 	Src/Zle/compresult.c, Src/Zle/zle_main.c, Src/Zle/zle_tricky.c:
 	temporarily allow recursive completion when called from menu
 	selection

2001-01-18  Peter Stephenson  <pws@csr.com>

	* 13302: Functions/Zftp/zftp_progress: division by zero

2001-01-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 13365: Src/builtin.c, Src/exec.c, Src/glob.c, Src/hashtable.c,
 	Src/hist.c, Src/init.c, Src/input.c, Src/jobs.c, Src/math.c,
 	Src/mem.c, Src/module.c, Src/params.c, Src/parse.c, Src/prompt.c,
 	Src/signals.c, Src/signals.h, Src/subst.c, Src/utils.c,
 	Src/watch.c, Src/Modules/zftp.c, Src/Modules/zpty.c,
 	Src/Modules/zutil.c, Src/Zle/compcore.c, Src/Zle/complist.c,
 	Src/Zle/computil.c, Src/Zle/zle_main.c, Src/Zle/zle_tricky.c:
 	remove 13108 (trap queues); replace with signal queueing to ensure
 	that user signal handlers are only executed when it is safe to run
 	them
	
	* 13364: Src/Zle/compctl.c: fix for ol' compctl when completing
 	hash keys
	
2001-01-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 13349: Src/Zle/compmatch.c, Src/Zle/compresult.c: two more fixes
 	for completion matching and reporting interesting positions
	
	* Ulrik Haugen: 13344, 13347: Completion/User/_grep,
	Completion/User/_ls, Completion/User/_use_lo: add completion for
	ls and ([ef]|)grep
	
	* 13346: Completion/Bsd/_bsd_pkg, Completion/Bsd/_kld,
 	Completion/Core/_compalso, Completion/Core/_complete,
 	Completion/Core/_normal, Completion/Core/compdump,
 	Completion/Core/compinit, Completion/Debian/_apt,
 	Completion/Debian/_bug, Completion/Debian/_dpkg,
 	Completion/User/_bzip2, Completion/User/_chown,
 	Completion/User/_compress, Completion/User/_dvi,
 	Completion/User/_gzip, Completion/User/_imagemagick,
 	Completion/User/_ispell, Completion/User/_java,
 	Completion/User/_lp, Completion/User/_make,
 	Completion/User/_mount, Completion/User/_mysql_utils,
 	Completion/User/_pack, Completion/User/_pbm,
 	Completion/User/_psutils, Completion/User/_rcs,
 	Completion/User/_rlogin, Completion/User/_ssh,
 	Completion/User/_tiff, Completion/User/_yp, Completion/X/_xutils,
 	Doc/Zsh/compsys.yo: add `services', allowing easier re-use of
 	(parts of) completion functions (see also: 12977)
	
2001-01-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 13343: Src/Zle/compmatch.c, Src/Zle/compresult.c: fix for 13339
 	(report each position only once) and fixlet for matching: a case
 	where missing characters weren't remembered
	
2001-01-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 13339: Doc/Zsh/compwid.yo, Doc/Zsh/contrib.yo,
 	Functions/Zle/cycle-completion-positions, Src/Zle/comp.h,
 	Src/Zle/complete.c, Src/Zle/compresult.c: add
 	unambiguous_positions and insert_positions keys to $compstate; use
 	them in the new cycle-completion-positions shell function widget

2001-01-10  Geoff Wing  <gcw@zsh.org>

	* unposted: Etc/MACHINES: format leading spaces to tabs

2001-01-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 13336: Src/Zle/compmatch.c, Src/Zle/compresult.c,
 	Test/54compmatch.ztst: fix cursor positioning with partial-word
 	match specs using `**'
	
2001-01-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 13331: Src/Zle/compcore.c, Src/Zle/compresult.c: fix for
 	listpacked for matches as long as screen is wide (minus added
 	spaces); more security when freeing matches: make sure current
 	menu match pointer isn't used afterwards
	
2001-01-07  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13327: Etc/MACHINES: builds out of the box on SCO UnixWare
	2.1.3, reported by Josip Rodin <joy@cibalia.gkvk.hr>.

2000-12-27  Clint Adams  <schizo@debian.org>

	* 13315: Completion/User/_killall: strip parentheses and
	path heads.

	* 13314: Completion/User/_killall: ignore commands that begin
	with hyphens (login shells).

2000-12-26  Clint Adams  <schizo@debian.org>

	* 13312: Completion/User/_killall: get longer command names
	from procps.

2000-12-23  Clint Adams  <schizo@debian.org>

	* unposted: configure.in: thinko in jobtable size determination.

	* Chip Salzenberg: 13310: Completion/Debian/_apt:
	correct typo for apt-cache completion.

2000-12-17  Bart Schaefer  <schaefer@zsh.org>

	* Zefram: 13290: Src/Zle/zle_bindings.c, Src/Zle/zle_keymap.c:
	Back out 13285.

2000-12-17  Clint Adams  <schizo@debian.org>

	* 13288: Src/Modules/zftp.c: cast pointers when calling
	ztrapread and ztrapwrite.

	* 13287: Completion/Debian/_dpkg: complete multiple
	arguments for -i.

2000-12-16  Clint Adams  <schizo@debian.org>

	* unposted: Completion/User/.distfiles: add _mere

	* 13285: Src/Zle/zle_bindings.c, Src/Zle/zle_keymap.c:
	use vi-up-line-or-history and vi-down-line-or-history in
	the vicmd keymap (rather than their emacsy counterparts).

2000-12-15  Tanaka Akira  <akr@zsh.org>

	* 13281: Functions/Misc/mere: new implementation.
	Completion/User/_mere: new completion function for mere.

2000-12-13  Clint Adams  <schizo@debian.org>

	* 13250: Completion/User/.distfiles, Completion/User/_dict:
	completion for dict.

2000-12-06  Peter Stephenson  <pws@csr.com>

	* unposted: Src/jobs.c: rename waitjob() to zwaitjob() to avoid
	clash with IRIX system function.

2000-12-06  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 13243: Makefile.in: we do not use Makefile in Completion and
	Functions any more.

2000-12-05  Clint Adams  <schizo@debian.org>

	* 13242: Src/Modules/terminfo.c: better error-checking
	for non-existent capabilities referenced by $terminfo.

2000-12-05  Peter Stephenson  <pws@csr.com>

	* unposted: Config/version.mk: 3.1.9-dev-8.

	* 13233, 13234: Src/Modules/terminfo.mdd, Src/Modules/terminfo.c:
	fix name for configure variable; don't crash on Solaris if
	capability not found.

	* Joel Smith <jsmith@caldera.com>: 13230: Src/exec.c, Src/glob.c,
	Src/lex.c, Src/parse.c, Src/text.c, Src/zsh.h: avoid name clashes
	with Linux kernel.

2000-12-04  Bart Schaefer  <schaefer@zsh.org>

	* 13229: Doc/Makefile.in: Include mod_term*.yo in MODDOCSRC.

2000-12-04  Clint Adams  <schizo@debian.org>

	* 13227: configure.in, Src/Modules/terminfo.c,
	Src/Modules/terminfo.mdd: do not build terminfo
	module if tigetstr() is not found in the same library
	as tgetent(), indentation fix, use tputs() in echoti
	builtin for outputting string capabilities, use
	setupterm() for module boot.

2000-12-04  Peter Stephenson  <pws@csr.com>

	* 13226: configure.in, Config/defs.mk, Config/installfns.sh,
	Config/uninstallfns.sh, Src/zsh.mdd: fix --enable-function-subdirs
	for config.modules system; make Completion get its own functions
	subdirectory; tidy up other related bits.	

	* 13220: Doc/Zsh/params.yo: mention problems with $# e.g. `$#-'
	in arithmetic.

2000-12-03  Clint Adams  <schizo@debian.org>

	* 13216: Doc/Zsh/.distfiles, Doc/Zsh/builtins.yo,
	Doc/Zsh/mod_termcap.yo, Doc/Zsh/mod_terminfo.yo,
	Src/Modules/.distfiles: documentation for 13215.

	* 13215: Src/builtin.c, Src/Modules/termcap.c,
	Src/Modules/termcap.mdd, Src/Modules/terminfo.c,
	Src/Modules/terminfo.mdd: move echotc builtin to termcap
	module, add echoti builtin and terminfo parameter in
	terminfo module.

2000-11-30  Peter Stephenson  <pws@csr.com>

	* 13209: Makefile.in, configure.in, Config/funcinst.mk,
	Config/installfns.sh, Config/uninstallfns.sh, Src/zsh.mdd,
	Src/Modules/zftp.mdd, Src/Zle/complete.mdd, Src/Zle/zle.mdd:
	function installation information is now in config.modules.

2000-11-27  Bart Schaefer  <schaefer@zsh.org>

	* 13203: Completion/Builtins/_zstyle: Add missing quote.

2000-11-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 13199: .cvsignore, Completion/User/_gprof: pattern-fix in
 	_gprof; add config.modules to .cvsignore
	
2000-11-27  Peter Stephenson  <pws@csr.com>

	* 13197: configure.in: fix problems with use of link parameter,
	directories for reading old config.modules file, and inconsistent
	values for auto parameter.

	* 13196: Etc/zsh-development-guide: Use of `either' keyword for
	`link' module parameter.

2000-11-26  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13194: INSTALL, configure.in, Config/defs.mk.in,
	Etc/zsh-development-guide, Src/.distfiles, Src/Makefile.in,
	Src/Makemod.in.in, Src/mkbltnmlst.sh, Src/mkmakemod.sh,
	Src/zsh.mdd, Src/Builtins/rlimits.mdd, Src/Builtins/sched.mdd,
	Src/Modules/cap.mdd, Src/Modules/clone.mdd,
	Src/Modules/example.mdd, Src/Modules/files.mdd,
	Src/Modules/mapfile.mdd, Src/Modules/mathfunc.mdd,
	Src/Modules/parameter.mdd, Src/Modules/stat.mdd,
	Src/Modules/zftp.mdd, Src/Modules/zprof.mdd, Src/Modules/zpty.mdd,
	Src/Modules/zutil.mdd, Src/Zle/compctl.mdd, Src/Zle/complete.mdd,
	Src/Zle/complist.mdd, Src/Zle/computil.mdd, Src/Zle/deltochar.mdd,
	Src/Zle/zle.mdd, Src/Zle/zleparameter.mdd: New module
	configuration system using file config.modules set up by
	configure.

2000-11-25  Bart Schaefer  <schaefer@zsh.org>

	* 13192: Completion/Core/compinit, Src/params.c: Turn off
	ALL_EXPORT during completion; don't export arrays or hashes, even
	with ALL_EXPORT.

2000-11-22  Tanaka Akira  <akr@zsh.org>

	* 13181: Completion/Debian/_apt: add an action for _alternative.

2000-11-20  Bart Schaefer  <schaefer@zsh.org>

	* E. Jay Birkenbilt: 13171, 13172: Completion/User/_rlogin,
	Completion/User/_ssh: Don't autoremove a trailing `:' after
	completing a host name, but do autoremove a trailing `@' after
	completing a user name.

2000-11-15  Bart Schaefer  <schaefer@zsh.org>

	* 13167: Completion/User/_perl_modules: Avoid cd entirely.

2000-11-14  Bart Schaefer  <schaefer@zsh.org>

	* 13165 plus unposted: Completion/User/_perl_modules: `builtin cd'
	is better than chdir; make sure the variable name used for the cache
	has a leading underscore, but strip that off to get the name under
	which the cache is stored and retrieved; cache separately for each
	command basename (e.g., perl5.00405 v. perl5.00503), not just each
	full path name.
	
	* Paul Johnson: 13164: Completion/User/_perl_modules: If a full
	path was given for the command after which perl modules are being
	completed, look up and cache the modules under the full name; use
	chdir instead of cd in case of a function wrapper for cd.

2000-11-14  Sven Wischnowsky  <wischnow@zsh.org>

	* 13163: Src/Modules/zpty.c: don't be sure that read-ahead doesn't
 	contains nuls
	
2000-11-13  Peter Stephenson  <pws@csr.com>

	* unposted: config.sub, config.status: updated from GNU sources,
	incorporating existing changes for NetBSD.

2000-11-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 13156: Src/Modules/zpty.c: use unmetafy() to allow writing
 	special characters into a pty
	
2000-11-12  Clint Adams  <schizo@debian.org>

	* unposted: Completion/Debian/_bug: fix thinkos, add new options
	for reportbug.

	* unposted: Completion/Debian/_bug: complete files for --include=,
	completion for querybts.

2000-11-11  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13109, 13111: Doc/Zsh/mod_zle.yo, Src/Zle/zle_main.c,
	Src/Zle/zle_thingy.c, Src/signals.c: `zle -I' allows trap code
	to clear up display when output occurs in a trap.

	* Sven: 13108: Src/Modules/zftp.c, Src/Modules/zpty.c,
	Src/Zle/zle_main.c, Src/builtin.c, Src/exec.c, Src/init.c,
	Src/input.c, Src/jobs.c, Src/signals.c, Src/signals.h,
	Src/utils.c, Src/zsh.h: Execute user traps synchronously if it is
	unsafe to execute it directly from the signal handler.

2000-11-09  Clint Adams  <schizo@debian.org>

	* 13125: Completion/User/_mailboxes: evaluate the mailboxes
	directives in muttrc, in case of backticks.

2000-11-08  Bart Schaefer  <schaefer@zsh.org>
	* 13140: Src/utils.c: Believe the non-error not-ready return value
	from select(), in read_poll().
	
2000-11-08  Sven Wischnowsky  <wischnow@zsh.org>

	* unposted: Src/Modules/zpty.c: use possible read character from
	read_poll() in loop in ptyread()

	* 13128: Completion/Builtins/_zstyle, Completion/Core/_match,
 	Completion/Core/_path_files, Doc/Zsh/compsys.yo: aloow value
 	`pattern' for insert-unambiguous style to preserve patterns in the
 	original string; add list-suffixes style to make file completion
 	list path suffixes if possible; slightly improved completion of
 	pathnames with multiple pattern-components

2000-11-06  Bart Schaefer  <schaefer@zsh.org>

	* 13127: Completion/User/_rcs: Test of $compstate[nmatches] was a
	no-op, removed it.

2000-11-05  Bart Schaefer  <schaefer@zsh.org>

	* 13124: Functions/Misc/nslookup: Use "command nslookup" as it's
	now possible to call the nslookup function recursively from zpty.

	* unposted: Src/Modules/zpty.c: Cloned shell is non-interactive
	for purposes of calling zexit(), so it doesn't print job status,
	save history, etc.

	* 13123: Doc/Zsh/mod_zpty.yo, Src/utils.c, Src/Modules/zpty.c:
	Change `zpty' to act as a combination of `clone' and `eval', to
	remove the limitation that only external commands can be run on
	the pty.  Also fix typos in utils.c.

	* 13120: Doc/Zsh/mod_zpty.yo, Functions/Misc/nslookup,
	Src/utils.c, Src/Modules/zpty.c: Merge Sven's uncommitted patch
	from 13061 with 13116.  WARNING: This reverses the meaning of
	`zpty -b'; the default is now blocking, -b selects non-blocking.
	Fix nslookup accordingly.  Clean up read_poll() somewhat.
	Document that `zpty -w' and `zpty -r' can stream to/from the pty.

2000-11-04  Bart Schaefer  <schaefer@zsh.org>

	* 13118: Completion/Core/compinit: Add `bareglobqual' to the
	standard setopts for the completion system.

	* 13116: Src/Modules/zpty.c: More informative error output; better
	streaming behavior of `zpty -r'; prevent hang on `zpty -t' when
	the command was started with `zpty -b'.

2000-11-02  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3503: Doc/Zsh/mod_parameter.yo, Src/jobs.c,
	Src/Modules/parameter.c: show current/previous job in $jobstates

2000-11-01  Sven Wischnowsky  <wischnow@zsh.org>

	* 13107: Functions/Misc/zed: don't reset just-edited trap function
 	to old value

2000-10-30  Sven Wischnowsky  <wischnow@zsh.org>

	* 13095: Src/Modules/parameter.c: make assignament to $nameddirs
 	behave like hash -d

2000-10-25  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3472: Completion/User/_rcs: use return value of _files,
	don't use ${PRE,SUF}FIX for globbing, complete all files as a
	default for "co"

	* 13084: Src/Zle/complist.c: re-display list for cleanup only if
 	we were in menu selection

	* 13082: Src/Zle/complist.c, Src/Zle/compresult.c: add a counter
 	for invalidatelist() to allow finding out if there is a new list

2000-10-24  Sven Wischnowsky  <wischnow@zsh.org>

	* 13071: Src/Zle/complist.c, Src/Zle/compresult.c: avoid printing
 	file type characters in completion lists for matches ending in a
 	slash

2000-10-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 13037: Completion/Core/_path_files, Doc/Zsh/compsys.yo: change
 	some tags used in filename completion: no tag for file-sort,
 	fake-files and ignore-parents, paths for accept-exact

2000-10-21  Bart Schaefer  <schaefer@zsh.org>

	* 13057: Src/Zle/zle_main.c: `vared -h' should not imply `vared -e';
	use of -e should override the setting of the IGNOREEOF option.
	(The -e flag was added by zsh-workers/9396, for 3.1.6-dev-16.)

2000-10-20  Bart Schaefer  <schaefer@zsh.org>

	* 13055: Src/hist.c, Src/Zle/zle_main.c: Fix `vared -h' for non-
	interactive shells (scripts).

2000-10-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 13036: Completion/Commands/_bash_completions,
 	Completion/Commands/_complete_debug,
 	Completion/Commands/_complete_help,
 	Completion/Commands/_correct_word,
 	Completion/Commands/_expand_word,
 	Completion/Commands/_history_complete_word,
 	Completion/Commands/_next_tags, Completion/Core/_main_complete,
 	Completion/Core/compinit: simplify setting standard completion
 	system options using $_comp_options

	* 13035: Doc/Zsh/mod_zpty.yo, Functions/Misc/nslookup, Src/utils.c,
 	Src/Modules/zpty.c, Test/comptest: make non-blocking IO on ptys
 	work again; add -t option to test if command is still alive

2000-10-19  Wayne Davison  <wayned@users.sourceforge.net>

	* 13034: Src/hist.c: Don't call histreduceblanks() if the line
	didn't parse right.

2000-10-17  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Functions/Misc/zmv: Small typo in example in comment.

2000-10-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 13005: Src/Zle/computil.c: make _arguments ignore unspecified
 	non-option arguments to the right of the cursor

2000-10-17  Peter Stephenson  <pws@csr.com>

	* Config/version.mk, Functions/Zle/.distfiles,
	Completion/Core/.distfiles: 3.1.9-dev-7

	* Functions/Misc/zmv: in verbose mode, report if something was
	skipped because it didn't change.

2000-10-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 13003: Test/54compmatch.ztst: add tests for the stuff in 12995

2000-10-13  Bart Schaefer  <schaefer@zsh.org>

	* 13000: Doc/Zsh/jobs.yo: Document tty restoration when a stopped
	job is resumed with fg.  This was previously documented only under
	the STTY parameter, but it applies to all stopped jobs.

2000-10-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 12995: Src/Zle/compmatch.c: two completion matching fixes; wrong
 	(path) prefix matching (removed path components) and reverse order
 	of sub-strings in match-strings

2000-10-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 12974: Completion/Core/_tags, Completion/Core/_sort_tags,
	Doc/Zsh/compsys.yo: remove possibility for func() entries in
	tag-order style, can be done using zstyle -e

	* 12954, 12973: Completion/Builtins/_zstyle,
	Completion/Core/_path_files, Doc/Zsh/compsys.yo: rename fake style
	to fake-files

2000-10-11  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 12958: Cosmo <cosmo@informix.com>: aczsh.m4: fix for NCR compiler

2000-10-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 12960: Completion/Builtins/_zstyle, Completion/Commands/_expand_word,
 	Completion/Core/_all_matches, Completion/Core/_expand,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Src/Zle/comp.h,
 	Src/Zle/compcore.c, Src/Zle/complete.c, Src/Zle/complist.c,
 	Src/Zle/compresult.c:add _all_matcher completer and supporting
 	C-code for adding a special match representing all other matches;
 	remove completions style from _expand(|_word)

	* 12959: Src/Zle/compcore.c, Src/Zle/complist.c: make user defined
 	completion widgets leave menu selection without accepting the
 	currently selected match

2000-10-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 12948: Completion/Core/_expand: follow-up to 12942, only a
 	missing redirection

	* 12946: Completion/Base/_math, Completion/Base/_subscript,
 	Completion/Builtins/_vars, Completion/Builtins/_zstyle,
 	Completion/Core/_parameters, Doc/Zsh/compsys.yo: add
 	fake-parameters style to allow completing parameters which are not
 	yet set

	* 12942,12945: Completion/Core/_expand: temporarily remove global
 	aliases to avoid error message inside the evals

	* 12941: Src/Zle/compmatch.c: follow-up to 12930, make it first
 	try exact character matches, but enable it to go back to try match
 	specs if it fails after accepting such character matches

2000-10-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 12930: Src/Zle/compmatch.c: prefer exact character matches over
 	match specs (so that `nom' can match `nomatch' in _options)

2000-10-06  Sven Wischnowsky  <wischnow@zsh.org>

	* 12919: Completion/User/_tiff, Completion/X/_xv: search for *.tif
 	files, too

	* 12917: Completion/Bsd/_bsd_pkg, Completion/Bsd/_kld,
 	Completion/Builtins/_autoload, Completion/Builtins/_cd,
 	Completion/Builtins/_compdef, Completion/Builtins/_popd,
 	Completion/Core/_expand, Completion/Core/_path_files,
 	Completion/Linux/_rpm, Completion/User/_gcc, Completion/User/_gdb,
 	Completion/User/_mailboxes, Completion/User/_man,
 	Completion/User/_perl_modules, Completion/User/_printers,
 	Completion/User/_zdump: more option setting cleanup; remove some
 	unnecessary setopts, remove N qualifiers

2000-10-05  Bart Schaefer  <schaefer@zsh.org>

	* 12912: Completion/Commands/_bash_completions,
	Completion/Commands/_complete_debug,
	Completion/Commands/_complete_help,
	Completion/Commands/_correct_word,
	Completion/Commands/_expand_word,
	Completion/Commands/_history_complete_word,
	Completion/Commands/_next_tags, Completion/Core/_main_complete:
	Other places where `unsetopt cshnullglob' is needed.

2000-10-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 12901: Doc/Zsh/compwid.yo, Doc/Zsh/manual.yo: cleanup for 12896

	* 12899: Completion/Core/_main_complete: unset cshnullglob

	* 12898: Src/parse.c: don't return invalid Eprog after parse error

	* 12897: Src/Zle/computil.c: comparguments: don't use
 	rest-argument-specification if it was inactivated

	* 12896: Doc/Zsh/arith.yo, Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo,
 	Doc/Zsh/func.yo, Doc/Zsh/mod_complist.yo: cleanup

	* 12892: Completion/Core/_files, Completion/Core/_path_files,
 	Doc/Zsh/compsys.yo, Doc/Zsh/expn.yo: complete after automounted
 	directories (a rather ugly hack); remove old code in _files (comma
 	separated patterns); improve docs for fake style and for comma
 	separated qualifier lists

2000-10-04  Tanaka Akira  <akr@zsh.org>

	* 12886: Completion/User/_cvs: make _cvs_vendor_branches to handle
	remote-access style.

2000-10-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 12885: Src/Zle/zle_tricky.c: don't stop parsing too early when
 	completing inside a command substitution

	* 12884: Src/Zle/compcore.c: don't forget a displayed list when
 	starting menu completion

2000-10-04  Tanaka Akira  <akr@zsh.org>

	* 12872: Completion/User/_cvs: Fix modules completion when a cvsroot
	specified in a command line begins with tilde.  Generate subcommand
	list from `cvs --help-commands' and `cvs --help-synonyms'.  Complete
	remote modules. Complete vendor branch for a second argument of
	`cvs import'.  Use _call.

2000-10-02  Bart Schaefer  <schaefer@zsh.org>

	* 12869: Src/builtin.c, Src/exec.c, Src/glob.c, Src/signals.c,
	Src/utils.c: Change several zerr() to zwarn(), either because
	errflag was immediately cleared after calling zerr(), or to make
	builtin commands fail normally (with nonzero exit status) rather
	than aborting all the way back to top level.

2000-10-01  Clint Adams  <schizo@debian.org>

	* unposted: Src/Zle/compresult.c: remove unused variable declaration.

2000-09-27  Clint Adams  <schizo@debian.org>

	* 12863: Src/string.c, Src/Zle/compresult.c: remove ztrdupstring(),
	fold guts back into ztat(), change memory allocation to VARARR.

2000-09-25  Bart Schaefer  <schaefer@zsh.org>

	* 12862: Src/exec.c: Fix STTY parameter to match documentation.
	(Plus unposted addition at the end of execcmd() to clear STTYval.)

2000-09-22  Clint Adams  <schizo@debian.org>

	* 12860: Src/jobs.c: don't check length against PATH_MAX or
	truncate.

	* 12859: Src/string.c, Src/Zle/compresult.c:
	dynamically allocate buffer in ztat, remove
	duplication loop to ztrdupstrip().

2000-09-20  Bart Schaefer  <schaefer@zsh.org>

	* 12851, 12852: Completion/Commands/_expand_word,
	Completion/Core/_expand, Doc/Zsh/compsys.yo: Change the way the
	completers are selected for _expand_word; clarify and update doc.

2000-09-20  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 12848: Doc/Zsh/zle.yo: Alphabetize list of parameters

	* 12842 with corrections of Bart: Doc/Zsh/contrib.yo: Clarify
	digest file usage.

2000-09-19  Clint Adams  <schizo@debian.org>

	* 12847: Src/builtin.c: dynamically allocate z and buf in
	bin_whence().

	* 12846: Src/.distfiles, Src/mem.c, Src/string.c, Src/utils.c,
	Src/zsh.mdd: Move dupstring(), ztrdup(), tricat(), zhtricat(),
	dyncat(), dupstrpfx(), ztrduppfx(), and appstr() to string.c.

	* 12845: Src/Modules/files.c: dynamically allocate pbuf in domove().

2000-09-18  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 12835: Doc/Zsh/compwid.yo: Alphabetize list of special parameters

2000-09-18  Clint Adams  <schizo@debian.org>

	* 12836: Src/Modules/files.c: use ztrdup()/appstr() in lieu of
	statically-allocated buffer in bin_ln.

2000-09-18  Bart Schaefer  <schaefer@zsh.org>

	* 12833: Back out the zasprintf changes from 12814, they're not
	being used any more and they break common builds like SunOS.

2000-09-17  Bart Schaefer  <schaefer@zsh.org>

	* 12829: Src/glob.c, Src/init.c, Src/utils.c: Move dyncat() and
	tricat() to utils.c; rewrite 12814, 12818, 12827 and 12828 for
	less allocation-intensive behavior.

2000-09-18  Clint Adams  <schizo@debian.org>

	* 12828: Src/utils.c: dynamically allocate 'dir' in mailstat.

	* 12827: Src/utils.c: dynamically allocate 'file' in mailstat.

2000-09-17  Clint Adams  <schizo@debian.org>

	* unposted: Src/system.h, Src/utils.c: define mailstat()
	as a macro if MAILDIR_SUPPORT is undefined.

	* 12823: Src/builtin.c, Src/utils.c: use zsh heap instead of
	permanent heap.

	* 12821: Src/builtin.c: bin_dot is now independent of PATH_MAX.

2000-09-16  Bart Schaefer  <schaefer@zsh.org>

	* 12817: Doc/Zsh/builtins.yo, Src/builtin.c: Give meaning to
	"typeset +m" and "typeset +g -m".

2000-09-16  Clint Adams  <schizo@debian.org>

	* 12818: Src/init.c: call tricat() instead of zasprintf()
	as inspired by Bart.

	* 12814: configure.in, Src/compat.c, Src/init.c, Src/system.h:
	implement zasprintf and use it in lieu of sprintf with a
	static buffer in sourcehome().

2000-09-15  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Doc/Zsh/contrib.yo: Missing hunk from 12765 (replace
	another use of "wordcode").

2000-09-14  Bart Schaefer  <schaefer@zsh.org>

	* 12804: Src/builtin.c: "typeset -m" implies "-g".

	* unposted: Completion/Commands/_complete_debug: Changed my mind
	about the edit to 12800.

2000-09-13  Bart Schaefer  <schaefer@zsh.org>

	* 12800: E. Jay Berkenbilt: Completion/Commands/_complete_debug:
	Quote the file name pushed onto the history, in case the command
	word has strange characters in it.  (Slighty edited.)

2000-09-11  Bart Schaefer  <schaefer@zsh.org>

	* 12793: Completion/Builtins/_zle, Doc/Zsh/compwid.yo,
	Doc/Zsh/mod_zle.yo: Convert _zle to use _arguments; fix typos.

2000-09-08  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 12779: Src/system.h: Comment out #define _XPG_IV for sinix.
	It was not correct to set it here, and is not needed with
	currently supported versions. If anybody happens to run really
	outdated SINIX, we should add check for gettimeofday prototype
	instead.

2000-09-07  Bart Schaefer  <schaefer@zsh.org>

	* 12773: Doc/Zsh/contrib.yo, Functions/Zle/smart-insert-last-word:
	Add the smart-insert-last-word function from zsh-users/3272.
	Change "completion style" to "widget style" in a few places.

2000-09-07  Sven Wischnowsky  <wischnow@zsh.org>

	* 12769: Completion/Builtins/_cd: more sensible value

	* 12768: as suggested by Andrej (12767): Completion/Bsd/_bsd_pkg,
	Completion/Bsd/_kld, Completion/User/_gcc, Completion/User/_gdb,
 	Completion/User/_mailboxes, Completion/User/_zdump: stick some
 	`N's into glob patterns

2000-09-06  Bart Schaefer  <schaefer@zsh.org>

	* 12765,12766: Doc/Zsh/builtins.yo, Doc/Zsh/contrib.yo: Eliminate
	use of "wordcode".

2000-09-06  Peter Stephenson  <pws@csr.com>

	* 12762: Akinori MUSHA: configure.in, Completion/Bsd/_kld:
	changes for new FreeBSD releases.

2000-09-06  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 12761: Doc/ztexi.yo: `` was converted into " by makeinfo;
	use `@:` instead. In line, use `{}` for tex, this looks better
	in printed output.

	* unposted: aczsh.m4, conifgure.in:  Remove patch from 12686
	that was accidentally commited

2000-09-05  Bart Schaefer  <schaefer@zsh.org>

	* 12745: Doc/Zsh/contrib.yo: Add a cross-reference; include some
	comments about using completers with predict-on.

2000-09-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 12744: Doc/Zsh/contrib.yo, Doc/Zsh/mod_complist.yo,
 	Functions/Zle/incremental-complete-word: change context for i-c-w
 	styles, update docs

2000-09-04  Bart Schaefer  <schaefer@zsh.org>

	* 12742: Doc/.distfiles, Doc/Makefile.in, Doc/Zsh/.distfiles,
	Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo, Doc/Zsh/contrib.yo,
	Doc/Zsh/manual.yo, Doc/Zsh/zftpsys.yo, Doc/Zsh/zle.yo,
	Doc/zsh.yo, Doc/zshcontrib.yo, Functions/Prompts/promptinit,
	Functions/Zle/history-search-end, Functions/Zle/predict-on:
	Create new "User Contributions" chapter in the manual; move
	some items there from existing chapters; fix a few typos.
	Minor improvements to promptinit and history-search-end.
	Larger improvements to predict-on, including removing the
	`:completion' prefix from most of its style contexts.

2000-09-04  Peter Stephenson  <pws@csr.com>

	* 12741: Src/math.c: problem with nested matheval unexpectedly
	stomping on outputradix.

2000-09-04  Andrej Borsenkow  <Andrej.Borsenkow@mow.siemens.ru>

	* 12736: configure.in: Fix `make install' dependency
	for Cygwin static build

2000-09-04  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 3.1.9-dev-6

2000-09-04  Bart Schaefer  <schaefer@zsh.org>

	* 12733: Functions/Misc/colors: Restore `grey' and other
	accidentally-misplaced elements in the `fg*' and `bg*' arrays.

	* 12732: Src/params.c: Suppress base# prefix when base is 10 even
	if the [##base] format of 12722 was not used.

2000-09-03  Clint Adams  <schizo@debian.org>

	* 12728: Completion/User/_man: complete _files instead of
	manpages if -l or --local-file is present on the commandline.

2000-09-03  Bart Schaefer  <schaefer@zsh.org>

	* 12726,12727: Functions/Misc/zrecompile: Handle pass-through of
	all zcompile options.

2000-09-02  Bart Schaefer  <schaefer@zsh.org>

	* 12725: Util/helpfiles: Recognize more end-of-page patterns, and
	find the end of the builtins section correctly.

	* 12723: Util/reporter: Modernize variables and options handling;
	add zstyle to output.

2000-09-02  Andrew Main  <zefram@zsh.org>

	* 12722: Doc/Zsh/arith.yo, Src/math.c, Src/params.c: Allow
	[##base] as well as [#base]; the doubled # suppresses output
	of a base prefix.  Also clean up parsing of [] base-selection
	constructs.

2000-09-01  Bart Schaefer  <schaefer@zsh.org>

	* 12721: Functions/Misc/allopt: Remove "emulate" which changes the
	output of the function; other minor cleanup.

2000-08-30  Clint Adams  <schizo@debian.org>

	* 12720: Completion/Debian/_dpkg: change two instances of
	_files to _path_files to avoid completion of all-files.

2000-08-29  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 12719: Doc/Zsh/mod_zle.yo, Src/utils.c, Src/Zle/zle_main.c:
	handle quoting of separators in arrays when there might also be
	real backslashes around.

2000-08-29  Sven Wischnowsky  <wischnow@zsh.org>

	* 12717: Src/Zle/zle_tricky.c: fix for unbalanced calls to
 	{push,pop}heap in docomplete()/get_comp_string()

2000-08-28  Bart Schaefer  <schaefer@zsh.org>

	* 12716: Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
	Doc/Zsh/compsys.yo, Doc/Zsh/expn.yo, Doc/Zsh/grammar.yo,
	Doc/Zsh/mod_zutil.yo, Doc/Zsh/params.yo: Documentation and index
	entries for the REPLY and reply parameters, plus index entries for
	a couple of paramters used by the completion system.

2000-08-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 12710: Src/exec.c: fix for `function' without names

2000-08-27  Oliver Kiddle  <opk@zsh.org>

	* 12708: Completion/AIX/_logical_volumes: new AIX completion function

2000-08-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 12692: Alexandre: 12691; 12692: Completion/User/_gv,
	Completion/User/_pdf, Completion/User/_ps, Completion/User/_pspdf:
 	complete compressed files for gv; improve results from _pspdf

2000-08-21  Sven Wischnowsky  <wischnow@zsh.org>

	* 12682: Completion/Builtins/_zmodload: use return value

2000-08-18  Oliver Kiddle  <opk@zsh.org>

	* 12677: Completion/Builtins/_zmodload: use _arguments in _zmodload

2000-08-16  Peter Stephenson  <pws@csr.com>

	* unposted: Src/.distfiles: forgot this yet again.

	* pws/Andrej: 12594, 12661: Src/zsh.rc, Src/zsh.ico, Src/Makefile.in,
	configure.in: basic support for Windows resources including icon,
	will be built in for cygwin.

	* Andrej: 12658: .cvsignore, Src/.cvsignore: cscope ignorance.

2000-08-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 12654: Doc/Zsh/mod_parameter.yo, Src/Modules/parameter.c: make
 	$modules report aliases correctly

	* unposted: Completion/Builtins/_pids: remove unnecessary local parameter

2000-08-15  Peter Stephenson  <pws@csr.com>

	* 12650: Completion/Builtins/_zmodload: don't lists aliases if
	there aren't any.

2000-08-15  Bart Schaefer  <schaefer@zsh.org>

	* 12652: Src/module.c: Fix variable scoping problem that caused
	crash in `zmodload -u'.

2000-08-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 12640: Completion/Builtins/_pids, Completion/Builtins/_zstyle,
 	Doc/Zsh/compsys.yo: call ps only once and be more intelligent when
 	finding the PIDs

	* 12635: Completion/Builtins/_pids: small improvement to allow
 	lists where the pid is not in the first column

2000-08-14  Bart Schaefer  <schaefer@zsh.org>

	* Andrej: 12623: configure.in, Src/mkmakemod.sh, Src/zsh.h:  Fix
	dynamic linking on cygwin, again.

	* 12621: Src/Zle/zle_main.c: Use ztrdup() on a string that will
	later be freed; this appears to have been a bug ever since 9839.

	* Andrej: 12620: configure.in, Src/system.h: Fix cache variable
	test for mmap, remove cygwin special-case.

	* 12617: configure.in: Use AC_FUNC_MMAP rather than just test for
	existence of mmap.

	* Andrej: 12614: Test/53completion.ztst, Test/54compmatch.ztst,
	Test/55arguments.ztst: Add %clean sections to unload zpty module.

	* Andrej: 12614: Completion/Builtins/_zmodload: Add DLL to suffix
	list, for benefit of cygwin.

2000-08-14  Sven Wischnowsky  <wischnow@zsh.org>

	* Andrej: 12613: Src/lex.c: missing mod_export

	* 12610: Src/Zle/computil.c: make all builtins in computil test if
 	they were called from a completion function

2000-08-13  Bart Schaefer  <schaefer@zsh.org>

	* 12604: Src/compat.c, Src/system.h, Src/Modules/files.c,
	Src/Modules/parameter.c: Remove calls to zpathmax(); fix some
	serious errors in zpathmax() but wrap it in #if 0 anyway; minor
	fixes to comments and coding style for zopenmax().

	* 12601: aczsh.m4, configure.in: configure --enable-cflags and the
	like, i.e., with no =... part, should preserve the environment
	values for CFLAGS etc. rather than erase them.

2000-08-11  Peter Stephenson  <pws@csr.com>

	* 12598: INSTALL, aczsh.m4, configure.in: --enable-cppflags=...,
	--enable-cflags=..., --enable-ldflags=..., --enable-libs=...

2000-08-11  Bart Schaefer  <schaefer@zsh.org>

	* 12596: INSTALL: Update for module aliasing changes.

2000-08-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 12592: Completion/Core/_parameters, Src/Zle/compcore.c,
 	Src/Zle/zle_tricky.c: fixes for completion in math contexts: don't
 	quote spaces and do normal parameter expansion completion after `$'

2000-08-11  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 3.1.9-dev-5.

2000-08-10  Oliver Kiddle  <opk@zsh.org>

	* 12585: Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo,
	Doc/Zsh/mod_complist.yo, Doc/Zsh/mod_zutil.yo: minor doc fixes

	* 12583: Completion/Base/_math, Completion/Builtins/_arrays,
	Completion/Builtins/_vars, Completion/Builtins/_zpty,
	Completion/Commands/_bash_completions, Completion/Core/_parameters,
	Doc/Zsh/compsys.yo: add -g option to _parameters to restrict the
	type of parameters completed

2000-08-10  Peter Stephenson  <pws@csr.com>

	* 12582: Misc/Functions/is-at-least: make it accept name
	parts in the first argument (though I forgot to handle things
	like 3.1.6.random3 with no separator).

	* 12581: Doc/Zsh/options.yo, Src/options.c, Src/params.c,
	Src/zsh.h: Add C_BASES option to output hexadecimal as 0xFF
	instead of 16#FF, and similarly for octal if OCTAL_ZEROES is set.

2000-08-09  Oliver Kiddle  <opk@zsh.org>

	* 12578: Completion/Builtins/_read, Completion/Builtins/_vars,
	Completion/Builtins/.distfiles: new completion for read builtin

2000-08-08  Clint Adams  <schizo@debian.org>

	* 12568: configure.in, Src/compat.c, Src/exec.c, Src/init.c,
	Src/system.h: check sysconf(_SC_OPEN_MAX) if available instead
	of OPEN_MAX/NOFILES.

2000-08-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 12567: Completion/Linux/_rpm, Src/Zle/computil.c: handle the
 	right option in strings with multiple single-letter options (and
 	correctly handle its argument)

	* 12565: Completion/Core/_expand, Completion/Core/_path_files,
 	Doc/Zsh/mod_computil.yo, Src/Zle/computil.c: more fixes for
 	completion of special characters (quoting)

2000-08-08  Peter Stephenson  <pws@csr.com>

	* unposted: Src/xmods.conf, Src/Aliases/*: Remove Src/Aliases
	files and delete alias modules from xmods.conf (should now
	use `zmodload -A' to generate module aliases).

	* 12561: Completion/Builtins/_zmodload, Doc/Zsh/builtins.yo,
	Src/builtin.c, Src/module.c, Src/zsh.h: aliases for modules
	done internally via `zmodload -[AR]'.

2000-08-07  Peter Stephenson  <pws@csr.com>

	* 12555: Fix static linking on cygwin.

2000-08-07  Bart Schaefer  <schaefer@zsh.org>

	* users/3358: Zero shout when closing SHTTY in subshells.

2000-08-05  Bart Schaefer  <schaefer@zsh.org>

	* unposted (Wayne, 12549): Src/system.h: Missing paren.

2000-08-04  Bart Schaefer  <schaefer@zsh.org>

	* 12547, 12458: configure.in, Src/compat.c, Src/Modules/files.c:
	Handle ENOENT and ENOTDIR within zpathmax(), and therefore back
	out the changes from 12541 and 12533.

2000-08-04  Clint Adams  <schizo@debian.org>

	* 12541: configure.in, Src/compat.c: zrealpath wrapper around
	realpath().

	* 12533: Src/Modules/files.c: drop the tail of the path
	passed to mkdir in the call to pathconf().

2000-08-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 12525: Src/module.c: remove (wrong) test for linked-in modules
 	in require_module()

2000-08-04  Bart Schaefer  <schaefer@zsh.org>

	* 12516: Src/compat.c, Src/system.h, Src/Modules/files.c,
	Src/Modules/parameter.c: Rewrite the pathconf() support using a
	wrapper function in compat.c to isolate the #ifdefs.

2000-08-03  Peter Stephenson  <pws@csr.com>

	* Andrej: 12501: Src/params.c: getenv etc. become zgetenv etc.
	and call getenv where necessary.

2000-08-03  Sven Wischnowsky  <wischnow@zsh.org>

	* 12503: Completion/Commands/_bash_completions,
 	Completion/Commands/_complete_debug,
 	Completion/Commands/_complete_help,
 	Completion/Commands/_correct_word,
 	Completion/Commands/_expand_word,
 	Completion/Commands/_history_complete_word,
 	Completion/Commands/_next_tags, Completion/Core/_expand,
 	Completion/Core/_main_complete, Completion/Core/_path_files,
 	Completion/Core/compdump, Src/glob.c, Src/Modules/parameter.c:
	try to get quoting of special character (`>' and `\') right; fix
 	for pathmax in parameter.c

	* 12497: Doc/Zsh/builtins.yo: small fix for `read -r' doc

	* 12496: Completion/Core/_path_files: one more problem with
 	quoting of glob characters in filename completion

	* 12494: Doc/Zsh/options.yo, Src/Zle/zle_main.c: make binding of
 	^D be used in first column if ignoreeof is set and ^D is bound to
 	a shell function widget

2000-08-02  Peter Stephenson  <pws@csr.com>

	* Andrej: 12487: configure.in, Etc/MACHINES, Src/Makefile.in,
	Src/init.c, Src/main.c, Src/makepro.awk, Src/mkmakemod.sh,
	Src/parse.c, Src/zsh.h, Src/Zle/zle_utils.c: Dynamic loading
	on cygwin.

2000-08-02  Clint Adams  <schizo@debian.org>

	* 12489: Src/Modules/files.c, Src/Modules/parameter.c: check
	errno change from pathconf() in case of unlimited path length.

	* 12472: configure.in, Src/Modules/files.c,
	Src/Modules/parameter.c: use pathconf() instead
	of PATH_MAX if possible.

2000-08-02  Adam Spiers  <adam@spiers.net>

	* 12486: Completion/Base/{.distfiles,_cache_invalid,_retrieve_cache,
	_store_cache}, Completion/Builtins/_zstyle, Completion/Linux/_rpm,
	Completion/User/_perl_modules, Doc/Zsh/compsys.yo: new completion
	caching layer

2000-08-02  Sven Wischnowsky  <wischnow@zsh.org>

	* 12483: Completion/Base/_arguments, Completion/Core/_complete,
 	Doc/Zsh/compsys.yo: if compcontext is an assoc, the keys are the
 	completions and the values are their descriptions

	* 12475: Completion/Base/_arguments: prefer user-defined specs
 	over ones derived from --help output

2000-08-01  Sven Wischnowsky  <wischnow@zsh.org>

	* Jan Fedak: 12463: Completion/User/_slrn: new completion function
	for slrn

	* 12462: Completion/Base/_arguments: fix for automatically
 	recognised options, don't expect an argument after each of them

	* 12453: Completion/Bsd/_bsd_pkg, Completion/Bsd/_kld,
 	Completion/Commands/_next_tags, Completion/User/_cvs,
 	Completion/User/_mailboxes, Completion/X/_xset,
 	Completion/X/_xwit, Src/exec.c: remove tests for kshautoload (use
 	zcompile -z); fix for setting scriptname for functions that
 	redefine themselves

	* 12449: Completion/Base/_arguments, Completion/Base/_values,
 	Completion/Core/_complete, Doc/Zsh/compsys.yo: make $compcontext
 	more powerful and easier to use for simple cases

2000-07-31  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 3.1.9-dev-4.

	* unposted: Completion/Core/.distfiles: add compaudit

2000-07-31  Sven Wischnowsky  <wischnow@zsh.org>

	* 12439: Src/hist.c: isalpha() -> ialpha(); avoid a compiler
 	warning

	* 12438: Doc/Zsh/compsys.yo: clarify manual for menu style;
 	select= and yes= may be given both a number and one of the long*
 	values at the same time

2000-07-30  Andrew Main  <zefram@zsh.org>

	* 12436: Doc/Zsh/invoke.yo, Src/init.c: Make -b behave like
	the csh -b, permitting more options to be stacked after it and
	take effect.  Make -b take effect depending on SH_OPTION_LETTERS,
	consistent with all the other single-letter options, rather than
	having a clashing check of emulation type.

2000-07-30  Andrew Main  <zefram@zsh.org>

	* 12434: Doc/Zsh/invoke.yo, Src/init.c, Src/options.c, Src/zsh.h,
	Src/zsh.mdd: Allow options to be specified on the zsh command line
	in the form of GNU-style long options.	Also handle --version
	and --help.  Do not permit extra option letters to be stacked
	after `-whatever-' (they used to be ignored).  Exit if the
	command line specifies an option name that doesn't exist.

2000-07-28  Bart Schaefer  <schaefer@zsh.org>

	* 12393: Src/jobs.c: The `wait' builtin searches the job table for
	any process ID it's asked to wait for, and rejects those it
	doesn't find.

2000-07-28  Peter Stephenson  <pws@csr.com>

	* 12421: Src/Makemod.in.in: extra tab

	* Andrej: 12419: Src/builtin.c, Src/params.c: use putenv() and
	getenv() if available and try to make minimal assumptions about
	environment handling.

	* Andrej: 12411: check for brk() and sbrk() and use sbrk() if no
	brk().

2000-07-27  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 12415: Src/utils.c: fix bug in 12414 when quoting metafied field
	separator.

2000-07-27  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12414: Doc/Zsh/mod_zle.yo, Src/exec.c, Src/utils.c,
	Src/Zle/zle_main.c: vared quotes separators when editing arrays.

2000-07-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 12408: Test/55arguments.ztst: fix completion test (55*) because
 	of 12394

	* 12405: Completion/Core/_main_complete, Doc/Zsh/compsys.yo: fix a
 	bug that started menu selection too often; fix bug for `yes=long'
 	and documentit

2000-07-27  Bart Schaefer  <schaefer@zsh.org>

	* 12396: Functions/Misc/zed: The value of `$(functions $1)' for
	autoloadable functions has changed.

2000-07-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 12400: Src/Zle/computil.c: compdescribe shouldn't use the sets
 	after failed initialisation

	* 12394: Completion/Core/_main_complete: don't hide possible
 	completions if there is only one and at the same time messages are
 	shown

2000-07-26  Adam Spiers  <adam@spiers.net>

	* unposted: Completion/User/_perl: -e, -I, -m and -M parameters
	can be specified multiple times

2000-07-26  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Andrej/pws: 12381: configure.in: cygwin on Windows 2000 is
	mysteriously returning status 0 even though the test fails, so
	create a file we can test to see if the test got that far.

2000-07-26  Bart Schaefer  <schaefer@zsh.org>

	* 12377: Completion/Core/compaudit, Completion/Core/compinit,
	Doc/Zsh/compsys.yo: Separate compinit security checks into their
	own callable function.

	* 12370: Functions/Misc/zed: Add a context for controlling
	completion within zed, and a style to enable tab insertion at the
	beginnings of lines in zed by default.

	* 12162: Completion/Core/_expand, Completion/Core/_path_files,
	Src/utils.c: Use `eval' instead of `$(print ...)' to suppress
	some syntax error failures; this requires that zwarn() does not
	trashzle() when the output is not going to the terminal.

2000-07-26  Sven Wischnowsky  <wischnow@zsh.org>

	* 12378: Completion/Base/_arguments: make `_arguments --' use
 	specs after the `--' even for options not described in the help
 	output to get arguments

	* users/3337: Completion/Base/_value: allow _value:<assoc> functions to
 	override completion for all keys of an assoc

2000-07-24  Oliver Kiddle  <opk@zsh.org>

	* 12356: Completion/User/_mh: use mhpath and mhparam instead of
	guessing the directory

2000-07-24  Sven Wischnowsky  <wischnow@zsh.org>

	* 12354: Completion/Core/_multi_parts: optimisations for
 	_multi_parts

2000-07-22  Clint Adams  <schizo@debian.org>

	* 12347: Completion/User/_mutt: options -a, -b, and -c are
	repeatable.

2000-07-21  Sven Wischnowsky  <wischnow@zsh.org>

	* 12337: Src/parse.c: fix parsing of `time' without a command

2000-07-20  Wayne Davison  <wayned@users.sourceforge.net>

	* unposted: tweaked a function name in hist.c for Sven.

2000-07-20  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12239: Fr. Br. George (George V Kouryachy), adapted:
	configure.in: prefer curses to termcap on solaris.

2000-07-20  Bart Schaefer  <schaefer@zsh.org>

	* 12326: Completion/User/_cvs: Discard stderr of a command subst.

2000-07-20  Wayne Davison  <wayned@users.sourceforge.net>

	* 12323: Src/hist.c: support "builtin" in HIST_NO_STORE check.

2000-07-19  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 12319: Completion/User/_perl_builtin_funcs: Get also /usr/share/man.

2000-07-19  Wayne Davison  <wayned@users.sourceforge.net>

	* 12318: Doc/Zsh/options.yo, Src/builtin.c, Src/exec.c, Src/hist.c,
	Src/init.c, Src/lex.c, Src/parse.c, Src/Zle/zle_main.c: Removed
	remhist() and the HA_JUNKED flag.  Now hend() is called with an
	Eprog pointer so that it can access the lexer's data for the
	current command.  Added shouldIgnoreLine() so that hend() can
	determine in advance if a command should be saved in the history.
	Added the aliasspaceflag variable to note when we expand an alias
	that starts with a space.

2000-07-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 12314: Src/Zle/compmatch.c: a bit of security for a VARARR()

2000-07-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12313: Doc/Zsh/metafaq.yo: bad phrasing corrected.

	* 12308: Completion/User/_man: Andrej and pws: cope with systems
	where manual pages just have bare .Z and no number; don't be
	too clever about suffix until we try to strip it.

2000-07-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 12297: Src/Zle/compcore.c: don't let duplicate matches keep us
 	from recognising exact matches if they produce the same string on
 	the line

2000-07-18  Wayne Davison  <wayned@users.sourceforge.net>

	* 12295: Src/builtin.c, Src/hist.c, Src/input.c, Src/lex.c: Fixed
	the history command to output correctly when the current command was
	already removed from the history.  Fixed remhist() to not remove
	the wrong line in the above scenario.  Got rid of "spaceflag".

2000-07-17  Tanaka Akira  <akr@zsh.org>

	* 12274: Test/53completion.ztst, Test/55arguments.ztst,
	Test/.distfiles: separates _arguments tests.

2000-07-17  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Config/version.mk: 3.1.9-dev-3.

2000-07-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 12266: Src/Zle/computil.c: don't treat non-option arguments as
 	options

2000-07-17  Wayne Davison  <wayned@users.sourceforge.net>

	* 12265: Src/hist.c: Fixed gethistent().  Fixed a race condition
	in the SHARE_HISTORY code that could fail to import some shared
	history lines from other shells.

2000-07-16  Wayne Davison  <wayned@users.sourceforge.net>

	* 12260: Src/hist.c: Added unmeta() calls.  Fixed lockhistfile().

2000-07-13  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12247: Src/init.c, Src/params.c, Src/prompt.c: remove hostnam
	internal variable and use $HOST wherever hostname is needed.

	* 12242: Fr. Br. George (George V Kouryachy) and pws:
	Doc/Zsh/prompt.yo, Src/prompt.c: negative integers in prompt
	escapes count from the other end of the appropriate string.

2000-07-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 12243: Src/hist.c: try to get (z) parameter flag parsing for
 	conditions right

	* 12241: Completion/Core/_main_complete, Src/Zle/computil.c: fix
 	for _arguments with single-letter options: recognize
 	option-strings with multiple options; in _main_complete stop
 	trying completers when one called _message, don't display warnings
 	in such cases

	* 12238: Src/Zle/zle_thingy.c: fix zle widget -n num with num>9

	* 12237: Src/hist.c, Src/lex.c: slightly improved (z) flag for
 	parsing conditions; recognising glob flags in conditions still
 	doesn't work

2000-07-12  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12231: Completion/Core/compinstall: fix setting of list-prompt.

2000-07-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 12229: Doc/Zsh/compsys.yo: fix for list-prompt docs

	* 12228: Src/hist.c, Src/lex.c: fix for (z) flag, don't take # as
 	comment

2000-07-12  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12227: Completion/Core/compinstall: add select-prompt handling
	and correct menu entry and missing local parameters.

2000-07-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 12226: Completion/Core/_main_complete: don't start menu
 	selection with only select=long

	* 12225: Completion/Linux/_rpm: check if options were completed

2000-07-11  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12222: Src/exec.c: ignore EINTR in helper processe for
	tee and cat with multios.  It might be considered unfortunate
	that the shell is liable to exit on SIGPIPE if these disappear
	early.

	* 12220: Src/exec.c: print error message for unfound autoload
	function body at lower locallevel.

2000-07-10  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Completion/User/_killall: Complete process IDs and
	names for all processes when EUID is 0 (root); suggested by
	Thomas Kohler in 12202 and followups.

2000-07-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 12208: Completion/Core/_path_files: avoid insertion of `+'
 	before ~1/<TAB>; don't use undeclared local $tmp

2000-07-08  Tanaka Akira  <akr@zsh.org>

	* 12201: Completion/User/_java: fix completion for jar. complete
	package qualified class names. fix typos.

2000-07-07  Bart Schaefer  <schaefer@zsh.org>

	* 12193: configure.in, Src/Builtins/rlimits.mdd: Fix unnecessary
	rebuilds of rlimits.o on platforms where getrlimit() is not found.

2000-07-06  Oliver Kiddle  <opk@zsh.org>

	* 12181: Completion/AIX/_lscfg, Completion/AIX/_object_classes,
	Completion/AIX/_physical_volumes, Completion/AIX/_smit,
	Completion/AIX/_volume_groups, Completion/User/_printers: updates
	and additions to completions for AIX commands

2000-07-05  Oliver Kiddle  <opk@zsh.org>

	* 12177: Doc/Zsh/compsys.yo, Completion/Builtins/_unhash,
	Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo, Doc/Zsh/mod_zutil.yo: add more
	standard tags to docs and fix typos

2000-07-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 12171: Completion/User/_arp: get return status right

2000-07-05  Bart Schaefer  <schaefer@zsh.org>

	* 12167: Test/Makefile.in: Ignore failure exit from "for" loop
	so that cleanup code following it will be executed.

2000-07-04  Oliver Kiddle  <opk@zsh.org>

	* 12165: Completion/User/_arp: new completion for arp

2000-07-04  Bart Schaefer  <schaefer@zsh.org>

	* 12160: Completion/Core/compdump: Return failure early if the
	dot-file directory is not writable.

2000-07-04  Oliver Kiddle  <opk@zsh.org>

	* unposted: Src/params.c, Src/Zle/compcore.c, Src/Zle/zle_utils.c:
	AIX dependency fixes

2000-07-04  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12158: Src/Modules/parameter.c: cast pid_t to int for printing.

2000-07-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 12156: Completion/Core/_expand, Completion/Core/_path_files: add
 	some $(print...)s because of possible math-parse errors

2000-07-03  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12149: acconfig.h, configure.in, Src/Modules/zftp.c:
	h_errno wasn't found on HPUX 10.20.  Maybe in some library.

2000-07-03  Adam Spiers  <adam@spiers.net>

	* 12152: Completion/User/_perl: tweak completion of Perl script
	parameters to perl.

2000-07-03  Bart Schaefer  <schaefer@zsh.org>

	* 12151: Test/Makefile.in, Test/comptest: Point ZDOTDIR into the
	Test directory itself, and clean up .zcompdump after testing.

	* 12148: Completion/Core/_path_files: Followup to 12133 as
	suggested by Sven in 12137: Don't merge display-ordering glob
	flags into the parens in $(...) expressions.

2000-07-03  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12146: Doc/Makefile.in: reintroduce mysteriously disappeared
	code do install info files in directory.

	* 12140: Completion/Core/compinit, Completion/Core/compinstall,
	Doc/Zsh/compsys.yo: compinstall calls compinit after styles
	are defined; compinit checks for _expand completer and if
	necessary rebinds ^i to complete-word.

	* Config/version.mk: 3.1.9-dev-2.

	* 12138: Src/params.c, Test/06arith.ztst: setting of array
	elements in math context didn't work (ever).

	* 12121: Src/utils.c, Doc/Zsh/options.yo: save and restore stopmsg
	for precmd, fix #ifdef's for variable declaration in read_poll().

2000-07-03  Sven Wischnowsky  <wischnow@zsh.org>

	* 12134: Completion/Core/_main_complete, Doc/Zsh/compsys.yo,
 	Doc/Zsh/mod_complist.yo, Src/Zle/comp.h, Src/Zle/compcore.c,
 	Src/Zle/complist.c: change format style with warnings tag, don't
 	add descriptions as matches; make a-a-i-n-h in menu selection work
 	even without matches

2000-07-02  Bart Schaefer  <schaefer@zsh.org>

	* 12133: Completion/Core/_expand, Completion/Core/_path_files:
	Discard error output from parameter expansions and use "eval" to
	protect the completion system from parse errors and other garbage
	in the strings taken from the command line.

2000-06-29  Sven Wischnowsky  <wischnow@zsh.org>

	* 12125: Src/parse.c, Test/09funcdef.ztst: fix for `foo () print
 	bar' (function definitions without braces)

	* 12122: Completion/Core/_main_complete: reverse meaning of yes=num
 	again

	* 12119: Completion/Core/_complete, Completion/Core/_normal: try
 	to return the right value

	* 12118: Completion/Core/_expand: don't expand partially typed
 	parameter expansions

	* 12115: Completion/Core/_expand, Doc/Zsh/compsys.yo: change
 	suffix style to still do expansion if the suffix contains
 	something to expand

	* 12114: Completion/Core/_main_complete, Doc/Zsh/compsys.yo: even
 	more fun with the menu style (no=num, yes=long-list, reverse
 	meaning of yes=num)

	* 12113: Completion/Core/_expand, Src/Zle/zle_tricky.c: quote
 	brace-strings

2000-06-28  Bart Schaefer  <schaefer@zsh.org>

	* 12112: Src/params.c: Don't make namedirs out of hash elements.

2000-06-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 12109: Completion/Core/_complete: make _complete return the
 	right value

	* 12107: Completion/Core/_setup, Src/Zle/complist.c: fix for
 	list-colors handling

	* 12105: Completion/Core/_main_complete: reset _comp_mesg (saying
 	whether there were messages) appropriately

	* Jan Fedak: 12097: Completion/User/_ssh: use _ports when
	completing remote ports

	* Andrej: 12094: Doc/Zsh/compsys.yo: a bit of cleanup

	* 12099: Completion/Core/_oldlist: make _oldlist not use the dummy
 	match added for the warning

	* 12093: Src/Zle/compcore.c, Src/Zle/complist.c, Src/Zle/compresult.c:
 	make a-a-i-n-h in menu selection work with one match; better undo
 	behaviour for menu selection

2000-06-27  Bart Schaefer  <schaefer@zsh.org>

	* 12086: Doc/Zsh/compsys.yo: Move _use_lo doc into alphabetical
	order; separate _files and _path_files for same reason.

2000-06-27  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3219: Completion/Core/_main_complete, Doc/Zsh/compsys.yo:
	menu style accepts yes=x to start menu completion if there are at
	least x matches

	* Andrej: 12084: Src/Modules/zpty.c: don't close slave if not yet open

	* 12082: Doc/Zsh/compsys.yo: document _use_lo

2000-06-27  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Andrej: 12081: Src/Modules/zpty.c: compiles under Cygwin, but
	still glitches.

2000-06-26  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* unposted: Src/builtin.c, Src/utils.c: move read_poll to utils.c
	as suggested by Bart.

2000-06-26  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12076: Completion/Core/compinstall: overwrote file if no
	style information; overwrote symbolic link instead of following;
	didn't check file name for sanity.

2000-06-26  Bart Schaefer  <schaefer@zsh.org>

	* 12074: Doc/Zsh/builtins.yo, Doc/Zsh/manual.yo: Remove one more
	reference to compfmt; add missing menu items to node listing.

2000-06-26  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12073: Src/builtin.c, Src/utils.c, Doc/Zsh/builtins.yo: first
	pass at `read -t' which tests for availability of input before
	inputting.

2000-06-26  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3208: Completion/User/_use_lo: default completion even if
	there are options

	* 12070: Completion/Core/_ignored: fix for completer lookup in
 	_ignored

	* 12068: Doc/Zsh/mod_computil.yo, Src/Zle/computil.c: remove
 	compfmt; a bit of explanation for compfiles and compgroups

	* 12067: Completion/Core/_history, Src/Zle/zle_tricky.c: typo in
 	_history; missing free()s in zle_tricky.c

	* 12066: Src/Zle/computil.c: missing allocation of list for option
 	arguments

2000-06-25  Bart Schaefer  <schaefer@zsh.org>

	* 12063: Doc/Zsh/builtins.yo, Doc/Zsh/compwid.yo,
	Doc/Zsh/mod_computil.yo, Doc/Zsh/mod_zutil.yo: Fix typos; assorted
	clarification and reformatting.

2000-06-23  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12044: Src/builtin.c:  read -A assigned an unnecessary null
	if there was trailing whitespace; careful of distinction between
	whitespace and non-whitespace field separators.

2000-06-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 12041,12043 : Completion/Core/compinit: even more compinit stuff,
 	change prompt, search for insecure parent dirs

2000-06-22  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 12040: Src/builtin.c: typeset -r on existing parameter set
	the readonly flag before assigning any value on the same command
	line.

2000-06-22  Bart Schaefer  <schaefer@zsh.org>

	* 12039: Test/comptest: Use "compinit -u" to avoid a possible
	prompt about security of the directories; point ZDOTDIR into
	the temporary test directory for the .zcompdump file.

2000-06-22  Sven Wischnowsky  <wischnow@zsh.org>

	* 12033: Completion/Core/compinit: followup to compinit-security
 	patch

	* 12029: Completion/Builtins/_arrays, Completion/Builtins/_zstyle,
 	Completion/Commands/_bash_completions,
 	Completion/Commands/_history_complete_word,
 	Completion/Core/_history, Completion/Core/_main_complete,
 	Completion/Core/_parameters, Completion/Core/_setup,
 	Completion/Core/_tags, Completion/Debian/_apt,
 	Completion/X/_x_extension, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
 	Src/zsh.h, Src/Zle/compcore.c, Src/Zle/compctl.c,
 	Src/Zle/complist.c, Src/Zle/computil.c: allow subscripts for
 	compadd -[ak]; new style for history completion; better
 	list-colors handling

2000-06-22  Clint Adams  <schizo@debian.org>

	* 12027: Completion/User/_mailboxes: fix splitting problem in
	12024, add intelligence for mutt mailboxes in $maildirectory
	not specified in muttrc.

	* 12024: Completion/User/_mailboxes: handle multiple mailboxes
	lines in muttrc.

2000-06-21  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 12019: Completion/User/_ssh: upgrade to the last openssh
	options.

2000-06-21  Sven Wischnowsky  <wischnow@zsh.org>

	* 12011: Completion/Commands/_history_complete_word,
 	Completion/Core/_expand, Completion/Core/_history: make history
 	completion use I{PREF,SUF}FIX

2000-06-20  Oliver Kiddle  <opk@zsh.org>

	* unposted: Src/exec.c: AIX dependency fix

2000-06-20  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12000: Functions/Misc/zmv: emulate zsh doesn't unset MARKDIRS,
	so use emulate -R.

2000-06-20  Sven Wischnowsky  <wischnow@zsh.org>

	* 11998: Completion/Builtins/_pids, Completion/Core/compdump,
 	Completion/Core/compinit, Doc/Zsh/compsys.yo: a bit of security
 	for compinit (avoid using things writable by others); avoid
 	handling files with the same name twice; remove compconf

2000-06-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 11992: Src/Zle/complist.c: make undo break out of menu selection
 	if nothing to undo inside it

	* 11985: Completion/Debian/_dpkg, Doc/Zsh/compsys.yo,
	Src/Zle/computil.c: _arguments: small fix for -s and new `!...' for
	things not to complete (but to understand)

	* 11982: Test/comptest: update comptest to not set ZLS_COLORS
 	directly

	* 11981: Src/Zle/computil.c: more careful when optimising patterns
 	in compfiles

	* 11977: Completion/Core/_options, Completion/Core/_set_options,
 	Completion/Core/_unset_options, Doc/Zsh/compwid.yo,
 	Src/Zle/comp.h, Src/Zle/complete.c, Src/Zle/compmatch.c,
 	Test/54compmatch.ztst: new match spec characters bBeE, match only
 	word/line not both

	* 11973: Completion/Builtins/_zstyle, Completion/Core/_description,
 	Completion/Core/_expand, Doc/Zsh/compsys.yo, Src/Zle/zle_tricky.c:
 	allow _expand to expand braces; better detection of braces to
 	complete instead of passing to shell code

2000-06-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* unpost: additions to Completion/Commands/.distfiles and
	.distfiles.

	* users/3189: Functions/Misc/zmv:  use depth-first ordering with
	**/; ignore files whose names are unchanged by the substitution.

2000-06-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 11971: Completion/Core/_path_files, Doc/Zsh/compsys.yo,
 	Src/Zle/compcore.c, Src/Zle/computil.c: improve filename
 	completion; use accept-exact for in-path completion; new fake style

	* users/3188: Completion/Core/_description, Completion/Core/_setup,
 	Doc/Zsh/compsys.yo: restore ZLS_COLORS when possible; better
 	group-name handling in ZLS_COLORS

2000-06-17  Clint Adams  <schizo@debian.org>

	* 11966: Completion/Core/_main_complete: use double brackets
	around comparison to prevent 'command not found: no' error.

2000-06-17  Bart Schaefer  <schaefer@zsh.org>

	* 11961: Src/subst.c: 11959 was really a bug in magicequalsubst,
	it shouldn't have treated x:=y as a reason to expand =y.

2000-06-17  Tanaka Akira  <akr@zsh.org>

	* 11959: Completion/User/_urls: make it magicequalsubst aware.

	* 11958: Completion/User/_java: new completion for Java.

2000-06-17  Bart Schaefer  <schaefer@zsh.org>

	* 11956: Src/loop.c: Fix off-by-one error in wordcode pc executing
	case statement fall-through.

	* unposted: Test/01grammar.ztst: Add a test for 11956.

2000-06-16  Clint Adams  <schizo@debian.org>

	* 11951: Completion/Debian/_dpkg: replaced _arguments -A
	for install and record-avail  with an evaluation kludge.

2000-06-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 11939: Src/Zle/compmatch.c, Src/Zle/compresult.c,
	Src/Zle/zle_tricky.c: allow completion after `a{{b,c},'; fix for
	closing brace re-insertion when completing from both ends
	(CLF_MID)

	* 11938: Completion/Core/_description, Doc/Zsh/compsys.yo: enhance
 	ignore-line to ignore all/current/other word(s)

	* 11937: Completion/Core/_expand, Completion/Core/_list,
 	Doc/Zsh/compsys.yo, Doc/Zsh/mod_zutil.yo, Src/Modules/zutil.c:
 	zstyle -e option; change math-styles to boolean ones; change
 	defaults for _expand styles

2000-06-15  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Felix: 11908: Test/54compmatch.ztst: tests for problematic
	cases.

	* as 11916: moved bottom of ChangeLog to ChangeLog-Release to
	avoid unnecessary network activity when committing.  To be
	merged into ChangeLog.4.0 for next release.

2000-06-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 11924: Src/Zle/compmatch.c: more security in completion matching

	* 11915: Completion/Core/_files, Doc/Zsh/compsys.yo: make _files
 	try each pattern only once (and stop after `*')

	* 11910: Src/Zle/computil.c: fix for _arguments, it took
 	non-option strings as options

2000-06-14  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11906: Src/signals.c: yet another two bugs with saving traps:
	flags were prematurely restored when resetting and TRAPEXIT
	was sometimes saved incorrectly when exitting the scope.

2000-06-14  Oliver Kiddle  <opk@zsh.org>

	* 11903: Completion/Core/_expand: handle suffix style for arrays

2000-06-14  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11902: Test/08traps.ztst: add test for localtraps with SIGWINCH.

	* 11901: Src/signals.c: not one but two more bugs in trap
	saving: sigfuncs wasn't reset for function signals, and dosavetrap()
	didn't check sigtrapped before assuming sigfuncs was valid.

	* 11895: Src/signals.c: exit traps weren't cleared from the
	list properly, resulting in memory management problems.

2000-06-14  Sven Wischnowsky  <wischnow@zsh.org>

	* 11885: Src/parse.c: nix kaboom with `time time'

	* 11890: Src/Zle/complist.c: better fix for menu selection on dumb
	terminal

2000-06-13  Clint Adams  <schizo@debian.org>

	* 11882: Completion/Debian/_dpkg: more intelligence in
	dpkg completion.

2000-06-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 11876: Doc/Zsh/compsys.yo, Src/Zle/computil.c: make -A take a
	pattern as argument to match non-arguments; allow single-letter
	option strings to have multiple arguments; fix to allow option
	completion with multiple sets

	* 11872 Completion/Commands/_generic, Doc/Zsh/compsys.yo: new
	_generic widget to call completion with $WIDGET in function field
	of context

	* 11873: Completion/Core/_main_complete, Doc/Zsh/compsys.yo: allow
	insert-tab style to contain `pending[=num]' to handle the case
	when there is pending input

	* 11874: Completion/Core/_expand, Doc/Zsh/compsys.yo: new style
	`suffix', use accept-exact style in _expand

	* 11875: Src/Zle/complist.c: fix for longer capability strings;
	very bad

2000-06-13  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11877: Src/zsh.h: make PRINT_ flags unique again.

2000-06-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 11870: Completion/Core/_path_files, Src/Zle/complete.c,
 	Src/Zle/compmatch.c, Src/Zle/computil.c: fixes for calling
	compfiles, for completing words with special characters; make
	compfiles optimisations work with globcomplete and simple match
	specs

2000-06-12  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11867: Src/builtin.c, Src/params.c, Src/zsh.h,
	Doc/Zsh/builtins.yo: don't use -H flag for parameters mentioned
	explicitly or by pattern.

2000-06-11  Bart Schaefer  <schaefer@zsh.org>

	* 11866: Functions/Misc/colors, Functions/Prompts/promptinit:  Set
	up color/colour assoc arrays to map the full range of ANSI text
	properties; preserve more state during themed prompt previewing.

	* Alexandre: unposted: Src/Zle/complist.c: Shift an array the
	opposite way to fix colored listings crash.

2000-06-11  Tanaka Akira  <akr@zsh.org>

	* 11861: Completion/User/_cvs: fix -a use for compadd.

2000-06-10  Bart Schaefer  <schaefer@zsh.org>

	* 11850: Src/Zle/complist.c: Don't try to menuselect in a listing
	that isn't there, e.g., because the TERM is too dumb to draw it.

2000-06-09  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11842 (repeat of 11838): Doc/Zsh/builtins.yo, Src/builtin.c,
	Src/params.c, Src/subst.c, Src/zsh.h, Src/Modules/mapfile.c,
	Src/Modules/parameter.c: add the HIDEVAL parameter attribute and
	set it by default for parameters created by the mapfile and
	parameter modules, to restore sanity of `typeset' output.

2000-06-09  Clint Adams  <schizo@debian.org>

	* 11839: Src/signals.c: prevent segmentation fault in
	endtrapscope() by not dereferencing null pointers.

2000-06-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 11836: Src/Zle/compcore.c, Src/Zle/complist.c: fix for
 	menu-completion when another completion came right after it

	* 11833: Completion/Core/_path_files, Src/Zle/computil.c: improve
 	_path_files, move some code into C, try to optimise glob patterns
 	and immediately accept exact directory matches

2000-06-08  Oliver Kiddle  <opk@zsh.org>

	* 11823: Doc/Makefile.in, Completion/User/_urls: avoid bug in
	IRIX's sed and use new -K option to zparseopts in _urls

2000-06-08  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11820: Src/main.c: metafication of command line arguments
	didn't work because type table wasn't set up.

2000-06-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 11817: Src/Zle/compmatch.c: more anchor matching fixes

	* 11815: Completion/Core/_expand, Doc/Zsh/compsys.yo: trying to
 	improve _expand; new keep-prefix style, add-space gives more control

	* 11814: Src/Zle/zle_tricky.c: make C-code expansion add a space
 	only when more than one word was generated

2000-06-08  Tanaka Akira  <akr@zsh.org>

	* users/3130: Completion/Debian/_apt: fix actions for _alternative.

2000-06-07  Sven Wischnowsky  <wischnow@zsh.org>

	* 11796: Src/Zle/compmatch.c: try to get the tests for `strings
 	long enough' right in anchor matching code

2000-06-07  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11711: Andrej Borsenkow: Test/ztst.zsh: Ignore diff output
	unless the test failed, to work around some diffs which produce
	success messages.

2000-06-07  Sven Wischnowsky  <wischnow@zsh.org>

	* user/3124: Completion/Core/_normal, Src/Zle/compctl.c: optimise
 	command lookup in old and new completion

	* 11794: Src/Zle/compcore.c, Src/Zle/complist.c, Src/Zle/zle_tricky.c:
 	hopefully more consistent beeping with menu-selection

	* 11792: Doc/Zsh/mod_zutil.yo, Src/Modules/zutil.c: -K option for
 	zparseopts to keep previous array values

	* 11789: Completion/Commands/_correct_word,
 	Completion/Commands/_expand_word, Completion/Commands/_next_tags:
 	setup options in bindable commands

2000-06-06  Oliver Kiddle  <opk@zsh.org>

	* 11772: Completion/User/_urls: improvements to 11756 suggested by
	Bart in 11763

2000-06-06  Sven Wischnowsky  <wischnow@zsh.org>

	* 11777: Completion/Core/_expand: make _expand ignore empty
 	expansions

	* 11776: Completion/Core/_path_files: fix for _path_files and
 	globcomplete, better test if word contains wildcards

	* 11768: Doc/Zsh/expn.yo, Src/lex.c, Src/subst.c: make (e) flag be
 	silent unless (X) is given, too

2000-06-05  Oliver Kiddle  <opk@zsh.org>

	* 11756: Completion/User/_urls, Completion/Linux/_rpm: accept -g
	option in _urls and use _urls in _rpm

	* 11755: test/comptest: fix wording in error messages

2000-06-05  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Config/version.mk: 3.1.9, already.

2000-06-05  Oliver Kiddle  <opk@zsh.org>

	* unposted: Src/params.c: AIX dependency fix

2000-06-05  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: Config/version.mk: 3.1.8 released.

	* unposted: 14array.ztst missing from Test/.distfiles.

2000-06-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 11745: Src/builtin.c, Src/Modules/parameter.c, Src/Zle/compresult.c:
 	some more memory leak fixes
	
2000-06-04  Bart Schaefer  <schaefer@zsh.org>

	* 11743: Completion/Linux/_rpm: Complete http as well as ftp URLs
	in the package_file state.

2000-06-04  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 11740: Completion/Linux/_rpm: --{rebuild,recompile} is always
	local files.

2000-06-04  Clint Adams  <schizo@debian.org>

	* 11739: Completion/Debian/_dpkg: complete multiple arguments
	for -i, -r, -P, -l, -L, -s, -S.  _funcalls for the
	newly-introduced states.

2000-06-03  Bart Schaefer  <schaefer@zsh.org>

	* 11737: Src/Makefile.in: Remove modules.index and modules-bltin
	during "make distclean" not "make clean" to prevent unnecessary
	rebuilding of Makefiles in module subdirectories.

	* 11736: Src/signals.c: Fix special scoping of TRAPEXIT.

	* Felix: 11734: Src/Zle/compcore.c, Doc/Zsh/mod_complist.yo: Fix
	one more memory leak and a doc mistake.

2000-06-02  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11733: Doc/Makefile.in: Solaris sed was behaving strangely with
	the commands to create Zsh/modlist.yo.

2000-06-02  Wayne Davison  <wayned@users.sourceforge.net>

	* 11723: Src/glob.c:  Fixed glob-array indexing.

	* unposted: Test/14array.ztst: improved array-indexing tests.

2000-06-02  Sven Wischnowsky  <wischnow@zsh.org>

	* Felix: 11718: Src/module.c: fix for memory leak

	* 11722: Src/Zle/compcore.c, Src/Zle/complete.c: fix some memory
 	leaks (thanks, Felix)
	
2000-06-02  Wayne Davison  <wayned@users.sourceforge.net>

	* 11717: Src/glob.c, Src/params.c, Src/subst.c, Src/zsh.h,
	Src/Modules/mapfile.c, Src/Modules/parameter.c, Src/Zle/complete.c:
	make $array[-4,4] work again.

	* unposted: Test/14array.ztst: added array-indexing tests.

2000-06-01  Wayne Davison  <wayned@users.sourceforge.net>

	* 11716: Src/params.c: Made $array[0,0] work like $array[0].

2000-06-01  Bart Schaefer  <schaefer@zsh.org>

	* 11713: Test/53completion.ztst: Revert the change made in 11647
	because of the completion fix in 11678.

	* 11701: Src/Zle/zle_main.c: Adjust 11566 to disable vared only
	for interactive shells where ZLE has been explicitly disabled,
	but also for any shell running in an emacs buffer.

2000-06-01  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* unposted: Etc/NEWS: notes for 3.1.8.

	* 11707: Src/subst.c: further promptexpand leaks.

	* Felix Rosencrantz: 11700: Src/utils.c memory leak in return
	value of promptexpand.

2000-05-31  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11696: Src/params.c: fix bugs reported in 10990 localising
	readonly specials if they were integer or hashes that needed
	copying.

2000-05-31  Sven Wischnowsky  <wischnow@zsh.org>

	* 11688: Completion/Commands/_complete_debug,
 	Completion/Core/_main_complete, Completion/Core/_setup,
 	Doc/Zsh/compwid.yo, Functions/Zle/incremental-complete-word,
 	Src/Zle/compcore.c, Src/Zle/complist.c, Src/Zle/compresult.c:
 	allow display of only messages via $compstate[list]=messages
	
	* 11549: Completion/Base/_combination, Completion/Base/_command_names,
 	Completion/Base/_describe, Completion/Base/_equal,
 	Completion/Base/_subscript, Completion/Base/_tilde,
 	Completion/Base/_value, Completion/Builtins/_aliases,
 	Completion/Builtins/_bindkey, Completion/Builtins/_builtin,
 	Completion/Builtins/_cd, Completion/Builtins/_command,
 	Completion/Builtins/_compdef, Completion/Builtins/_functions,
 	Completion/Builtins/_hash, Completion/Builtins/_popd,
 	Completion/Builtins/_unhash, Completion/Builtins/_vars,
 	Completion/Builtins/_which, Completion/Builtins/_zcompile,
 	Completion/Builtins/_zle, Completion/Builtins/_zmodload,
 	Completion/Builtins/_zpty, Completion/Builtins/_zstyle,
 	Completion/Commands/_bash_completions,
 	Completion/Commands/_history_complete_word,
 	Completion/Core/_all_labels, Completion/Core/_expand,
 	Completion/Core/_file_descriptors, Completion/Core/_history,
 	Completion/Core/_multi_parts, Completion/Core/_next_label,
 	Completion/Core/_options, Completion/Core/_path_files,
 	Completion/Core/_requested, Completion/Core/_sep_parts,
 	Completion/Core/_set_options, Completion/Core/_unset_options,
 	Completion/Core/_wanted, Completion/User/_archie,
 	Completion/User/_cvs, Completion/User/_domains,
 	Completion/User/_gprof, Completion/User/_groups,
 	Completion/User/_hosts, Completion/User/_lp,
 	Completion/User/_mailboxes, Completion/User/_make,
 	Completion/User/_mount, Completion/User/_mysql_utils,
 	Completion/User/_netscape, Completion/User/_perl,
 	Completion/User/_perl_basepods,
 	Completion/User/_perl_builtin_funcs,
 	Completion/User/_perl_modules, Completion/User/_ports,
 	Completion/User/_rcs, Completion/User/_urls,
 	Completion/User/_users, Completion/User/_yp,
 	Completion/X/_x_color, Completion/X/_x_cursor,
 	Completion/X/_x_extension, Completion/X/_x_font,
	Completion/X/_x_keysym, Completion/X/_xutils: use compadd -[ak]
	
	* Andrej: 11660: Completion/User/_man: fix for ${..//..} with % in 
	search string

	* 11686: Completion/Core/compdump, Completion/Core/compinit: allow
 	using menu-select for compdef -k (i.e.: autoload zsh/complist in
 	such cases)
	
2000-05-31  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Wayne Davison: 11680: Src/params.c: subscript too small/big
	error messages.

	* Wayne Davison: 11677, 11681: Src/glob.c, Src/params.c, Src/subst.c,
	Src/zsh.h, Src/Modules/mapfile.c, Src/Modules/parameter.c,
	Src/Zle/complete.c: make $array[1,0] return a zero-length array.

	* Wayne Davison: 11676: Src/pattern.c: uninitialised variable.

	* Wayne Davison: 11675: Test/07cond.ztst: apparent race condition.

2000-05-31  Sven Wischnowsky  <wischnow@zsh.org>

	* 11682: Src/Zle/compresult.c: move to last cursor after not
 	asking a second time if list should be shown
	
	* 11679: Src/Zle/compcore.c: fix for ignore-line style
	
	* 11678: Completion/Base/_arguments: avoid reporting the same
 	->state more than once
	
2000-05-30  Oliver Kiddle  <opk@zsh.org>

	* 11661: Src/hist.c: AIX dependency fix

2000-05-30  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Config/version.mk: 3.1.7 released.

	* 11652: Etc/MACHINES: tests fail on cygwin.

2000-05-30  Sven Wischnowsky  <wischnow@zsh.org>

	* 11647: Completion/Base/_arguments, Completion/Linux/_rpm,
 	Src/Zle/computil.c, Test/53completion.ztst: fixes for _arguments
 	without multiple sets; change completion test for empty actions
	
2000-05-29  Bart Schaefer  <schaefer@zsh.org>

	* 11644: Use `print -s' in _complete_debug, now that it works.
	
	* 11643: Completion/Linux/_rpm: Factor out option sets that are
	repeated in several states; add more options from RPM v3.
	
	* Wayne Davison: 11641: Src/hist.c, Src/Modules/parameter.c,
	Src/Zle/compctl.c, Src/Zle/zle_main.c: Make sure `curline' has
	sane values at more points during history manipulation, so that
	"print -s" from a ZLE widget doesn't cause confusion.

	* unposted: Completion/Core/_path_files: Add a comment to explain
	the change made in 11635.

2000-05-29  Sven Wischnowsky  <wischnow@zsh.org>

	* 11638: Doc/Zsh/compsys.yo: doc fix, missing `)'
	
	* 11635: Completion/Core/_path_files: make _path_files use glob
 	qualifiers from the line when doing pattern matching
	
	* users/3101: Doc/Zsh/compsys.yo: make handling of default tag clearer
 	in the docs
	
	* 11634: Src/Zle/compcore.c, Src/Zle/compmatch.c, Src/Zle/compresult.c:
 	matching bugs with patterns with two anchors
	
	* 11631: Completion/Base/_arguments: keep information about things
 	to complete in _arguments
	
	* 11624: Completion/Base/_arguments, Completion/Builtins/_zpty,
 	Doc/Zsh/compsys.yo, Src/Zle/computil.c: fixes for _arguments with
 	sets; make _zpty not use sets
	
2000-05-28  Bart Schaefer  <schaefer@zsh.org>

	* 11618: Completion/Base/_arguments: Fix bad shift.

2000-05-28  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11616: Src/Modules/zftp.c: configure test for netinet/in_systm.h
	is broken on several architectures, so just include it everywhere
	except cygwin.

2000-05-28  Oliver Kiddle  <opk@zsh.org>

	* 11615: Completion/Builtins/_which, Completion/Builtins/_unhash:
	use of _arguments for completion of a couple more builtins

2000-05-27  Bart Schaefer  <schaefer@zsh.org>

	* 11606: Src/parse.c, Test/01grammar.ztst: Propagate parse errors
	out of parse_list() and parse_event(), and test that it worked.

	* 11607: Src/builtin.c: For "read -q", open shout if necessary
	even when SHTTY is already a valid descriptor; just don't close
	it again in that case.  Restores behavior from 10727 that was
	lost in 11524.

2000-05-26  Clint Adams  <schizo@debian.org>

	* 11599: Completion/User/_perl_modules: check to make sure
	the directories in @INC exist and are executable before
	trying to cd to them.

2000-05-26  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11590: configure.in, Config/defs.mk.in, Etc/MACHINES,
	Src/Makefile.in, Src/Modules/mathfunc.c, Src/Modules/zftp.c:
	Various Cygwin fixes: compilation glitches in zsh/mathfunc and
	zsh/zftp; installation didn't handle .exe extension properly;
	installation note.

	* 11587: Felix Rosencrantz: Src/pattern.c: uninitialised variable.

2000-05-26  Sven Wischnowsky  <wischnow@zsh.org>

	* 11566: Src/Zle/zle_main.c: disable vared if zle is not enabled
	
2000-05-25  Oliver Kiddle  <opk@u.genie.co.uk>

	* 11579: Completion/Builtins/_compdef, Completion/Builtins/_zpty:
	split _arguments calls into sets to avoid long mutex lists

2000-05-25  Sven Wischnowsky  <wischnow@zsh.org>

	* 11576: Completion/Core/compdump, Completion/Core/compinit:
 	beautify format of compdump file
	
	* 11570: Completion/Core/_path_files: fix for special-dirs when
 	used with -g patterns
	
	* 11569: Src/Zle/complist.c: better cursor-movement in
 	menu-selection
	
2000-05-25  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11567: Src/Modules/zftp.c: fix fcntl() argument for FD_CLOEXEC.

2000-05-25  Sven Wischnowsky  <wischnow@zsh.org>

	* 11565: Completion/Base/_in_vared, Completion/Commands/_complete_debug,
 	Src/Zle/complist.c: force listing in _complete_debug; make
 	complist with list-scrolling stopt at the end of the list when
 	prompt would scroll it out; fix _in_vared to handle `foo[bar]'
	
2000-05-24  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11561: Src/lex.c, Doc/Zsh/expn.yo: don't use RC_QUOTES in Posix
	$'...' quoting.

	* 11560: Doc/Zsh/expn.yo: pipes are pipes even if plumbing isn't.

2000-05-24  Bart Schaefer  <schaefer@zsh.org>

	* 11554: Doc/Zsh/compsys.yo: Rearrange _arguments doc some more.

2000-05-24  Sven Wischnowsky  <wischnow@zsh.org>

	* 11552: Completion/Linux/_rpm, Src/Zle/computil.c: fix for
 	comparguments to make -s have an effect again
	
2000-05-24  Clint Adams  <schizo@debian.org>

	* 11548: Completion/User/_ispell: add -h switch to
	designate input file as HTML.

2000-05-23  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11542: Doc/Zsh/compsys.yo: more wording `improvements'.

2000-05-23  Oliver Kiddle  <opk@zsh.org>

	* 11541:  Completion/User/_chown, Completion/User/_perl_basepods,
	Completion/User/_perl_modules, Completion/User/_user_at_host,
	Completion/AIX/_lsdev: minor completion fixes

	* 11539: Completion/User/_netscape, Completion/User/_urls: further
	suffix handling improvements

2000-05-23  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11537: Completion/Command/_complete_tag,
	Completion/Command/.distfiles, Doc/Zsh/compsys.yo: new
	_complete_tag function.

2000-05-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 11536: Doc/Zsh/mod_zutil.yo: doc clarifications for zparseopts
	
	* 11533: Doc/Zsh/compwid.yo, Src/params.c, Src/Zle/comp.h,
 	Src/Zle/compcore.c, Src/Zle/complete.c: add -[ak] options to
 	compadd
	
	* 11530: Doc/Zsh/mod_zutil.yo, Src/Modules/zutil.c: add -E option
 	to zparseopts
	
	* 11525: Completion/Base/_arguments, Completion/Commands/_complete_help,
 	Completion/Commands/_next_tags, Completion/Core/_description,
 	Completion/Core/_next_label: use `set -A' instead of `eval' in
 	more places
	
	* 11524: Src/builtin.c: fix for read -q without a shout
	
	* 11523: Src/hist.c, Src/init.c, Src/lex.c, Src/zsh.h, Src/Zle/zle.h,
 	Src/Zle/zle_main.c, Src/Zle/zle_tricky.c: save and restore more
 	variables in bufferwords(); move gotword() into core
	
2000-05-22  Oliver Kiddle  <opk@zsh.org>

	* 11517: Completion/Core/_next_label: don't lose empty arguments

2000-05-22  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11516: Completion/Core/compinstall: select=long-list can
	be combined with select=some number.

2000-05-22  Bart Schaefer  <schaefer@zsh.org>

	* 11515: Completion/Base/_arguments: Fix infinite loop.

	* 11508: Doc/Zsh/index.yo: Add texipage() to printindex().

	* 11485, 11488: Relocate "Compatibility" and "Restricted Shell" docs.

2000-05-22  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 11501: Completion/Linux/_rpm: --buildarch is like --target.

2000-05-22  Sven Wischnowsky  <wischnow@zsh.org>

	* 11503: Src/Zle/zle_tricky.c: make sure wouldinstab is set before
 	calling docomplete()
	
	* 11500: Completion/Core/_main_complete: another fix for
 	`select=long*' in menu style
	
	* 11497: Completion/Core/_main_complete: fix for select-long-list
 	in menu style
	
	* 11496: Src/Zle/compmatch.c: fix for clines in suffix
	
	* 11493: Completion/Core/_main_complete, Doc/Zsh/compwid.yo,
 	Src/Zle/compcore.c, Src/Zle/zle_tricky.c: be more careful when
 	decided if to insert tabs instead of completing
	
	* 11490: Doc/Zsh/mod_zutil.yo, Src/Modules/zutil.c: remove -h
 	option from zstyle
	
	* 11489: Completion/Base/_arguments, Doc/Zsh/compsys.yo,
 	Src/Zle/computil.c: pat(-) in long-option patterns to say that
 	argument should be completed only after the `='; merge _arguments
 	and _argument_sets; slightly better test when not to complete options
	
	* 11487: Completion/Core/_expand, Src/Zle/complist.c: fix for
 	a-a-m-c in menu selection; scroll explanations onto screen again
 	when cursor comes near them
	
2000-05-21  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Doc/Zsh/options.yo: Missing () in a tt().
	
	* 11483: Doc/Zsh/func.yo: Fix formatting and other small errors
	introduced in 11352.

2000-05-21  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Config/version.mk: 3.1.7-pre-4.

	* 11478: Doc/Zsh/mod_complist.yo, Doc/Zsh/mod_computil.yo,
	Doc/Zsh/mod_parameter.yo, Doc/Zsh/mod_zle.yo,
	Doc/Zsh/mod_zprof.yo, Doc/Zsh/mod_zpty.yo, Doc/Zsh/mod_zutil.yo,
	Doc/Zsh/zftpsys.yo: Wording changes.

2000-05-20  Bart Schaefer  <schaefer@zsh.org>

	* 11477: Doc/Zsh/compsys.yo: Alphabetize itemized lists.

	* 11473: Src/utils.c: Turn off xtrace while printing PS4.

2000-05-19  Oliver Kiddle  <opk@zsh.org>

	* 11471: Completion/User/_netscape, Completion/User/_urls: do
	a better job of completing suffixes in netscape remote commands

2000-05-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* zsh-users/3071: Completion/Core/compdump: avoid HOME=/
	causing zcompdump beginning with //, which confuses cygwin.

	* 11467: Src/match.c, Src/params.c, Src/subst.c, Doc/Zsh/arith.yo:
	[#<base>] in math mode specifies output base for printing and any
	implicit type conversions.

	* zsh-users/3066: Src/system.h: undef HAVE_MMAP for cygwin;
	creates problems running external commands.

2000-05-19  Oliver Kiddle  <opk@zsh.org>

	* 11470: Completion/User/_su: fix to use user's shell after -c

2000-05-19  Bart Schaefer  <schaefer@zsh.org>

	* 11469: Completion/Commands/_complete_debug,
	Completion/Core/_main_complete: Locally unset the errexit option
	and ZERR trap.

	* 11461: Src/builtin.c: Make "read" interruptible even when used
	in the tail of a pipeline.

2000-05-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 11466: Src/Zle/compresult.c: fix for unambiguous string insertion
	
	* 11464: Completion/Base/_arguments, Completion/Core/_approximate,
 	Completion/Core/_files, Completion/Core/_multi_parts,
 	Completion/Core/_sep_parts, Completion/Debian/_apt,
 	Completion/User/_enscript, Completion/User/_finger,
 	Completion/User/_urls, Completion/X/_xutils: don't use $match for
 	something different than (#b)ackrefs
	
2000-05-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 11460: Completion/User/_netscape: fix for completion of
 	`netscape -remote'
	
	* 11459: Completion/Core/_main_complete, Doc/Zsh/compsys.yo: allow
 	_main_complete to call an arbitrary command given as arguments
	
	* 11457: Doc/Zsh/compsys.yo, Src/Zle/compctl.mdd: small doc fix;
 	make compcall autoload compctl module
	
2000-05-18  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11455: Completion/Core/_oldlist: old-menu defaults on.

2000-05-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 11453: Completion/Core/_files: make _files remove backslashes in
 	patterns
	
2000-05-17  Bart Schaefer  <schaefer@zsh.org>

	* Felix Rosencrantz: 11450: Test/comptest: Replace `tr` with
	parameter substitution.

2000-05-17  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws; 11448: Doc/Zsh/compsys.yo, Doc/Zsh/metafaq.yo: more
	changes of phrasing.

2000-05-17  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11444: Completion/Builtins/_zstyle: add old-list and old-menu.

2000-05-17  Tanaka Akira  <akr@zsh.org>

	* 11441: Test/comptest, Test/53completion.ztst,
	Test/54compmatch.ztst: use only one zsh process to test for each
	completion test file.

2000-05-17  Sven Wischnowsky  <wischnow@zsh.org>

	* Felix: 11397 and my 11439: Doc/Zsh/compwid.yo, Src/Zle/comp.h,
	Src/Zle/compcore.c, Src/Zle/compmatch.c, Test/.distfiles,
	Test/54compmatch.ztst, Test/comptest: add Felix' completion
	matching test; some fixes for bugs shown by it

2000-05-17  Bart Schaefer  <schaefer@zsh.org>

	* 11435: Test/53completion.ztst: Update for 11406.

	* 11431: Doc/Zsh/mod_zutil.yo: Chop up the zstyle entry into
	an itemized list for easier reference.

2000-05-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 11429: Completion/Core/_main_complete: fix completion after
 	tilde and equal sign inside quotes
	
2000-05-17  Tanaka Akira  <akr@zsh.org>

	* 11426: Src/Modules/zpty.c: don't use #elif.

2000-05-16  Tanaka Akira  <akr@zsh.org>

	* 11420: Src/Modules/zpty.c: try more pty device files.

2000-05-16  Bart Schaefer  <schaefer@zsh.org>

	* 11419: Test/Makefile.in: Interpolate TESTNUM variable in the
	glob that specifies which tests are run.
	
	* Felix Rosencrantz: 11398: Completion/User/_lzop,
	Completion/Bsd/_bsd_pkg: Fix typos in option descriptions.

	* 11378: Functions/Misc/is-at-least, Misc/make-zsh-urls: Remove
	RCS Id strings.

	* unposted: Doc/Zsh/cond.yo: Yodl off some excess whitespace.
	
2000-05-16  Tanaka Akira  <akr@zsh.org>

	* 11415: Completion/User/_cvs: follow the new matcher-list behaviour.

2000-05-16  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11410: Src/glob.c: tokenize `=' in tokenize(), so that `=cmd'
	will be a candidate for expansion if `~user' is (respecting
	any relevant options).

2000-05-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 11408: Completion/Core/_main_complete, Completion/Core/_normal,
 	Doc/Zsh/compsys.yo: fixed configuration of menu-selection with
 	menu style; pseudo-context `-command-line-', handy for completion
 	in vared

	* 11407: Completion/Base/_tilde, Completion/Core/_path_files:
 	avoid tilde- and parameter-completion in quotes

	* 11406: Completion/Base/_arguments: make _arguments take the
 	attempt to add matches as an indication not to do default
 	option-completion

	* 11403: Completion/Core/_expand, Src/Zle/compcore.c,
	Src/Zle/complist.c: fix scrolling in menu-selection with matches
	spanning multiple lines

2000-05-16  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: one hunk of 11381: Completion/Builtins/_vars_eq:
	bad substitution, now picked up by changes in 11380.

	* pws: 11402: Doc/Zsh/options.yo: correct and expand OCTAL_ZEROES
	entry.
	
2000-05-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 11401: Src/Zle/complist.c: make menu-select accept the match
 	when typing a non-special character
	
2000-05-16  Tanaka Akira  <akr@zsh.org>

	* 11396: Completion/User/_look: display a message when
	an argument is empty.

	* 11394: Completion/User/_cvs: rewrite filename completion
	functions.

2000-05-15  Tanaka Akira  <akr@zsh.org>

	* 11393: Completion/User/_diff_options: use `=-'.

	* 11392: Completion/Core/_description: ignore-line fix.

2000-05-15  Clint Adams  <schizo@debian.org>

	* 11387: Doc/Zsh/options.yo, Src/math.c, Src/options.c,
	Src/zsh.h: new option OCTAL_ZEROES to enable parsing
	in 11385, on by default in 'sh' emulation.

	* 11385: Src/math.c: interpret integer constants beginning
	with '0' as octal to conform to IEEE Std 1003.2-1992
	(ISO 9945-2:1993).

2000-05-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 11380: Src/subst.c: detect additional characters in parameter
 	expansions and signal an error for them
	
	* 11379: Completion/Base/.distfiles, Completion/Base/_in_vared,
 	Completion/Core/_compalso, Completion/Core/_complete,
 	Completion/Core/_main_complete, Doc/Zsh/compsys.yo: add _in_vared
 	for completion inside vared; make insert-tab default to `false'
 	there
	
2000-05-15  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11375: Completion/Core/compinstall: menu select keyword takes
	values long and long-list.

2000-05-15  Oliver Kiddle  <opk@zsh.org>

	* 11376: Makefile.in: install functions before man pages

2000-05-15  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* unposted: Etc/FAQ.yo: updated from website.

2000-05-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 11374: Src/Zle/compcore.c: extra paranoia for empty
 	prefix/suffix in completion matching
	
	* 11368: Src/utils.c: fix for empty (s::) separator and strings
 	with meta-characters
	
	* 11365: Src/Zle/zle_tricky.c: fix for completion of string with
 	single quote
	
	* 11364,11367: Completion/Core/_path_files, Src/Zle/compmatch.c:
	fix for suffix-matching; better in-path completion in _path_files
	
2000-05-15  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11362: Doc/Zsh/manual.yo, Doc/Zsh/metafaq.yo, Doc/Zsh/seealso.yo:
	pointers and menu entries for userguide wrong.

2000-05-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 11360: Src/Modules/zutil.c: zparseopts should detect if it is
 	called without option descriptions
	
2000-05-15  Oliver Kiddle  <opk@zsh.org>

	* 11358: Src/builtin.c, Src/hashtable.c, Completion/Builtins/_hash,
	Doc/Zsh/builtins.yo, Completion/Builtins/_vars_eq: add -L opt to hash

2000-05-14  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11352: Src/builtin.c: make integer builtin understand `-i base'.

	* 11352: Completion/Base/_jobs: typo in suspended jobs.

	* 11352: Doc/Zsh/*: various changes of phrasing.

2000-05-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 11349: Completion/Base/_arguments, Completion/Core/_message,
 	Src/Zle/computil.c: fix for completing options with `_arguments
 	-s'; fix for _message to use `builtin compadd'
	
2000-05-12  Oliver Kiddle  <opk@zsh.org>

	* 11347: Completion/Builtins/_hash, Completion/Builtins/_vars_eq:
	use _arguments for hash completion and add + options for typeset

2000-05-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 11346: Src/Zle/compmatch.c, Src/Zle/compresult.c: fixes for
 	completion matching
	
	* 11335: Src/Zle/compcore.c: fix for compadd -x when there are no
 	matches
	
2000-05-11  Bart Schaefer  <schaefer@zsh.org>

	* 11332: Completion/Commands/_complete_debug: Test descriptors
	correctly for redirect/restore of stderr; plus aesthetic tweak.

	* 11326: Src/exec.c: Don't reinitialize SHTTY upon "exec < file"
	when ZLE is active.

2000-05-11  Oliver Kiddle  <opk@zsh.org>

	* 11329: Completion/User/_groups: redirect ypcat stderr to /dev/null

2000-05-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 11324: Completion/Base/_argument_sets, Completion/Base/_arguments,
 	Src/Zle/computil.c: make _argument_sets add the options as
 	defaults when there is nothing else to complete

	* 11321: Completion/Core/_files: _files used alternative tag-order
 	values even if not needed

	* 11320: Completion/Base/_argument_sets, Completion/Base/_arguments,
 	Doc/Zsh/compsys.yo, Src/Zle/computil.c: allow internally-mutually
 	exclusive sets in _argument_sets; fixes for _argument_sets and the
 	C-code forit

	* 11319: Completion/Core/_main_complete, Doc/Zsh/compsys.yo,
 	Doc/Zsh/mod_complist.yo, Src/Zle/compcore.c, Src/Zle/complist.c:
 	make ^G in menu-selection restore the old command line; add
 	select=long* values for menu style to start menu-selection if list
 	is too long for screen

2000-05-11  Oliver Kiddle  <opk@zsh.org>

	* 11315: Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	Doc/Zsh/expn.yo, Doc/Zsh/grammar.yo, Doc/Zsh/mod_complist.yo,
	Doc/Zsh/mod_computil.yo, Doc/Zsh/mod_deltochar.yo,
	Doc/Zsh/mod_mathfunc.yo, Doc/Zsh/mod_parameter.yo, Doc/Zsh/mod_zle.yo,
	Doc/Zsh/mod_zutil.yo, Doc/Zsh/options.yo, Doc/Zsh/params.yo,
	Doc/Zsh/zftpsys.yo: Fix spelling in docs

	* 11316: Src/params.c: remove return value from uniqarray which
	caused a compiler error on IRIX

2000-05-10  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11314: Src/builtin.c, Src/params.c: typeset -Uing tied variables
	didn't update the value in the environment.

2000-05-10  Bart Schaefer  <schaefer@zsh.org>

	* 11312: Config/config.mk: defs.mk depends on config.status.

2000-05-10  Tanaka Akira  <akr@zsh.org>

	* 11309, 11310: Doc/Zsh/expn.yo: fix missing section.

2000-05-10  Bart Schaefer  <schaefer@zsh.org>

	* 11302: Functions/Zle/edit-command-line: Cursor placement and
	defensive programming.

2000-05-10  Oliver Kiddle  <opk@zsh.org>

	* 11301: Src/Zle/zle_misc.c: AIX dependency fix

	* 11300: Completion/User/_nedit: fix breakage from 11195

2000-05-10  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11299: Bart/pws: Functions/Zle/edit-command-line: edit command
	line with external editor.

2000-05-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 11298: Doc/Zsh/compsys.yo, Src/Zle/computil.c: more fixes for
 	_arguments and its docs
	
2000-05-10  Bart Schaefer  <schaefer@zsh.org>

	* 11297: Doc/Zsh/compwid.yo, Doc/Zsh/zle.yo: Document that ZLE
	user-defined widget functions are executed with standard input
	closed.
	
2000-05-10  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Naoki Wakamatsu: 11287: Completion/Core/compinstall: tab had
	incorrectly turned to spaces.

2000-05-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 11295: Doc/Zsh/compsys.yo, Src/Zle/computil.c: misc. _arguments
 	fixes
	
	* 11294: Src/Zle/computil.c: fix for `-+opt' with mutex list
	
	* 11292: Completion/Core/_files: update `%p' replacement in _files
	
2000-05-09  Bart Schaefer  <schaefer@zsh.org>

	* 11288: Completion/Commands/_complete_help,
	Completion/Core/_main_complete: Reopen stdin from /dev/null,
	because ZLE closes it during any widget function, which confuses
	some external programs.

2000-05-09  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11285: Src/Modules/zftp.c: move cleanup code to
	zftp_cleanup() to be called from exit hook.

2000-05-09  Oliver Kiddle  <opk@zsh.org>

	* 11284: Completion/Base/_math: use _math to complete the let builtin

	* 11282: Completion/Builtins/_vars_eq: complete using _arguments
	for typeset and its variants

2000-05-09  Tanaka Akira  <akr@zsh.org>

	* 11278: Completion/User/_ssh: disable forwarding to use ssh.

2000-05-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 11277: Functions/Misc/nslookup: make nslookup function more like
 	real nslookup

2000-05-09  Tanaka Akira  <akr@zsh.org>

	* 11276: configure.in, Src/Modules/zftp.c: fix build on OpenBSD.

2000-05-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 11274: Completion/Builtins/_zstyle, Completion/Core/_main_complete,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Src/Zle/compcore.c,
 	Src/Zle/zle_tricky.c: give control over insertion of tab when no
 	non-blank character before cursor; add insert-tab style
	
	* 11273: Completion/Base/_argument_sets,
 	Completion/Base/_arguments: option name clash in _arguments
	
	* 11272: Completion/Base/_arguments: fix for _arguments without
 	options and no more arguments to complete
	
	* 11270: Doc/Zsh/compsys.yo, Src/Zle/computil.c: new -A and -S
 	options to _arguments; `-opt=-' specs for options whose argument
 	has to come after the `='
	
2000-05-08  Oliver Kiddle  <opk@zsh.org>

	* 11268: Doc/Zsh/compsys.yo, Doc/Zsh/builtins.yo: minor typo fixes

	* unposted: Etc/CONTRIBUTORS fix

2000-05-08  Bart Schaefer  <schaefer@zsh.org>

	* 11264: Doc/Zsh/compat.yo: Missed bit for 10771.

2000-05-08  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11260: Doc/Zsh/options.yo: docs for 11044

	* Hiroki Tamakoshi: 11044: Src/options.c, Src/utils.c, Src/zsh.h: 
	Option to use Dvorak keyboard in spell-checking.

2000-05-08  Geoff Wing  <gcw@zsh.org>

	* gcw: unposted: Etc/CONTRIBUTORS fix

2000-05-08  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11252: Functions/Zftp/zf*: context should be
	e.g. `:zftp:zfopen', no colon at the end.

2000-05-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 11255: Src/Modules/zpty.c: close fd for pty-master in sub-shell
	
	* 11253: Completion/Base/_arguments, Src/Zle/computil.c: more
 	problems with optional arguments in _arguments
	
	* 11248: Src/Zle/compmatch.c: better cursor positioning in words
 	with multiple ambiguous word parts
	
2000-05-08  Tanaka Akira  <akr@zsh.org>

	* Bart, Tanaka Akira: 11247: Src/exec.c: Don't signal to a process
	group which has only zombie processes.

2000-05-08  Peter Stephenson <pws@zsh.org>

	* Config/version.mk: 3.1.7-pre-3

2000-05-08  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11244: Completion/Builtins/_zstyle, Completion/Core/_description,
 	Completion/Core/_expand, Doc/Zsh/compsys.yo: make _expand call
 	_complete when called from _expand_word; add ignore-line style to
 	ignore words already on the line
	
	* 11242: Completion/Builtins/_pids, Completion/Builtins/_zstyle,
 	Completion/Commands/_complete_help, Completion/Core/_all_labels,
 	Completion/Core/_approximate, Completion/Core/_expand,
 	Completion/Core/_ignored, Completion/Core/_main_complete,
 	Completion/Core/_prefix, Completion/Core/_setup,
 	Doc/Zsh/compsys.yo, Src/Zle/complete.mdd, Src/Zle/complist.c:
 	misc. completion cleanups and changes
	
2000-05-06  Bart Schaefer  <schaefer@zsh.org>

	* 11236: Completion/Base/_arguments: Handle tabs between options
	and their descriptions when parsing --help output.

2000-05-06  Tanaka Akira  <akr@zsh.org>

	* 11224: Util/mkdisttree.sh: problem with pattern matching `.' in
	find.

	* 11223: Completion/Base/_regex_arguments, Completion/Debian/_apt,
	Completion/X/_xset, Completion/X/_xwit, Doc/Zsh/compsys.yo:
	_regex_arguments use _alternative.

2000-05-05  Tanaka Akira  <akr@zsh.org>

	* 11219: Completion/User/_cvs, Completion/User/_diff_options: add
	option description to `_cvs' and fix typo in _diff_options.

2000-05-05  Oliver Kiddle  <opk@zsh.org>

	* 11216: Doc/Zsh/builtins.yo, Src/loop.c: small doc fix and AIX
	dependency fix

2000-05-05  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11214: Completion/Core/compinstall: remember file in
	filename style for :compinstall context; make null matchers
	more obvious.

	* 11200: Src/subst.c, Doc/Zsh/expn.yo: backout change that
	${foo/$subst/repl} would allow # and % anchors inside $subst.

	* Andrej Borsenkow: 11194: Completion/Base/_arguments,
	Completion/User/_configure: use globsubst for substitutions
	via -s option to _arguments and hence use (#s) for anchor
	in _substitutions from _configure.

2000-05-05  Tanaka Akira  <akr@zsh.org>

	* 11213: Completion/User/_cvs: don't complete files which is
	already on command line for `cvs add', `cvs remove' and `cvs commit'.

	* 11204: Completion/User/_look: use more precise explanation and
	complete an optional second argument.

2000-05-05  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11196: Functions/Misc/zmv: allow (**/) to map to a
	parameter in the obvious way; allow automatic recognition of
	wildcards with -w flag; turn off glob qualifiers by default, use
	-Q to turn on; fix bug with empty match eliding a positional
	parameter; fix bug that empty `to' pattern wasn't picked up.

	* pws: unposted: fixes for Etc/CONTRIBUTORS based on suggestions
	in 11187 and 11197

2000-05-05  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11195: Completion/AIX/_lsdev, Completion/Builtins/_bindkey,
 	Completion/Builtins/_compdef, Completion/Builtins/_zcompile,
 	Completion/Builtins/_zpty, Completion/Builtins/_zstyle,
 	Completion/User/_archie, Completion/User/_bzip2,
 	Completion/User/_compress, Completion/User/_enscript,
 	Completion/User/_finger, Completion/User/_gzip,
 	Completion/User/_imagemagick, Completion/User/_look,
 	Completion/User/_lynx, Completion/User/_lzop,
 	Completion/User/_mutt, Completion/User/_nedit,
 	Completion/User/_nslookup, Completion/User/_socket,
 	Completion/User/_telnet, Completion/User/_wget,
 	Completion/User/_whois, Completion/X/_xauth: completion function
 	cleanup for `_arguments' with the `-C' option and using it's
 	return value
	
	* 11193: Src/Zle/comp.h, Src/Zle/compcore.c: some more memory
 	initialisation after allocation; shouldn't possibly have done any
 	harm
	
2000-05-05  Tanaka Akira  <akr@zsh.org>

	* 11190: Completion/User/_look: new completion for look.

2000-05-05  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11185: Etc/CONTRIBUTORS: updated for 3.1.7.

2000-05-05  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11188: Completion/Core/_main_complete, Completion/Core/_message:
 	make _message independent of when it is called
	
	* 11186: Functions/Misc/nslookup: use `eval' in nslookup for
 	pager, in case someone has PAGER='less -foo' or some such
	
2000-05-05  Oliver Kiddle  <opk@zsh.org>

	* 11184: Completion/User/.distfiles, Completion/User/_bzip2,
	Completion/User/_compress, Completion/User/_lzop,
	Completion/User/_pack, Completion/User/_zcat: use one function for
	each of compress/uncompress and pack/unpack and new lzop completion

2000-05-05  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11181: Src/Modules/zpty.c: make zpty -r stoppable even when
 	SIGINT is caught (and the handler calls return or some such)
	
	* 11177: Functions/Misc/nslookup: make nslookup page it's output
 	if too long for screen
	
	* Wayne: 11171: Src/builtin.c, Src/hist.c: fix for print -s when
	called from widget; added lines are not immediately available,
	though

	* 11172: Src/Zle/computil.c: fix for completion arguments of
 	options, don't use all of them at once
	
	* 11170: Src/jobs.c: fix for jobs -l -d, check if directory of job
 	is already set
	
2000-05-04  Tanaka Akira  <akr@zsh.org>

	* 11166: Completion/Base/_regex_arguments: remove debugging code.

	* 11165: Completion/Base/_regex_arguments, Completion/Debian/_apt,
	Completion/X/_xset, Completion/X/_xwit, Doc/Zsh/compsys.yo,
	Src/Modules/zutil.c: _regex_arguments support tag stuff.

	* 11157: Completion/Core/_requested: fail if _all_labels is failed.

2000-05-04  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11147: Test/08traps.ztst: test for trap bugs fixed in
	11026 and 11066.

2000-05-04  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11151: Src/exec.c, Src/parse.c, Src/Modules/zpty.c: close dump
 	file descriptors in children
	
	* 11145: Src/lex.c: parse_subst_string() should use modified
 	version of `len'
	
	* 11144: Src/Modules/zpty.c: make pty the controlling terminal of
	their commands

	* 11142: Src/lex.c: save and restore `len' in lexsave/restore
	
	* 11140: Completion/Builtins/_zstyle, Completion/Core/_main_complete,
 	Doc/Zsh/compsys.yo, Src/Zle/compcore.c, Src/Zle/compctl.c: don't
 	list when all matches look the same; force-list style to give
 	users control over this
	
2000-05-03  Tanaka Akira  <akr@zsh.org>

	* 11137: Test/07cond.ztst: detect block device file using find.

2000-05-03  Bart Schaefer  <schaefer@zsh.org>

	* 11136: Doc/Zsh/expn.yo: Reorganize history expansion doc.

2000-05-03  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11126: Doc/Zsh/expn.yo: typos in 11117.

2000-05-03  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11121: Completion/User/_fakeroot, Completion/User/_rlogin,
 	Completion/User/_ssh, Completion/User/_sudo,
 	Completion/User/_xargs, Completion/X/_xutils, Doc/Zsh/compsys.yo,
 	Src/Zle/computil.c: allow `-' in exclusion lists for _arguments,
 	to avoid completing all options
	
	* 11117: Doc/Zsh/expn.yo, Src/hist.c: fix for the (z) flag: report
 	partial word (like `"foo', without a closing quote); mention in
 	manual that (z) is handled lately
	
	* Andrej: 11067: Completion/Builtins/_zcompile: handle -t option

	* 11113: Doc/Zsh/expn.yo, Src/hist.c, Src/subst.c,
 	Src/Modules/parameter.c, Src/Zle/zle_misc.c: new (z) parameter
 	flag to do shell-word splitting on the value
	
	* 11110: Completion/Core/_expand, Src/Zle/complist.c: remove
 	backslashes before `$' in _expand when `substitute' is unset; fix
 	for clearing end-of-list lines in menu-selection
	
2000-05-03  Tanaka Akira  <akr@zsh.org>

	* 11109: Completion/X/_xauth: new completion for xauth.

	* 11106: Completion/User/_mount: fix glob for device files.

2000-05-03  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11096: Test/ztst.zsh, Test/13parameter.ztst: fix test output
	for C locale and ensure C locale is used

2000-05-03  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11094: Doc/Zsh/compsys.yo: more doc fixes
	
	* 11092: Completion/Base/_arguments, Src/Zle/compcore.c: make sure
 	that completion messages are displayed even when there are no
 	matches
	
	* 11091: Functions/Zftp/zfcd_match: fix for completion of
 	directories for zftp suite
	
	* 11086: Src/builtin.c: allow calling `print -s' in widgets, avoid
 	duplicated history number
	
2000-05-02  Bart Schaefer  <schaefer@zsh.org>

	* 11077: Relocate misplaced redirection from 11043.

	* 11036, 11063: Always write the `read -q' prompt to shout;
	elminate some redundant close() calls.

2000-05-02  Oliver Kiddle  <opk@zsh.org>

	* 11078: README: update download location for yodl

2000-05-02  Tanaka Akira  <akr@zsh.org>

	* 11075: configure.in: install completion functions for AIX and BSD.

2000-05-02  Andrew Main  <zefram@zsh.org>

	* 11074: Src/Makemod.in.in: make sure .{e,}pro files are
	non-empty, to keep the AIX compiler quiet.

2000-05-02  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11066: Src/exec.c: suppress doing ZERR traps at the end
	of a sequence of &&/|| when another sublist follows.

2000-05-02  Oliver Kiddle  <opk@zsh.org>

	* 11065: Completion/Commands/_complete_debug: small fix to avoid
	using slashes in temporary file name

2000-05-02  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11061: Functions/Misc/zrecompile: make zrecompile detect deleted
 	and new files
	
	* 11060: Doc/Zsh/compsys.yo: two more doc fixes
	
2000-05-02  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11057: Src/builtin.c:  getopts for options with arguments
	miscounted $OPTIND and index into subsequent options (see 9095).

2000-05-02  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11058: Completion/Core/_message, Doc/Zsh/compwid.yo, Src/Zle/comp.h,
 	Src/Zle/compcore.c, Src/Zle/complete.c: add -x option to compadd
 	to display message unconditionally
	
	* 11053: Completion/Commands/_complete_help: always use empty
 	matcher-list style in _complete_help
	
	* 11052: Src/Zle/computil.c: fix for _arguments, use
 	on-line-argument-numbers only for normal arguments, not for
 	arguments of options
	
	* 11049: Completion/Base/_arguments, Completion/Base/_first,
 	Completion/Builtins/_hash, Completion/Core/_expand,
 	Completion/User/_gprof, Completion/User/_mount,
 	Completion/User/_socket, Completion/User/_urls: completion
 	cleanup, mostly _wanted and $expl
	
	* 11048: Completion/Base/_first, Completion/Core/_complete,
 	Completion/Core/_path_files: make completion-in-vared complete
 	parameter values as default; cleanup for _path_files
	
	* 11047: Completion/Core/_sort_tags, Doc/Zsh/compsys.yo,
 	Doc/Zsh/compwid.yo: completion doc fixes and cleanup; _sort_tags
 	updated
	
2000-05-01  Bart Schaefer  <schaefer@zsh.org>

	* 11043: Completion/Core/_expand, Completion/User/_nedit: Catch
	an eval-time parse error by forcing the eval into a subshell;
	don't fail on nonexistent ~/.nedit file.

2000-05-01  Oliver Kiddle  <opk@zsh.org>

	* 11041: Completion/User/.distfiles, Completion/User/_bzip2:
	use of _arguments for bzip2 completion

	* 11037: Etc/MACHINES, Etc/NEWS, Etc/completion-style-guide,
	Etc/zsh-development-guide: spelling corrections

2000-04-30  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11033: Completion/Commands/.distfiles,
	Completion/User/.distfiles, Config/version.mk, Etc/NEWS:
	new NEWS and minor fixes for version 3.1.7-pre-2.

2000-04-30  Bart Schaefer  <schaefer@zsh.org>

	* 11032: Src/init.c: Fix signed-ness problem reported by OPK.

2000-04-30  Oliver Kiddle  <opk@zsh.org>

	* 11031: Src/math.c, Src/glob.c, Src/module.c, Src/Zle/compcore.c
	Src/Zle/compresult.c: AIX dependency fixes.

2000-04-30  Bart Schaefer  <schaefer@zsh.org>

	* 11029: Src/hashtable.c, Src/signals.c: Back out more bits of
	11015 made obsolete by 11026.

2000-04-30  Clint Adams  <schizo@debian.org>

	* 11027: Josip Rodin: Completion/User/_joe:
	completion for joe.

2000-04-30  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11026: Src/builtin.c, Src/hashtable.c, Src/signals.c,
	Test/08traps.ztst: fix unfunction problem for localtraps by
	always copying traps to be saved, hence decoupling saved and actual
	traps.

2000-04-30  Bart Schaefer  <schaefer@zsh.org>

	* 11024: Completion/Commands/_complete_debug, Doc/Zsh/compsys.yo:
	Completion widget that enables and captures xtrace output.

2000-04-29  Adam Spiers  <adam@spiers.net>

	* 11019: Doc/Zsh/compsys.yo: fix bug in _description example

	* 11017: Completion/Linux/_rpm: fixes for --rmsource and
	--recompile options, and for breakage caused by 10772

2000-04-28  Bart Schaefer  <schaefer@zsh.org>

	* 11015: Src/builtin.c, Src/hashtable.c, Src/signals.c:
	`unfunction TRAPxxx' now works with localtraps in effect.

2000-04-28  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11013: Completion/Core/compinstall: more breaks and
	a completion context.

2000-04-28  Bart Schaefer  <schaefer@zsh.org>

	* 11012: Doc/Zsh/intro.yo, Doc/Zsh/manual.yo: Reorder menus
	to match sections in 11008.

2000-04-28  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11008: Doc/zsh.yo, Doc/Zsh/compctl.yo, Doc/Zsh/compsys.yo,
 	Doc/Zsh/compwid.yo, Doc/Zsh/modules.yo, Doc/Zsh/seealso.yo,
 	Doc/Zsh/zle.yo: move compctl docs behind compsys, mention
 	`zcompile -z' in compsys
	
	* 11007: Src/Zle/compmatch.c: misplaced cursor with partial-word
 	matching
	
	* Tanaka: 11001: Completion/User/_enscript, Completion/User/_lp,
	Completion/User/_printers: printer-detection moved to new
	_printers; used by _enscript

	* 11003: Src/Zle/computil.c: fix for reporting multiple actions in
 	comparguments, options with non-optional arguments
	
2000-04-28  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 10999: Completion/Core/compinstall: some idiot didn't
	get searching of alternative files for definitions to work properly.

2000-04-28  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10992: Src/Zle/complist.c: avoid wrapping around both
 	horizontally and vertically at the same time
	
2000-04-27  Bart Schaefer  <schaefer@zsh.org>

	* Tanaka Akira: 10980: Completion for enscript.

2000-04-27  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10985: Completion/Core/compinstall: _oldlist, list-prompt and
	matcher-list enhancements.

2000-04-27  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10979: originally from Felix: 10894: Completion/Core/.distfiles,
	Completion/Core/_history, Doc/Zsh/compsys.yo: new _history completer
	
	* 10978: Src/Zle/complist.c: better wrap around for cursor
	movement widgets; avoid flicker when leaving menu-selection
	
	* 10977: and Andrej: 10976: Completion/User/_make: use $words[1]
 	to call make in _make and throw away stderr and use _call
	
	* 10974: Completion/Base/_arguments: ensure $PWD is prepended to
 	cache-names for long options in _arguments
	
2000-04-27  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10971: Src/pattern.c: noglobdots didn't work with the PAT_ANY
	flag, which meant that **/ always globbed dots.

2000-04-27  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10967: Completion/Base/_arguments: fix for automatic
 	option-argument completion with partially typed option in _arguments
	
	* 10965: and Felix: 10952: Completion/User/_urls,
 	Doc/Zsh/compsys.yo: document _wanted -C; fix for call to _wanted
 	in _urls
	
	* 10963: Src/Zle/complete.c: fix for parse error with
 	left-anchored patterns
	
	* 10961: Src/Zle/complist.c: make menu-selection handle
 	undefined-key
	
	* 10959: Completion/Core/_main_complete, Doc/Zsh/compsys.yo,
 	Doc/Zsh/mod_complist.yo, Src/params.c, Src/Zle/compcore.c,
 	Src/Zle/complete.c, Src/Zle/complist.c, Src/Zle/compresult.c:
 	renamed parameters for menu selection to MENUSELECT, MENUPROMPT
 	and MENUSCROLL; no special value for LISTMAX to turn on list
 	scrolling, this is done by setting LISTPROMPT now; default values
 	for LISTPROMPT and MENUPROMPT when set but empty
	
2000-04-27  Adam Spiers <adam@spiers.net>

	* 10949: Completion/User/_perl_modules: print warning when
	perl not found on PATH forces guessing of @INC

2000-04-26  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10933: Completion/Commands/_bash_completions,
 	Completion/Commands/_history_complete_word: ensure options are set
 	as expected in _history_complete_word and _bash_completions
	
	* Adam Spiers: 10892: Completion/User/_perl_modules: ensure perl
	is there and better pattern for searching modules

	* Tanaka Akira: 10890: Completion/User/_gunzip,
	Completion/User/_gzip, Completion/User/_zcat: new completion for
	GNU zip commands

	* Tanaka Akira: 10885: Completion/X/_xset: new completion function
	for xset

	* 10926: Completion/X/_x_color, Doc/Zsh/compwid.yo, Src/Zle/complete.c,
 	Src/Zle/compmatch.c: allow to anchor on gaps between strings in
 	matching control specs
	
	* 10925: Src/Zle/compmatch.c: faster test for `*'-patterns in
 	matching control; prefer direct character matches over match specs
 	in recursive invocations of match_str()
	
	* 10924: Src/Zle/compmatch.c: fix for matching control; improve
 	merging cline lists
	
	* 10923: Completion/Core/_main_complete: better default value for
 	list-prompt style
	
	* 10922: Completion/Core/_path_files: file-sort made $fignore fail
	
2000-04-25  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10917: Src/Zle/complist.c, Src/Zle/compresult.c: don't show
 	empty hidden matches even in menu-selection
	
	* 10916: Completion/Core/_main_complete, Src/Zle/complist.c:
 	re-calculate number of line with mark when needed; make default
 	prompts more consistent
	
	* 10915: Src/Zle/computil.c: forgotten fix for _arguments using
 	multiple actions
	
	* 10912: Src/Zle/compresult.c: don't always ignore backslashes in
 	paths when testing file type
	
	* 10910: Completion/Base/_tilde, Completion/Core/_all_labels,
 	Completion/Core/_requested: small fix for _requested to be able to
 	use _all_labels from within it
	
	* 10909: Completion/Core/_expand, Src/Zle/compcore.c,
 	Src/Zle/compresult.c: report prefix/suffix of parameter expansion
 	in IPREFIX/ISUFFIX; make _expand use them to be able to expand $foo
	
	* 10908: Completion/Base/.distfiles, Completion/Base/_argument_sets,
 	Completion/Base/_arguments, Completion/Base/_describe,
 	Completion/Builtins/_bindkey, Completion/Builtins/_compdef,
 	Completion/Builtins/_emulate, Completion/Builtins/_zpty,
 	Completion/Core/_tags, Doc/Zsh/compsys.yo,
 	Etc/completion-style-guide, Src/Zle/computil.c: make _arguments
 	use more than one action when appropriate; add _argument_sets to
 	complete different sets of arguments and options for the same command
	
2000-04-24  Bart Schaefer  <schaefer@zsh.org>

	* 10900: Src/Makefile.in: Replace a dependency on Makefile with a
	more accurate dependency on config.status.

2000-04-20  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10881: Functions/Misc/zrecompile: don't remove *all* .zwc files,
 	keep the first one
	
	* 10868: Src/Zle/complist.c: fix off-by-one error in scrolled
 	menu-selections
	
	* 10861: Completion/Bsd/.distfiles, Completion/Bsd/_bsd_pkg,
 	Completion/Bsd/_cvsup, Completion/Bsd/_kld: new completions for
 	FreeBSD commands
	
	* 10854: Completion/Commands/_expand_word, Completion/Core/_expand,
 	Doc/Zsh/compsys.yo: default values for styles in _expand_word,
 	listing expansions with ^Xd, _expand uses add-space style
	
2000-04-20  Oliver Kiddle  <opk@zsh.org>

	* 10857: Completion/AIX/.distfiles Completion/AIX/_floppy
	Completion/AIX/_lsdev Completion/AIX/_lslv Completion/AIX/_lspv
	Completion/AIX/_lsvg Completion/AIX/_physical_volumes
	Completion/AIX/_smit Completion/AIX/_volume_groups: new completions
	for AIX commands

	* 10848: Completion/Builtins/_print, Completion/Core/.distfiles,
	Completion/Core/_file_descriptors: Add completion for file
	descriptors

2000-04-19  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Config/version.mk: 3.1.7-pre-1

	* Functions/Misc/.distfiles: add zstyle+.

	* Test/.distfiles, Test/12procsubst.ztst, Test/13parameter.ztst,
	Test/ztst.zsh: new tests; use null glob clearing up.

2000-04-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Ollivier Robert: 10844: prefer curses to termcap on HPUX 11
	like 10.

2000-04-19  Oliver Kiddle  <opk@zsh.org>

	* 10833: Completion/Builtins/_print, Completion/Builtins/.distfiles,
	Completion/Builtins/_nothing: new print completion, no arguments to
	clear and logname

2000-04-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10830: Doc/Makefile.in: don't force dvips to use 300 dpi.

2000-04-19  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10828: Src/module.c, Src/Zle/zle_tricky.c: ensure zsh/compctl
 	(ick!) module is loaded when zle is loaded from init file but
 	zsh/complete isn't
	
	* 10816: Completion/Core/_main_complete, Doc/Zsh/compsys.yo,
 	Doc/Zsh/mod_complist.yo, Src/Zle/complist.c: default for
 	list-prompt style, %[MLP] use fixed-width strings, %[mlp] use
 	variable-width strings
	
2000-04-18  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10812: Completion/Core/_path_files: fix completion after ~<num>
	
2000-04-18  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10808: Completion/Core/compinstall: handle list-prompt.

	* 10802: Doc/Zsh/mod_complist.yo: typo

2000-04-18  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10807: Completion/Base/_value: change suffix added when
 	completing an assigned value
	
	* 10801: Completion/Builtins/_zstyle, Completion/Core/_main_complete,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/mod_complist.yo,
 	Src/Zle/complist.c: completion list scrolling cleanup; *STATUS
 	renamed to *PROMPT, styles for new used parameters, use local
 	keymap when waiting at list-prompt
	
	* 10799: Src/text.c: fix to get newlines in non-job-texts (I'm
 	sooo stupid)
	
	* 10798: Src/Zle/compmatch.c: join_clines() tested the wrong
 	variable
	
2000-04-17  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10789: Doc/Zsh/expn.yo: better documentation for <(...) and
	>(...) implementations and their drawbacks.

	* Chmouel: 10772: Completion/Linux/_rpm:  --target support.

2000-04-17  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10795: Functions/Misc/zstyle+: simplify definiton of styles

	* 10790: Doc/Zsh/mod_complist.yo, Src/params.c, Src/Zle/compcore.c,
 	Src/Zle/complete.c, Src/Zle/complist.c, Src/Zle/compresult.c,
 	Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c: scrolling in completion
 	lists and menu-selection, version1
	
	* 10788: Src/text.c: display newlines as spaces in job-texts
	
	* 10782: Src/Zle/computil.c: fix for exclusion lists for -+o
 	specifications
	
	* 10780: Completion/Base/_default, Completion/Base/_value,
 	Completion/Builtins/_vars_eq, Completion/Builtins/_zstyle,
 	Doc/Zsh/compsys.yo: better completion after `=', everywhere
	
	* 10775: Completion/Core/_description, Completion/Core/_path_files,
 	Completion/Core/_tags, Src/Zle/computil.c: make _tags use C-code
 	for braces in tag-order values; and misc. stuff
	
	* 10774: Src/Zle/compmatch.c: fix for partial word completion with
 	empty parts and common suffix
	
2000-04-16  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10771: Etc/MACHINES: successful compilation on OpenBSD, from
	Anthony Schneider.

	* 10771: Doc/Zsh/builtins.yo, Doc/Zsh/options.yo, Src/builtin.c,
	Src/options.c, Src/zsh.h: New option GLOBAL_EXPORT set by default
	makes typeset -x equivalent to typeset -gx.

2000-04-15  Clint Adams  <schizo@debian.org>

	* 10768: configure.in: DLLDFLAGS for OpenBSD.

2000-04-14  Clint Adams  <schizo@debian.org>

	* 10764: Radim Kolar: Functions/Misc/run-help: support
	for reserved words and multiple arguments being passed
	on to man.

	* 10763: Completion/Builtins/_vars_eq: complete after :

2000-04-14  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10760: Completion/User/_diff_options: just some missing `+'s

2000-04-14  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10756, 10761: Doc/Zsh/expn.yo, Src/glob.c, Src/pattern.c,
	Src/zsh.h: fix (#s) and (#e) to work in allerlei parameter
	substitutions; fix potential problem with (#e) in exclusions; note
	things in manual which should work.

2000-04-13  Clint Adams  <schizo@debian.org>

	* 10748: configure.in: set MAXJOB to whatever you want.

	* 10745: acconfig.h, configure.in, Src/zsh.h: set MAXJOB
	to MAX_TASKS_PER_USER if available under Linux.

2000-04-13  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10743: Src/params.c: replenv() failed importing special params
	at start up because it was using the wrong environment block.

	* 10738: Doc/Zsh/builtins.yo, Doc/Zsh/params.yo, Src/builtin.c,
	Src/params.c: local parameters can be exported; typeset +g -x
	and local -x work in a natural way; currently typeset -g still
	behaves like typeset -gx.

2000-04-13  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10733: Completion/Builtins/_pids, Completion/User/_killall,
 	Doc/Zsh/compsys.yo: remove the `pids' tag, use `processes' instead
	
	* 10727: Src/builtin.c: make read -[kq] always print the prompt,
 	if any; after all they make sure they have a terminal anyway
	
	* 10726: Src/hashtable.c: fix field name for HAVE_NIS_PLUS
	
	* 10725: Src/Zle/compcore.c, Src/Zle/compctl.c,
 	Src/Zle/compresult.c: comment the `#if's for group numbers in
 	$compstate[insert]
	
	* 10724: Src/Zle/compresult.c, Src/Zle/zle_tricky.c: display
 	number of matches again when asking if a completion list should be
 	shown (only when not zero)
	
2000-04-12  Bart Schaefer  <schaefer@zsh.org>

	* 10706: Andrej: Completion/User/_man: Fix quoting in awk args.

2000-04-12  Oliver Kiddle  <opk@u.genie.co.uk>

	* 10701: Completion/Builtins/_bindkey, Doc/Zsh/mod_zle.yo:
	use _arguments for bindkey completion and fix typo in docs

2000-04-12  Bart Schaefer  <schaefer@zsh.org>

	* 10700: Andrej: Completion/User/_man: Support for Pyramid.

2000-04-12  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10699: Src/parse.c, Src/zsh.h: compare mapped zwc files using
 	stat instead of the pathnames
	
	* 10695: Completion/Core/_files, Completion/Core/_tags,
 	Doc/Zsh/compsys.yo: allow brace expansion on patterns for
 	file-patterns and tag-order
	
	* 10692: Src/builtin.c: missing initialisation for next field in
 	assignments for substitutions for fc builtin

	* 10691: Completion/Core/_main_complete, Completion/Core/_oldlist:
 	keep _oldlist from using the dummy match inserted for warnings
	
	* 10690: Doc/Zsh/compwid.yo, Src/Zle/compcore.c, Src/Zle/compctl.c,
 	Src/Zle/compresult.c: comment out the code to allow
 	$compstate[insert] to select the group
	
	* 10686: Src/Zle/compresult.c, Src/Zle/zle_tricky.c: display
 	number of lines instead of number of matches when asking whether
 	to show completion lists
	
	* 10685: Doc/Zsh/zle.yo, Src/hist.c, Src/Modules/parameter.c,
 	Src/Zle/iwidgets.list, Src/Zle/zle_misc.c: new widget
 	copy-prev-shell-word, like copy-prev-word but uses shell parsing
 	to find word
	
2000-04-11  Clint Adams  <schizo@debian.org>

	* 10680: Completion/User/_diff_options: spelling corrections.

2000-04-11  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10669: Completion/Core/compinstall:  will now ask for
	alternative files both for input and output.

2000-04-11  Bart Schaefer  <schaefer@zsh.org>

	* 10681: Completion/Commands/_complete_help: Setopts the same
	as _main_complete.

	* 10657: Completion/User/_make: One change missed in 10635.

	* Functions/Prompts/prompt_bart_setup: No-op cleanup.

2000-04-11  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10650: Completion/Core/_files: make trailing blanks in
 	file-patterns tags be removed
	
	* 10648: Completion/Core/_oldlist: make _oldlist ignore old list
 	when _complete_help is used
	
	* 10641: Completion/Core/_approximate, Completion/Core/_match,
 	Completion/Core/_oldlist: make _oldlist ignore list from
 	_complete_help; _match runs for every match spec from
 	matcher-list; _approximate doesn't redefine compadd if that is
 	already a function
	
	* 10635: Completion/User/_make: _make uses $words[1] for command
 	name
	
	* 10632: Completion/Base/_brace_parameter, Completion/Base/_condition,
 	Completion/Base/_default, Completion/Base/_describe,
 	Completion/Base/_first, Completion/Base/_jobs,
 	Completion/Base/_values, Completion/Builtins/_compdef,
 	Completion/Builtins/_hash, Completion/Builtins/_pids,
 	Completion/Builtins/_popd, Completion/Builtins/_sched,
 	Completion/Builtins/_signals, Completion/Builtins/_vars,
 	Completion/Builtins/_zcompile, Completion/Builtins/_zftp,
 	Completion/Builtins/_zpty, Completion/Builtins/_zstyle,
 	Completion/Commands/_next_tags, Completion/Core/_all_labels,
 	Completion/Core/_files, Completion/Core/_next_label,
 	Completion/Core/_requested, Completion/Core/_wanted,
 	Completion/Debian/_apt, Completion/Debian/_deb_packages,
 	Completion/User/_cvs, Completion/User/_gdb,
 	Completion/User/_gprof, Completion/User/_groups,
 	Completion/User/_lp, Completion/User/_mh, Completion/User/_mount,
 	Completion/User/_netscape, Completion/User/_nslookup,
 	Completion/User/_rlogin, Completion/User/_socket,
 	Completion/User/_tiff, Completion/User/_urls,
 	Completion/User/_users, Completion/User/_users_on,
 	Completion/User/_whois, Completion/X/_x_colormapid,
 	Completion/X/_x_display, Completion/X/_x_extension,
 	Completion/X/_x_font, Completion/X/_x_keysym,
 	Completion/X/_x_window, Completion/X/_xmodmap,
 	Completion/X/_xutils, Completion/X/_xwit, Doc/Zsh/compsys.yo,
 	Etc/completion-style-guide, Functions/Zftp/zfcd_match,
 	Functions/Zftp/zfget_match, Src/Zle/computil.c: _wanted now tests
 	both tags and labels; change places where _wanted was called
 	without a command; allow multiple patterns per string in
 	file-patterns; update _next_tags to work with labels
	
2000-04-10  Bart Schaefer  <schaefer@zsh.org>

	* 10628: Doc/Zsh/compsys.yo, Completion/User/_make: Check for
	GNU make using "_call version ..." as was done for GNU diff.

2000-04-10  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10625: Src/parse.c, Src/signals.c: detect ignored signals
 	correctly
	
	* 10622: Completion/Core/_files: typo caused ignored-patterns to
 	be ignored
	
	* 10621: Src/Zle/zle_tricky.c: addx() inserts x more often
	
	* 10620: Src/exec.c: properly restore scriptname in doshfunc()

	* users/3019: Completion/Core/_path_files: use special-dirs with
 	_path_files -g
	
	* 10614: Src/Modules/parameter.c: more careful with checking index
 	of $history
	
	* 10609: Src/Zle/compcore.c, Src/Zle/compresult.c, Src/Zle/zle_tricky.c:
 	fix for bashautolist+automenu
	
2000-04-09  Bart Schaefer  <schaefer@zsh.org>

	* 10606: Fix thinko in 10598.

	* 10602: Completion/Core/compinstall: Fix typo.

	* 10598: Completion/Builtins/_zstyle, Doc/Zsh/compsys.yo:
	Fix typo; reformat styles documentation for readability.

2000-04-09  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Config/version.mk: 3.1.6-dev-22.

	* Completion/Core/compinstall, Doc/Zsh/compsys.yo:  rewrite
	of compinstall to set styles.  Most of this was already in
	3.1.6-dev-21.

2000-04-08  Bart Schaefer  <schaefer@zsh.org>

	* 10594: Functions/Prompts/prompt_bart_setup: Fix index into
	$history in prompt_bart_precmd.

	* 10591: Chmouel Boudjnah: Completion/User/_fakeroot: Completion
	for the fakeroot program.

	* 10590: Chmouel Boudjnah: Completion/Linux/_rpm: Signature
	checking completes only local package files.

2000-04-07  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10584: Doc/Zsh/mod_stat.yo, Src/Modules/stat.c: -o shows
	numeric file modes in octal.

2000-04-07  Bart Schaefer <schaefer@zsh.org>

	* 10582: Src/exec.c: Apply STTY only to process group leaders.

	* 10581: Etc/BUGS, Src/Modules/zpty.c: Note a fixed bug; typo.

	* Chmouel Boudjnah: 10562: Completion/Linux/_rpm: Complete
	only .src.rpm files for "rpm --rebuild".

2000-04-07  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10579: Completion/Base/_arguments, Completion/Base/_values,
 	Completion/Core/_alternative: make sure caller-supplied
 	explanation takes precedence
	
	* 10575: Completion/User/_make: complete make targets of the form
 	`foo bar:'
	
	* 10573: Src/Zle/compmatch.c: cursor placed on wrong word part
 	with ** match spec
	
	* 10571: Completion/Core/_main_complete,
 	Completion/Core/_path_files: missing initialisations, -W with
 	multiple directories didn't work

2000-04-06  Clint Adams  <schizo@debian.org>

	* Felix Rosencrantz: 10564: Completion/X/_x_display:
	typo in _wanted.

	* 10565: acconfig.h, configure.in, Src/exec.c:
	add configure option for function depth limit.

	* 10566: Src/glob.c: change invocation of patgetglobflags
	to use two arguments.

2000-04-06  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10547: Doc/Zsh/expn.yo, Misc/globtests, Src/pattern.c,
	Src/subst.c, Test/11glob.ztst, Test/ztst.zsh: add
	(#s) and (#e) to match at start and end of string.

2000-04-06  Andrew Main  <zefram@zsh.org>

	* 10555: Src/lex.c: Support "3&> foo" etc.

2000-04-06  Andrew Main  <zefram@zsh.org>

	* 10552: configure.in, Etc/zsh-development-guide: List of tools
	required for development work, and a little more conspicuous
	explanation of the config.status hack.

2000-04-06  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10543: Makefile.in: avoid distcleaning Test twice

	* 10542: Completion/Core/_files, Doc/Zsh/compsys.yo: tag in
	file-patterns optional, use `files' as default

	* 10531: Src/init.c: use `zsh' as command name in error messages
	even with -c

2000-04-05  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10524: Util/mkdisttree.sh: always copy files to tarred tree;
	chmod g-s.

	* Oliver: 10519: Src/utils.c, Doc/Zsh/compsys.yo: AIX dependencies
	and minor typo in docs.

	* Alexandre: 10516: Completion/User/_prcs: diff options behaviour.
	
	* 10513: Src/glob.c, Doc/Zsh/expn.yo: glob order qualifier (od)
	implements depth-first ordering.

2000-04-05  Bart Schaefer  <schaefer@zsh.org>

	* 10499: Makefile.in: Dependencies relative to $(sdir).

2000-04-05  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10514: Completion/Base/_arguments, Doc/Zsh/compsys.yo:
	support automatically inserted dummy in $words

	* 10511: Completion/Debian/_apt, Completion/Debian/_bug,
	Completion/Debian/_dpkg, Completion/User/_chown,
	Completion/User/_dvi, Completion/User/_imagemagick,
	Completion/User/_ispell, Completion/User/_lp,
	Completion/User/_mount, Completion/User/_mysql_utils,
	Completion/User/_pbm, Completion/User/_psutils,
	Completion/User/_rcs, Completion/User/_rlogin,
	Completion/User/_ssh, Completion/User/_tiff, Completion/User/_yp,:
	Completion/X/_xutils: use basename of commands instead of $words[1]

	* 10508: Completion/Builtins/_zstyle, Completion/Core/_path_files,
	Doc/Zsh/compsys.yo, Functions/Zle/incremental-complete-word: 
	renaming some styles

	* 10507: Completion/Core/_files, Completion/Core/_main_complete:
	two small fixes (-g in _files and menu style)

	* 10502: Src/parse.c: use magic number in zwc files as zwc-version,
	report zsh-version in error message.

	* 10500: Doc/Zsh/zle.yo, Functions/Zle/incremental-complete-word,
	Src/utils.c, Src/Zle/zle_params.c: add zle special parameter
	$PENDING, giving the number of un-read bytes.

	* 10498: Completion/Commands/_next_tags: fix for handling
	file-patterns.

2000-04-04  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Clint: 10477: Functions/Zftp/zfcd_match: some awks don't like
	index zero.

	* Clint: 10448: Completion/Debian/_dpkg: complete after -S.

	* Chmouel: 10440: Completion/Linux/_rpm: rpm tags should have %
	in front.

2000-04-04  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10471: Completion/User/_imagemagick: new completion function

	* 10467: Src/builtin.c, Src/parse.c: better error handling for
	zwc files

	* 10465: Src/Zle/computil.c: fix for completion of options
	after option with rest-arguments

	* 10463: Src/builtin.c, Src/params.c, Src/zsh.h: PM_HASHELEM
	flag to keep association elements from being exported with
	ALL_EXPORT set

	* 10459: Completion/Commands/_next_tags, Doc/Zsh/compwid.yo,
	Src/Zle/compcore.c: _next_tags should be usable with menu-
	completion

	* 10456: Src/Zle/compcore.c: Copy QIPREFIX/QISUFFIX.

2000-04-04  Andrew Main  <zefram@zsh.org>

	* 10444: Src/lex.c, Src/pattern.c: Insist on proper syntax
	for numeric globbing (with the "-").  Also fix the bug whereby
	"echo 1<2-3>" would lose the "1".

2000-04-03  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10408: Completion/Core/_path_files: better quoting

	* 10409: Completion/Core/_path_files: completion after ~+<num>

	* 10412: Src/Zle/compmatch.c: better partial word completion for
 	new parts

	* 10413: Completion/Commands/_complete_help, Doc/Zsh/compsys.yo:
	style list optional in _complete_help

	* 10416: Completion/Core/_main_complete, Doc/Zsh/compsys.yo:
 	default completer style contains _ignored

	* 10425: Completion/Core/_files, Completion/User/_gdb,
	Completion/User/_getconf, Completion/User/_mh,
	Completion/User/_netscape, Completion/User/_tiff,
	Completion/User/_urls, Completion/X/_xmodmap,
	Doc/Zsh/compsys.yo, Src/Zle/computil.c: Various completion fixes.

2000-04-03  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Clint: 10424: Completion/Debian/_dpkg: reported -i=irs failure.

2000-04-02  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk: 3.1.6-dev-21.

2000-04-01  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 10376: LICENCE: new file, with licence as it appears
	in some (but not all) files in distribution.

	* Bart: 10372: Doc/Zsh/builtins.yo, Doc/Zsh/mod_zutil.yo:
	cross-reference builtin descriptions in modules.

	* Chmouel: 10370: zsh-3.1.6-dev-20/Completion/Linux/_rpm: rpm -p
	handling.

	* Bart: 10368: Doc/Zsh/mod_zle.yo: improved bindkey -R description.

	* Oliver: 10367: Completion/Builtins/_nothing,
	Completion/Builtins/_cd, Completion/Builtins/_emulate,
	Completion/Builtins/_enable, Completion/Builtins/_disable,
	Completion/Builtins/_fc: update some functions to use _arguments.

	* Bart: 10366: Doc/Zsh/builtins.yo: reword 10364.

	* Sven: 10364: Doc/Zsh/builtins.yo, Src/parse.c: -c and -a flags
	for current and autoloadable functions are now orthogonal.

	* Bart: 10360: Doc/zsh.yo, Doc/Zsh/compctl.yo, Doc/Zsh/compsys.yo,
	Doc/Zsh/compwid.yo, Doc/Zsh/manual.yo, Doc/Zsh/mod_compctl.yo,
	Doc/Zsh/modules.yo, Doc/Zsh/zftpsys.yo, Doc/Zsh/zle.yo: reorder
	completion manual entries.

	* Sven: 10358: Doc/Zsh/params.yo, Src/jobs.c, Src/params.c,
	Src/zsh.h: $pipestatus gives return values for all commands in
	pipeline.

	* Sven: 10353: Completion/Commands/_history_complete_word:
	updated to use latest tags mechanism.

	* Sven: 10352: Src/exec.c: fix 10331 for script names.

2000-03-30  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 10335: Functions/Misc/zrecompile: -[rm] should be -[RM] in
	one more place.

	* Sven: 10332: Completion/Core/compinstall: temporary fix-up for
	old compinstall.

	* Sven: 10331: Src/exec.c: keep old script name for autoloading.

	* Sven: 10329, 10334: Src/Zle/compmatch.c: ** in match specs.

	* Sven: 10328: Src/Zle/iwidgets.list, Src/Zle/zle_utils.c:  undo
	fixes for completion (don't need double undo any more) and
	for history stuff.

	* Sven: 10327: Completion/Builtins/_autoload,
	Completion/Builtins/_zcompile, Completion/Core/_path_files: new
	and improved completions.

	* Bart: 10322: Test/11glob.ztst, Test/53completion.ztst:
	more comprehensive globbing tests, plus problem when TERM is
	too dumb in completion test.

2000-03-29  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 10320: Src/pattern.c: freeing of buffer was messed up in 
	10284.
	
2000-03-28  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Bart: 10319: Doc/Zsh/compsys.yo: add kindex entry for tag-order.

	* Bart: 10317: Test/11glob.ztst: real glob tests to pick up ** and
	~ things.

	* Sven: 10311: Doc/Zsh/builtins.yo, Src/builtin.c, Src/parse.c:
	zcompile -a to force functions marked for autoloading to be dumped
	as wordcode.

	* Sven: 10310: Src/exec.c: arguments in kshautoloaded function
	problem: keep old zsh way of doing things for now.

	* Sven: 10309: Completion/Base/_arguments,
	Completion/Base/_describe, Completion/Base/_jobs,
	Completion/Base/_subscript, Completion/Base/_tilde,
	Completion/Base/_values, Completion/Builtins/_compdef,
	Completion/Builtins/_pids, Completion/Builtins/_popd,
	Completion/Builtins/_sched, Completion/Builtins/_signals,
	Completion/Builtins/_stat, Completion/Builtins/_zftp,
	Completion/Builtins/_zpty, Completion/Builtins/_zstyle,
	Completion/Core/.distfiles, Completion/Core/_alternative,
	Completion/Core/_path_files, Completion/Core/_requested,
	Completion/Core/_wanted, Completion/User/_gdb,
	Completion/User/_getconf, Completion/User/_groups,
	Completion/User/_lp, Completion/User/_make, Completion/User/_mh,
	Completion/User/_netscape, Completion/User/_tiff,
	Completion/User/_urls, Completion/User/_users,
	Completion/User/_users_on, Completion/X/_x_colormapid,
	Completion/X/_x_extension, Completion/X/_x_font,
	Completion/X/_x_keysym, Completion/X/_x_window,
	Completion/X/_xmodmap, Completion/X/_xutils, Completion/X/_xwit,
	Doc/Zsh/compsys.yo, Etc/completion-style-guide,
	Functions/Zftp/zfcd_match, Functions/Zftp/zfget_match:
	rename _try by _next_label and _loop by _all_labels; files
	themselves also renamed.

	* Clint: 10303: Doc/Zsh/params.yo, Src/params.c: restore
	$MACHTYPE, run-time determination of $CPUTYPE.

2000-03-27  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 10297: Doc/Zsh/builtins.yo, Functions/Misc/zrecompile,
	Src/parse.c: restrict -c option not to work with -k, swap -r -m
	and -R -M options.

	* Sven: 10294: Doc/Zsh/builtins.yo, Src/Modules/parameter.c,
	Src/builtin.c, Src/cond.c, Src/exec.c, Src/hashtable.c,
	Src/loop.c, Src/parse.c, Src/zsh.h: natural behaviour of autoload
	+X for ksh-style autoloading.

	* Sven: 10293: Completion/Base/_default,
	Completion/Commands/_complete_help,
	Completion/Core/_main_complete, Doc/Zsh/compsys.yo: improve help
	formatting and information content.

	* Sven: 10292: Completion/Core/_approximate,
	Completion/Core/_complete, Completion/Core/_correct,
	Completion/Core/_expand, Completion/Core/_ignored,
	Completion/Core/_list, Completion/Core/_main_complete,
	Completion/Core/_match, Completion/Core/_menu,
	Completion/Core/_oldlist, Completion/Core/_path_files,
	Completion/Core/_prefix, Doc/Zsh/compsys.yo: aliases for
	completers; allow more flexibility with contexts at upper
	levels.

2000-03-26  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 10284: Src/pattern.c: exclusions with absolute path
	didn't work; closures after exclusions in subdirectories crashed
	the shell.

	* Sven: 10272, 10275: Doc/Zsh/builtins.yo, Src/builtin.c, Src/exec.c:
	autoload can force zsh/ksh styles with -z, -k; integrate
	execautofn() and loadautofn().  Side effect that -kX must run the
	code to get at the function definition.

	* Sven: 10273: Src/Zle/complete.c: problem with test for empty
	prefix.

	* Sven: 10271: Completion/Core/_expand: _requested problem.

	* Sven: 10267: Completion/Builtins/_zstyle,
	Completion/Commands/_next_tags, Completion/Core/_files,
	Completion/Core/_tags, Doc/Zsh/compsys.yo, Src/Zle/computil.c:
	better consistency between _file tags and other tags using
	improved file-patterns style; remove tag-aliases style, better
	done in other way.s

	* Bart: 10266: Doc/Zsh/compsys.yo: update for 10263.

	* Sven: 10265: Completion/Builtins/_zstyle,
	Completion/Core/_approximate, Doc/Zsh/compsys.yo: tag-order and
	file-patterns completions; subst-globs-only and _approximate
	improvements.

	* Sven: 10264: Completion/Core/_call, Completion/Core/compdump,
	Completion/Core/compinit, Doc/Zsh/compsys.yo,
	Functions/Zle/incremental-complete-word, Functions/Zle/predict-on:
	Allow options to #autoload tag; fix uses of force-list.

	* Bart: 10263: Doc/Zsh/compsys.yo, Doc/Zsh/index.yo,
	Doc/Zsh/manual.yo, Doc/Zsh/zftpsys.yo: style and tags index,
	removed unused key index.

	* Sven: 10262: Src/Zle/compcore.c: compadd -D problem.

	* Sven: 10260: Doc/Zsh/compwid.yo: resolve incompatibilities
	between 10258 and 10230.

	* Sven: 10179: Src/text.c: a bit more safety in printing wordcode
	structures.

	* Sven: 10233: Completion/X/_x_colormapid, Completion/X/_xwit:
	some uses of tag aliases.

	* Sven: 10231: Completion/Builtins/_zstyle,
	Completion/Commands/_next_tags, Completion/Core/_tags,
	Doc/Zsh/compsys.yo, Src/Zle/computil.c: tag-order can take
	patterns, new tag-aliases style, aliases starting with a hyphen
	are appended to existing tag.

	* Sven: 10230: Completion/Builtins/_zstyle,
	Completion/Core/_description, Completion/Core/_ignored,
	Completion/Core/_main_complete, Completion/Core/_path_files,
	Completion/Core/_prefix, Completion/Core/_setup,
	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	Functions/Zle/incremental-complete-word, Src/Zle/comp.h,
	Src/Zle/compcore.c, Src/Zle/complete.c, Src/Zle/compresult.c:
	Remove builtin alternate matching and implement as _ignored
	completer.

	* Bart: 10258: Doc/ztexi.yo, Doc/Zsh/builtins.yo,
	Doc/Zsh/compctl.yo, Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo,
	Doc/Zsh/filelist.yo, Doc/Zsh/files.yo, Doc/Zsh/redirect.yo,
	Doc/Zsh/zle.yo: more enhanced documentation.

	* Bart: 10250: Doc/Zsh/builtins.yo, Doc/Zsh/files.yo,
	Doc/Zsh/func.yo: improved documentation for new wordcode dumping
	and loading.

2000-03-24  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Bart: 10243: Completion/User/_groups, Src/Modules/zpty.c:
	9897 and 10089 weren't merged properly; bit which got missed
	out of 9981 because it was applied by hand.

	* Clint: 10242: configure.in, Src/params.c: determine $MACHTYPE at
	run time.

2000-03-23  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk: 3.1.6-dev-20
	
	* Tanaka Akira: 10234, 10236: Completion/X/_xwit: _message passing.

	* Tanaka Akira; 10232: Test/comptest, Test/ztst.zsh, ChangeLog(!):
	minor test fixes and typo.

	* Sven: 10226: Completion/Core/_path_files: quoting problem.

	* Sven: 10225: Completion/Core/_path_files: dot problems with
	files.

	* Tanaka Akira: 10223: Completion/Base/_regex_arguments,
	Completion/X/_x_colormapid, Completion/X/_xwit:
	new X completions.

	* Bart: 10218: Src/prompt.c: possible realloc() in
	putpromptchar().

2000-03-22  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 10215: Completion/User/_nedit: and this one.

	* Sven: 10214: Completion/Builtins/_cd,
	Completion/Builtins/_zstyle, Completion/User/_pbm,
	Completion/User/_pspdf, Completion/User/_tiff,
	Completion/User/_zdump: some _path_files calls now need loop for
	tags.

	* Sven: 10210: Completion/Commands/_next_tags,
	Completion/Core/_main_complete, Completion/Core/compinit,
	Doc/Zsh/compsys.yo: _next_tags doesn't need to be in completer
	list any more; $compprefuncs array does pre-completion functions.
	
	* Sven: 10209: Completion/Core/_loop, Completion/Core/_try:
	missing functions form 10195.

	* 10204: Completion/Base/_arguments, Completion/Base/_values,
	Completion/Core/_alternative, Completion/Core/_tags,
	Completion/Core/_wanted, Src/Zle/computil.c: additions to 10195.

	* Sven: 10195: Completion/Base/_arguments,
	Completion/Base/_brace_parameter, Completion/Base/_condition,
	Completion/Base/_default, Completion/Base/_describe,
	Completion/Base/_first, Completion/Base/_jobs,
	Completion/Base/_math, Completion/Base/_parameter,
	Completion/Base/_subscript, Completion/Base/_tilde,
	Completion/Base/_values, Completion/Builtins/_arrays,
	Completion/Builtins/_autoload, Completion/Builtins/_bindkey,
	Completion/Builtins/_builtin, Completion/Builtins/_cd,
	Completion/Builtins/_command, Completion/Builtins/_compdef,
	Completion/Builtins/_echotc, Completion/Builtins/_functions,
	Completion/Builtins/_hash, Completion/Builtins/_limits,
	Completion/Builtins/_pids, Completion/Builtins/_popd,
	Completion/Builtins/_sched, Completion/Builtins/_signals,
	Completion/Builtins/_stat, Completion/Builtins/_vars,
	Completion/Builtins/_zftp, Completion/Builtins/_zle,
	Completion/Builtins/_zmodload, Completion/Builtins/_zpty,
	Completion/Builtins/_zstyle, Completion/Commands/_next_tags,
	Completion/Core/_alternative, Completion/Core/_files,
	Completion/Core/_main_complete, Completion/Core/_multi_parts,
	Completion/Core/_options, Completion/Core/_parameters,
	Completion/Core/_path_files, Completion/Core/_requested,
	Completion/Core/_sep_parts, Completion/Core/_set_options,
	Completion/Core/_setup, Completion/Core/_tags,
	Completion/Core/_unset_options, Completion/Core/_wanted,
	Completion/Debian/_apt, Completion/Debian/_deb_packages,
	Completion/Linux/_rpm, Completion/User/_archie,
	Completion/User/_cvs, Completion/User/_dd,
	Completion/User/_domains, Completion/User/_gcc,
	Completion/User/_gdb, Completion/User/_getconf,
	Completion/User/_gprof, Completion/User/_groups,
	Completion/User/_gs, Completion/User/_hosts, Completion/User/_lp,
	Completion/User/_mailboxes, Completion/User/_make,
	Completion/User/_man, Completion/User/_mh, Completion/User/_mount,
	Completion/User/_mutt, Completion/User/_mysql_utils,
	Completion/User/_netscape, Completion/User/_nslookup,
	Completion/User/_pbm, Completion/User/_perl_basepods,
	Completion/User/_perl_builtin_funcs,
	Completion/User/_perl_modules, Completion/User/_ports,
	Completion/User/_rcs, Completion/User/_rlogin,
	Completion/User/_socket, Completion/User/_ssh,
	Completion/User/_stty, Completion/User/_tar,
	Completion/User/_telnet, Completion/User/_tiff,
	Completion/User/_urls, Completion/User/_user_at_host,
	Completion/User/_users, Completion/User/_users_on,
	Completion/User/_whois, Completion/User/_yp,
	Completion/X/_x_color, Completion/X/_x_cursor,
	Completion/X/_x_display, Completion/X/_x_extension,
	Completion/X/_x_font, Completion/X/_x_keysym,
	Completion/X/_x_modifier, Completion/X/_x_window,
	Completion/X/_xmodmap, Completion/X/_xutils, Doc/Zsh/compsys.yo,
	Doc/Zsh/mod_zutil.yo, Etc/completion-style-guide,
	Functions/Zftp/zfcd_match, Functions/Zftp/zfget_match,
	Src/Modules/zutil.c, Src/Zle/computil.c: implement tag aliases,
	which allows neat tricks with styles.

	* Sven: 10197: Src/exec.c, Src/init.c: %_ sometimes got cmdstack
	wrong in source(); $(...) didn't show up at all.

	* Bart: 10193: Src/prompt.c: prompttrunc() didn't track realloc()'s.

	* Bart: 10181: Functions/Prompts/prompt_bart_setup: Bart's Theme
	and Variations.

	* Sven: 10178: Completion/Commands/_next_tags, Doc/Zsh/compsys.yo:
	don't bind _next_tags by default and add some more docs.

	* Sven: 10176: Src/Zle/compresult.c, Src/init.c, Src/parse.c:
	optimize list-packed.

	* Sven: 10174: Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo: tweaks on
	completer and -V.

	* Bart: 10173: Functions/Prompts/prompt_bart_setup,
	Functions/Prompts/promptinit: Bart's Theme.

	* Sven: 10172: Completion/Core/_main_complete: typo.

	* Bart: 10168: Src/init.c: move hbegin() to get it right in
	precmd.

	* Oliver: 10166: Completion/X/_xt_arguments,
	Completion/User/_nedit: new and improved.

	* Bart: 10165: Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo: move doc
	for using a completer twice; zcompile doc tweak.

	* Oliver: 10162: Completion/Core/_expand: use nullglob option
	instead of (N) so that user's qualifiers work.

	* Sven: 10159: Src/Zle/compresult.c: wrong calculation of display
	length when not using zsh/complist.

	* Sven: 10156: Src/exec.c: possible invalid field in function
	definition when loading.

	* Zefram: 10152: Src/mem.c: fix ordering ambiguity ANSI wouldn't
	have liked.

	* Bart: 10150: Src/exec.c, Test/51xtrace.ztst: `one last' xtrace
	redirection fix.

	* Sven: 10149: Doc/Zsh/builtins.yo, Src/builtin.c, Src/exec.c,
	Src/parse.c: allows native and ksh-like wordcode function styles.

	* Sven: 10148: Src/Zle/comp.h, Src/Zle/compcore.c, Src/mem.c:
	optimization for added matches where things didn't change.

	* Sven: 10146: Completion/Core/_sort_tags, Completion/Core/_tags,
	Doc/Zsh/compsys.yo: return value of function called by _tags used
	to decide dispositions.

	* Sven: 10145: Doc/Zsh/mod_zle.yo: confess to users that zle input
	is on a stack.

	* Sven: 10144: Doc/Zsh/builtins.yo, Src/Modules/parameter.c,
	Src/builtin.c, Src/exec.c, Src/linklist.c, Src/parse.c: dump
	functions from current shell.

	* Sven: 10143: Src/init.c, Src/math.c: better ignoring of bits
	that shouldn't get evaluated in math expressions.

	* Sven: 10135: Doc/Zsh/compsys.yo, Src/Zle/computil.c: complex
	argument handling expressions.

	* Sven: 10131: Src/Modules/stat.c, Src/Modules/zpty.c,
	Src/Modules/zutil.c, Src/Zle/compctl.c, Src/Zle/complete.c,
	Src/Zle/computil.c, Src/Zle/zle_main.c, Src/Zle/zle_thingy.c,
	Src/parse.c: more consistent zerrnam/zwarnnam usage.

	* Sven: 10129: Doc/Zsh/builtins.yo, Src/builtin.c, Src/parse.c:
	autoload -w can mark all functions in .zwc files for autoloading.

	* Sven: 10128: Doc/Zsh/zle.yo, Src/Zle/zle_main.c, Src/init.c,
	Src/signals.c, Src/zsh.h: zle parameters available readonly in
	traps.

	* Sven: 10127: Doc/Zsh/zle.yo, Src/Zle/compresult.c,
	Src/Zle/iwidgets.list, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	Src/Zle/zle_refresh.c, Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c:
	end-of-list widget to display prompt under command line, plus
	$MARK documentation.

	* Sven: 10126: Src/Zle/compcore.c: quotes in $PREFIX and $SUFFIX.

	* Sven: 10125: Src/math.c, Src/params.c: restore old cruddy
	behaviour removed in 10104, but using recursion counter.

	* Sven: 10120: Src/exec.c, Src/loop.c, Src/parse.c: state not
	tested properly in some constructs.

	* Sven: 10117: Doc/Zsh/mod_zle.yo, Src/Zle/zle_params.c,
	Src/Zle/zle_thingy.c: zle on its own returns zle status;
	MARK parameter; disallow widgets in traps.

	* Oliver: 10116: Completion/Builtins/_source: wasn't looking
	through the path.

	* Sven: 10112: Completion/Base/_condition, Src/Zle/zle_tricky.c:
	fix up altmodische _condition; `[[ ... && ' thought it was in
	command position for completion.

	* Sven: 10108: Completion/Commands/.distfiles,
	Completion/Commands/_next_tags, Completion/Core/_files,
	Completion/Core/_main_complete, Completion/Core/_requested,
	Completion/Core/_wanted, Doc/Zsh/compsys.yo,
	Functions/Misc/.distfiles: _next_tags allows you to cycle through
	sets of completions according to the tags.

	* Sven: 10107: Doc/Zsh/compwid.yo, Src/Zle/complete.c,
	Src/Zle/compmatch.c: ** in match spec allows matching including
	the anchor as well.

	* Sven: 10106: Functions/Misc/zrecompile, Src/exec.c, Src/parse.c,
	Src/zsh.h: recompilation of wordcode files and related bugs.

	* Sven: 10105: Src/lex.c: single exclamation marks in conditions.

	* Sven: 10104: Src/math.c, Src/params.c: retrieve parameters in
	math evaluations more directly rather than recursively calling
	matheval(), which was kind of stupid, so stupid I could	quite
	possible have put it in myself, but I don't think I did this time.

	* Sven: 10103: Src/glob.c: bad handling of ./ and ../ in
	closures.

	* Bart: 10098: configure.in, Src/cond.c: check for AIX's
	faccessx() and neaten configure library function tests.

	* Oliver: 10088: Completion/User/_groups,
	Completion/Base/_condition: better handling of files after
	conditions, checking of use of NIS.

	* Adam: 10087: Completion/User/_perl_modules,
	Completion/User/_perl: new and enhanced perl completions.

	* Oliver: 10073: Src/cond.c: /dev/fd emulation for access tests.

	* Adam: 10072: Completion/User/_mysql_utils: new completion
	function for something with suspcicious `SQL' bit in its name.

	* Bart: 10071: Src/exec.c: xtrace output redirection problem.

	* Sven: 10059: Src/builtin.c, Src/lex.c, Src/parse.c, Src/text.c,
	Src/zsh.h: bugs found by ksh tests: typeset -Ai didn't create
	assocs (still doesn't create ints), some heredoc difficulties, |&
	difficulties.

	* Alexandre: 10058: Completion/User/_prcs, Completion/User/_diff,
	Completion/User/_diff_options: another solution for the GNU diff
	completion problem.

	* Bart: 10056: Etc/MACHINES: RLIM_INFINITY incompatibility with
	some Linux/GNU libraries.

	* Sven: 10044: Completion/User/_diff, Completion/User/_use_lo:
	gdiff should use diff completion, pretty obviously.

	* Sven: 10041: Doc/Zsh/builtins.yo, Doc/Zsh/files.yo,
	Doc/Zsh/func.yo, Src/init.c, Src/parse.c: enhancements for digest
	files including digests of sourced files.  Or maybe digestion of
	sauce.

	* Sven: 10040: Completion/User/_diff_options: can test for GNU
	diff.

	* Oliver: 10029: Src/utils.c: bad handling of '^^' in keystring
	parsing.

	* Andrej: 10028: Completion/Builtins/_cd: remove local directory
	from cdpath.

	* Sven: 10025: Functions/Misc/nslookup, Src/Modules/zpty.c:
	optimizations for pty reads.

	* Sven: 10017: Doc/Zsh/builtins.yo, Src/lex.c, Src/parse.c:
	fix buffer problem for autoloading and unportable macro.

	* Oliver: 10013: Completion/Builtins/_compdef,
	Completion/Builtins/_zpty, Completion/User/_getconf: two new
	functions and one updated.

	* Andrej: 10011: Completion/User/_sudo: options for recent sudo.

	* Bart: 10009: Completion/Base/_subscript: didn't get arrays the
	right length.

	* Bart: 10006: configure.in, Src/utils.c: use mktemp() if
	available.

	* Bart: 9992: Functions/Zle/predict-on: tweaks.

	* Bart: 9990: Test/07cond.ztst: compatibility fix for chmod g+s.

	* Bart: 9982: Test/53completion.ztst, Test/Makefile.in,
	Test/comptest, Test/ztst.zsh: better handling of uninstalled
	modules.

	* Andrej: 9981: Src/Modules/zpty.c: SYSV-related pty stuff.

	* Bart: 9980: Src/Makefile.in: separate mymods.conf and xmods.conf
	dependencies.

	* Sven: 9966: Doc/Zsh/builtins.yo, Doc/Zsh/func.yo, Src/parse.c:
	require .zwc ending for digest files.

	* Bart: 9963: Test/11glob.ztst: existing globbing tests run under
	new test harness.

	* Bart: 9961: INSTALL, Src/Makefile.in, Test/53completion.ztst,
	Test/comptest: errors trying to load zpty for static shell in
	tests; INSTALL didn't describe mymods.conf properly.

	* Tanaka Akira: 9960: Test/comptest, Test/53completion.ztst: avoid
	zpty timing problem.

	* Sven: 9958: Src/parse.c: sharing strings made test fail with
	new wordcode.

	* Tanaka Akira: 9957: Test/comptest: clear to end.

	* Sven: 9953: Src/Zle/complist.c: was incorrectly omitting some
	display sequences.

	* Tanaka Akira: 9952: Test/comptest: compatibility, quoting and
	debugging fixes.

	* Sven: 9951: Completion/Core/_multi_parts: was producing
	mysterious blank entries.

	* Sven: 9948: Src/exec.c, Src/parse.c: stripkshdef() was broken.

	* Sven: 9947: Completion/Core/compdump, Completion/Core/compinit,
	Doc/Zsh/builtins.yo, Doc/Zsh/func.yo, Src/builtin.c, Src/cond.c,
	Src/exec.c, Src/glob.c, Src/lex.c, Src/loop.c, Src/math.c,
	Src/mem.c, Src/parse.c, Src/text.c, Src/utils.c, Src/zsh.h:
	Wordcode compilation for functions using .zwc or `digest
	functions' in $fpath.

	* Bart: 9946: Src/subst.c: return type in 9937.

	* Bart: 9945: Src/prompt.c: truncation messed up non-literal
	parts of the prompt.

	* Bart: 9942: Src/prompt.c: truncation in true part of ternary
	expression incorrectly showed false part and closing parenthesis.

	* Sven: 9937: Src/subst.c: parsing problem with parameter
	substitution which showed up in file completion.

	* Sven: 9938: Src/Modules/parameter.c: problem assigning to
	dirstack.

	* Tanaka Akira: 9936: Src/Zle/complist.c, Test/comptest,
	Test/53completion.ztst: tests for completion using zpty.

	* Tanaka Akira: 9935: Test/52zregexparse.ztst: tests for
	zregexparse.

2000-03-21  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9920: Completion/Core/.distfiles, Completion/Core/_call:
	the function needed for 9897.

	* Bart: 9912: Completion/User/_mailboxes: further improvements.

	* Sven: 9904: Src/utils.c: getquery() and rmstarsilent.

	* Sven: 9902: Completion/Core/_path_files: _files -g problem.

	* Sven: 9900, 9903: Src/exec.c: parsing oddity in here documents.

	* 9897: Completion/Base/_arguments, Completion/Builtins/_pids,
	Completion/Linux/_rpm, Completion/User/_a2ps,
	Completion/User/_archie, Completion/User/_diff_options,
	Completion/User/_finger, Completion/User/_groups,
	Completion/User/_gs, Completion/User/_killall,
	Completion/User/_lp, Completion/User/_telnet,
	Completion/User/_users_on, Completion/User/_yp,
	Completion/X/_x_font, Completion/X/_x_window, Doc/Zsh/compsys.yo:
	use _call function and `command' style to override command
	used in various completions.

	* Sven: 9895: Completion/Base/_combination,
	Completion/Builtins/_zstyle, Completion/User/_telnet,
	Doc/Zsh/compsys.yo: usage of combination styles.

	* Sven: 9893: Completion/Core/_multi_parts: return values.

	* Sven: 9892: Completion/Core/_main_complete,
	Completion/Core/_path_files, Completion/Core/compdump,
	Completion/Core/compinit: improved fix for 9886; typo in
	_main_complete; compdump uses (q) flag; remove compstyle; update
	compconf.

	* Bart: 9891: Completion/User/_cvs: kshautoload problem.

	* Bart: 9889: acconfig.h, configure.in, Src/exec.c,
	Src/prototypes.h: from 3.0.8: detect mknod(), minor redirection
	tweaks.

	* Bart: 9886: Completion/Core/_path_files: matcher problem.

	* Tanaka Akira: 9885: Completion/User/_dvi, Completion/User/_lynx,
	Completion/X/_xutils: extra arguments for completion functions.

	* Alexandre: 9882: Completion/User/_prcs: error messages.

	* Sven: 9880: Completion/Core/_path_files: error message with
	~unknown.

	* Sven: 9879: Completion/User/_tilde_files: use of magicequalsubst
	with completion.

	* Sven: 9877: Src/parse.c: wordcode bug in functions with failed
	builtins.

	* Sven: 9876: Completion/Base/_combination,
	Completion/User/_rlogin, Completion/User/_ssh,
	Completion/User/_user_at_host, Doc/Zsh/compsys.yo: more flexible
	handling of separators in combinations.

	* Sven: 9870: Completion/Core/_path_files,
	Completion/User/.distfiles, Completion/User/_dd,
	Completion/User/_tilde_files, Src/Zle/compresult.c: better
	handling of paths beginning ~ in various places.

	* Sven: 9865: Completion/Builtins/_zstyle,
	Completion/Core/_main_complete, Completion/Core/_setup,
	Doc/Zsh/compsys.yo, Src/Zle/compcore.c, Src/Zle/compresult.c:
	implement prefer-ignored style to prefer alternative matches
	to going on to another completer.

	* Sven: 9863: Src/parse.c, Src/text.c: wordcode problems, using
	old code.

	* Sven: 9861: Completion/Core/_main_complete: interaction of
	_main_complete and _oldlist.

	* Sven: 9860: Src/Zle/compctl.c: storing of match and display list.

	* Sven: 9855: Completion/Core/_multi_parts, Doc/Zsh/compsys.yo:
	_multi_parts accepts -f.

2000-02-23  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9845: Functions/Zle/incremental-complete-word: another
	context change.

	* Sven: 9844: Functions/Zle/predict-on: rationalize 9837.

	* Sven: 9840: config.sub: test for alphaev6 systems.

	* Sven: 9839: Src/Builtins/sched.c, Src/Modules/example.c,
	Src/Modules/mapfile.c, Src/Modules/parameter.c,
	Src/Modules/zftp.c, Src/Modules/zprof.c, Src/Modules/zpty.c,
	Src/Modules/zutil.c, Src/Zle/compcore.c, Src/Zle/compctl.c,
	Src/Zle/complete.c, Src/Zle/complist.c, Src/Zle/compresult.c,
	Src/Zle/computil.c, Src/Zle/zle_hist.c, Src/Zle/zle_main.c,
	Src/Zle/zle_misc.c, Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c,
	Src/Zle/zleparameter.c, Src/builtin.c, Src/cond.c, Src/exec.c,
	Src/glob.c, Src/hist.c, Src/init.c, Src/jobs.c, Src/lex.c,
	Src/linklist.c, Src/loop.c, Src/main.c, Src/math.c, Src/mem.c,
	Src/module.c, Src/params.c, Src/parse.c, Src/pattern.c,
	Src/prompt.c, Src/signals.c, Src/subst.c, Src/utils.c, Src/zsh.h:
	Eliminate `useheap' variable and consequent HEAPALLOC/PERMALLOC
	usage throughout the shell (hooray!)  All memory allocation is
	either explicitly on the heap or permanent.

	* Sven: 9838: Src/Modules/parameter.c, Src/Zle/computil.c,
	Src/Zle/zle_main.c, Src/builtin.c, Src/cond.c, Src/exec.c,
	Src/glob.c, Src/hashtable.c, Src/init.c, Src/jobs.c, Src/lex.c,
	Src/linklist.c, Src/loop.c, Src/params.c, Src/parse.c,
	Src/signals.c, Src/signals.h, Src/subst.c, Src/text.c,
	Src/version.h, Src/zsh.h: parser now emits wordcode directly; a
	whole heap of optimisations of the execution tree.

	* Sven: 9837: Completion/User/_gunzip, Functions/Zle/predict-on:
	no. of colons in predict-on, typo in _gunzip.

	* Sven: 9835: Completion/Builtins/_zstyle,
	Completion/Core/_main_complete, Doc/Zsh/compsys.yo: document
	single-ignored style, better handling of descriptions with
	warnings about no matches.

	* Bart: 2930: Completion/User/_ssh: basic completion for remote
	files.

2000-02-22  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9831: Completion/Core/_multi_parts: better separator
	removal.

	* Sven: 9830: Completion/X/_x_arguments: reverse 9824, but use
	_default instead of _files if no special arguments.

	* Bart: 9828: Completion/User/_mailboxes: $i -> "$i" missed out.

2000-02-21  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Clint: 9824: Completion/X/_x_arguments: `*/X11/*' was too broad
	a definition for X commands taking standard arguments to be
	useful.

	* Clint: 9823: configure.in: open fifo read/write in test to avoid
	possible (unconfirmed) hang.

	* Bart: 9822: Completion/User/_mailboxes: add completions for mush
	and tkrat; allow pine to complete mh folders.

	* Sven: 9816: Completion/Core/_multi_parts,
	Completion/User/_mailboxes: improved version of 9812/9815.

	* Bart: 9812, 9815: Completion/User/_mailboxes,
	Completion/User/_mutt: improved mailbox completion for all sorts
	of types, currently only used for mutt.

	* Sven: 9810: Completion/Core/_multi_parts: difficulties with
	separator as initial character.

	* Sven: 9809: Completion/Builtins/_popd,
	Completion/Core/_approximate, Doc/Zsh/compsys.yo: documentation
	improvements and typo fixes.

	* Tanaka Akira/Sven: 9807: Completion/Core/_main_complete:
	single-ignored style, as yet undocumented, for handling of
	alternate match set.

	* Sven: 9806: Completion/Core/_multi_parts: problems with literal
	(parenthesised) arrays.

	* Sven: 9805: Completion/Core/_path_files: difficulties with
	suffixes when expanding paths.

	* Sven: 9802: Src/utils.c: no need to quote !'s in ${(qq)...}
	because they're not active in single quotes.

	* Bart: 9799: Src/utils.c: better interpretation of typeahead when
	querying user e.g. for spell checking.

	* Adam: 9798: Doc/Makefile.in: use `texi' and `html' for targets
	to avoid duplicated name complaint by gmake.

2000-02-20  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk: 3.1.6-dev-19.

	* Bart: 9794: Src/exec.c, Test/.distfiles, Test/51xtrace.ztst:
	pick up some problems with 9792.

2000-02-19  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Bart: 9792: Src/builtin.c, Src/cond.c, Src/exec.c, Src/init.c,
	Src/loop.c, Src/utils.c: `xtrerr' replaces stderr for output from
	xtrace, to avoid problems with redirection.

	* Sven: 9791: Completion/X/_x_arguments: complete filenames by
	default.

	* Sven: 9790: Completion/Builtins/_zstyle,
	Completion/Core/.distfiles, Completion/Core/_message,
	Completion/X/_x_borderwidth, Completion/X/_x_geometry,
	Completion/X/_x_locale, Completion/X/_x_name,
	Completion/X/_x_resource, Completion/X/_x_selection_timeout,
	Completion/X/_x_title, Doc/Zsh/compsys.yo: arguments problem with
	_x_geometry; matcher-list completed in zstyle.

	* Sven: 9787: Completion/Core/_expand, Src/utils.c: parameter
	expansion problems expanding; problem quoting in backquoted
	expressions.

	* Chmouel: 9784: Completion/User/_tar,
	Completion/User/_tar_archive: obsolete -y option for bzip2 filter.

	* Chmouel: 9781: Completion/Linux/_rpm: add --freshen.

2000-02-17  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9777: Src/Zle/compctl.c, Src/Zle/zle_tricky.c, Src/exec.c,
	Src/glob.c, Src/subst.c: yet more difficulties with completing
	brace-expanded expressions.

	* Sven: 9776: Completion/Core/_main_complete, Src/glob.c,
	Src/params.c: substitution bugs: ${foo[1,1]...} was treated
	incorrectly as a scalar rather than an array slice; extra
	duplication required when performing replacement on parameter.

	* Sven: 9775: Completion/Core/_path_files: extra array copy
	required.

	* Sven: 9774: Src/Zle/compresult.c: completion inserted some
	incorrect strings.

	* Sven: 9773: Completion/Core/_multi_parts,
	Completion/User/_groups, Completion/User/_ports,
	Completion/User/_users, Doc/Zsh/compsys.yo: remove some
	unnecessary tags which are more logically expressed by an empty
	tag field in the context.

	* Sven: 9772: Completion/Core/_approximate,
	Completion/Core/_description, Completion/Core/_expand,
	Completion/Core/_list, Completion/Core/_main_complete,
	Completion/Core/_match, Completion/Core/_menu,
	Completion/Core/_oldlist, Completion/Core/_prefix,
	Doc/Zsh/compsys.yo: matcher-list style replaces matcher;
	_matcher completer is now defunct.

	* Sven: 9770: Src/Zle/computil.c: bogus empty descriptions.

	* Sven: 9768: Completion/Core/_path_files: completing empty
	directories.

2000-02-16  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Oliver: 9761: Completion/Core/_expand: auto-removable suffixes.

	* Oliver: 9752: Completion/Core/_expand: subst-globs-only style
	bails out if no globs expanded.

	* Sven: 9765: Completion/Core/_sep_parts: problems with separators
	with metacharacters.

	* Sven: 9764: Completion/Core/_multi_parts,
	Completion/Core/_path_files, Doc/Zsh/compsys.yo: problems with
	_oldlist in _multi_parts; new -i option to complete _multi_parts
	bits in one go if possible.

	* Sven: 9763: Src/subst.c: addition to 9757.

	* Sven: 9759: Completion/Base/_default, Doc/Zsh/compsys.yo,
	Src/Zle/comp.h, Src/Zle/compcore.c, Src/Zle/compctl.c,
	Src/Zle/complete.c: use-compctl style to use existing compctls;
	on by default if zsh/compctl is loaded; extra hook needed to allow
	compctl to clear up if invoked via new completion.

	* Sven: 9757: Src/subst.c: quoting with ${(e)...}.

2000-02-15  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9755: Completion/Core/_sep_parts: typo.

	* Bart: 9750: Src/jobs.c, Src/signames2.awk,
	Src/Modules/parameter.c: better handling for signals received by
	shell which were not in the range found when configuring (e.g. if
	OS was upgraded).

	* Sven: 9749: Src/Zle/zle_tricky.c: completion in braces.

	* Sven: 9746: Src/Zle/compctl.c: broken old-style completion.

	* Sven: 9734: Doc/Zsh/compwid.yo: descriptions for matching.

	* Sven: 9733: Completion/Core/_main_complete,
	Completion/Core/_setup: can't set defaults ZLS_COLORS and
	SELECTMIN inside completion functions, because they may already
	have been set.

	* Sven: 9732: Src/Zle/complist.c: bad test without
	alwayslastprompt.

	* Sven: 9731: Completion/Base/_arguments,
	Completion/Base/_describe, Completion/Base/_jobs,
	Completion/Base/_subscript, Completion/Base/_tilde,
	Completion/Builtins/_pids, Completion/Builtins/_popd,
	Completion/Builtins/_sched, Completion/Builtins/_signals,
	Completion/Builtins/_stat, Completion/Core/_approximate,
	Completion/Core/_files, Completion/Core/_main_complete,
	Completion/Core/_normal, Completion/Core/_path_files,
	Completion/Core/_setup, Completion/Core/_tags,
	Completion/Core/compinit, Completion/Debian/_apt,
	Completion/User/_lp, Completion/User/_socket, Doc/Zsh/compsys.yo,
	Doc/Zsh/mod_zutil.yo, Src/Modules/zutil.c: Style defaults are now
	hard-wired in, so all user styles take precedence without having
	to delete existing patterns; _complete is now the default
	completer in every context, including non-completion widgets.

2000-02-14  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9722: Completion/Commands/_expand_word,
	Src/Zle/compcore.c, Src/Zle/complist.c: last_prompt, expansion
	problems.

	* Sven: 9713: Completion/Base/_arguments, Src/Zle/computil.c: two
	more arguments problems.

	* Sven: 9711: Completion/Commands/_complete_help: number of colons
	in context brought up to date.

	* Sven: 9710: Completion/Core/_files, Completion/Core/_path_files,
	Src/Modules/zutil.c: a few random bugs: sorting of styles, bad
	directory completion, globbing problems.

	* Zefram: 9709: Src/mkmodindex.sh: should be global subst in 9701.

	* Sven: 9705: Src/exec.c: comment esprefork, esglob.

	* Sven: 9704: Completion/Core/_path_files: incorrect parameter
	name.

2000-02-13  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9701: INSTALL, configure.in, Config/defs.mk.in,
	Src/Makefile.in, Src/mkmodindex.sh: allow --enable-omit-modules=foo,...
	to omit a list of modules from compilation and installation.
	
	* Tanaka Akira: 9697: Completion/User/.distfiles,
	Completion/User/_ps, Completion/User/_psutils: completion for all
	psutils commands.

	* Bart: 9694: Src/init.c: more portable attempt to force shell to
	suspend if running interactively in background.

	* Oliver: 9693: Src/params.c, Src/Zle/compcore.c,
	Src/Zle/complete.c: AIX module exports.

2000-02-11  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Bart: 9684: Completion/User/_mailboxes: sort of help find
	mailboxes with + prefix.

	* Bart: 2913: Completion/User/_mutt: don't set muttrc.

	* pws: Config/version.mk: 3.1.6-dev-18

	* Tanaka Akira: 9683: Completion/User/_diff_options: shut up error
	messages (after other attempts from Oliver and Bart).

	* Alexandre: 9681: Completion/User/_prcs: argument handling.

	* Sven: 9680: Completion/Core/_files,
	Completion/Core/_multi_parts, Completion/Core/_path_files,
	Completion/Core/_sep_parts: use of -M option.

	* Sven: 9677, 9679: Completion/Commands/_read_comp,
	Completion/Core/_approximate, Completion/Core/_expand,
	Completion/Core/_main_complete, Completion/Core/_match,
	Doc/Zsh/compctl.yo, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	Src/Zle/comp.h, Src/Zle/compcore.c, Src/Zle/compctl.c,
	Src/Zle/complete.c: $compmatchers bites the dust, use new matcher
	style.

	* Sven: 9676: Src/Zle/computil.c: yet more argument subtleties.

	* Tanaka Akira: 9674: Test/10prompt.ztst: some nameless idiot got
	the bits of the date wrong.

	* Sven: 9664: Completion/Core/_path_files: optimisation with
	arrays.

	* Sven: 9659: Doc/Zsh/compsys.yo: mention complete-in-words
	behaviour.

	* Sven: 9657: Completion/Core/_approximate,
	Completion/Core/_description, Completion/Core/_main_complete,
	Completion/Core/_matcher, Completion/Core/_path_files,
	Completion/Core/_prefix, Doc/Zsh/compsys.yo, Src/Zle/complete.c
	(plus Completion/Core/.distfiles change by hand): new _matcher
	completer allows more control along the lines of $compmatchers.

	* Johan: 9653: Functions/Misc/is-at-least,
	Functions/Misc/.distfiles (added by hand): function to check
	version numbers.

	* Johan: 9651: Completion/User/_cvs: handle no CVS tags case better.

	* Sven: 9650: Completion/User/_gunzip, Completion/User/_gzip:
	handle .tgz files.

	* Sven: 9648: Completion/Core/_files,
	Completion/Core/_multi_parts, Completion/Core/_path_files,
	Completion/Core/_sep_parts, Doc/Zsh/mod_zutil.yo,
	Src/Modules/zutil.c: Bartised version of zparseopts;
	fix _path_files -S ''.

	* Bart: 9639: Doc/Zsh/options.yo, Doc/Zsh/redirect.yo: typos in
	9625.

	* Tanaka Akira: 9638: Completion/User/_cvs: _cvs_rtag had no
	default implementation.

	* Sven: 9635: Completion/Core/_description,
	Completion/Core/_files, Completion/Core/_multi_parts,
	Completion/Core/_path_files, Completion/Core/_sep_parts,
	Doc/Zsh/mod_zutil.yo, Src/Modules/zutil.c, Src/Modules/zutil.mdd:
	improved performance for completion functions; option-parsing
	builtin.

	* Akim Demaille <akim@epita.fr>: 9634: Src/builtin.c: trap '' 1
	segfaulted.

	* Sven: 9633: Src/init.c: change logic in 9591.

	* Sven: 9632: Test/05command.ztst: error spotted by improved
	autoload error checking.

	* Alexandre: 9625: Src/zsh.h, Src/options.c, Src/init.c,
	Src/exec.c, Doc/Zsh/redirect.yo, Doc/Zsh/options.yo: SHNULLCMD and
	CSHNULLCMD options to allow better sh/csh emulation without
	fiddling with parameters.

	* Sven: 9623: Completion/Core/_path_files: another version of
	9616.

	* Sven: 9621: Src/Zle/computil.c: completion incorrectly adding
	space.

	* Sven: 9619: Completion/User/_texi: completion for texinfo;
	added Completion/User/.distfiles by hand.

	* Sven: 9618: Src/Zle/computil.c: memory leak in caching.

	* Sven: 9616: Completion/Core/_path_files: bad test with a
	pattern.

	* Sven: 9615: Completion/Builtins/_zstyle, Doc/Zsh/compsys.yo:
	rename and document some styles.

	* Sven: 9614: Src/exec.c: esglob wasn't initialised properly.

	* Alexandre: 9606: Completion/Builtins/_zstyle: two missing
	styles.

	* Sven: 9600: Src/exec.c: wordcode problem in execpline().

	* Bart: 9591: Src/init.c: zsh/compctl didn't get loaded
	automatically any more.

	* Geoff: 9589: Doc/Makefile.in: put back ^A's from 9584.

	* Tanaka Akira: 9585: Doc/Makefile.in: possible logic problems
	with 9584.

	* Geoff: 9584: Doc/Makefile.in: sh problems with creating
	modlist.yo.

	* Alexandre: 9583: Functions/Misc/nslookup: fix context name for
	new scheme.

	* Sven: 9390, 9394, hunk from 9396: ./Doc/Makefile.in,
	Doc/Zsh/mod_zpty.yo, Doc/Zsh/.distfiles, Functions/Misc/nslookup,
	Src/Modules/.distfiles, Src/Modules/zpty.c, Src/Modules/zpty.mdd,
	Src/builtin.c, Src/init.c, Src/zsh.h: zpty module.

2000-02-05  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Tanaka Akira: 9579: Completion/Debian/_deb_packages: was using
	bad cache variable.

2000-02-04  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9569: Completion/Core/_main_complete,
	Completion/Core/_prefix, Doc/Zsh/compsys.yo, Src/Zle/compcore.c:
	new complete-prefix completer _prefix; fix suffix matching
	problems.

	* Sven: 9568: Src/Zle/computil.c: fix difficulties with remaining
	arguments.

	* Sven: 9562: Completion/Base/_arg_compile,
	Completion/Base/_arguments, Completion/Base/_command_names,
	Completion/Builtins/_hash, Completion/User/_gdb,
	Completion/User/_ssh, Completion/User/_strip, Completion/X/_xrdb,
	Completion/X/_xutils, Src/Zle/computil.c: failure to follow links
	completing commands; bad long option handling in some cases

	* Sven: 9560 (second hunk only): Src/Zle/computil.c: more
	argument fixes.

	* Sven: 9559: Doc/Zsh/compsys.yo: better documentation for `+'
	argument handling.

	* Sven: 9558: Src/exec.c, Src/parse.c: trapping of autoloading
	errors wasn't up to scratch.

	* Alexandre: 9557: Completion/User/_flex: problem handling
	`+' argument.

2000-02-03  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Oliver: 9547: Src/parse.c, Src/hist.c: more fixups for exporting
	on AIX.

	* Sven: 9546: Completion/Base/_arguments,
	Completion/Base/_combination, Completion/Base/_describe,
	Completion/Base/_first, Completion/Base/_jobs,
	Completion/Base/_subscript, Completion/Base/_tilde,
	Completion/Base/_values, Completion/Builtins/_pids,
	Completion/Builtins/_popd, Completion/Builtins/_sched,
	Completion/Builtins/_signals, Completion/Builtins/_stat,
	Completion/Builtins/_zftp, Completion/Builtins/_zstyle,
	Completion/Commands/_complete_help,
	Completion/Commands/_correct_word,
	Completion/Commands/_expand_word,
	Completion/Commands/_history_complete_word,
	Completion/Core/_alternative, Completion/Core/_approximate,
	Completion/Core/_complete, Completion/Core/_correct,
	Completion/Core/_description, Completion/Core/_expand,
	Completion/Core/_files, Completion/Core/_list,
	Completion/Core/_main_complete, Completion/Core/_match,
	Completion/Core/_menu, Completion/Core/_message,
	Completion/Core/_normal, Completion/Core/_oldlist,
	Completion/Core/_path_files, Completion/Core/_setup,
	Completion/Core/_sort_tags, Completion/Core/_tags,
	Completion/Core/compinit, Completion/Debian/_apt,
	Completion/Debian/_deb_packages, Completion/User/_cvs,
	Completion/User/_domains, Completion/User/_groups,
	Completion/User/_hosts, Completion/User/_ports,
	Completion/User/_socket, Completion/User/_urls,
	Completion/User/_users, Completion/X/_x_color, Doc/Zsh/compsys.yo,
	Etc/completion-style-guide,
	Functions/Zle/incremental-complete-word, Functions/Zle/predict-on:
	more consistent form for style contexts in completion system,
	:completion:<func>:<completer>:<command>:<argument>:<tag>.

	* Sven: 9545: Src/Modules/zutil.c: don't use freed structs.

	* Tanaka Akira: 9544: Src/Modules/zutil.c: handle case for
	undefined match data in zregexparse.

	* Sven: 9542: Src/Zle/complete.c: use permanently allocated memory
	for copied special parameters.

	* Sven: 9541: Src/Modules/zutil.c: zstyle looks up style names
	first.

2000-02-02  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk: version 3.1.6-dev-17

	* Bart: 9533: Src/signals.c: make sure shell doesn't send itself
	SIGHUP when exiting.

	* Sven: 9528: Completion/Core/_files: missing variable
	initialization.

	* Sven: 9527: Doc/Zsh/compsys.yo: extra description for styles.

	* Sven: 9526: Src/Zle/computil.c: missing tokenization in
	completion listing.

	* Sven: 9524: Src/text.c: wordcode bug outputting function
	definitions.

	* Sven: 9522: Src/utils.c: return on various conditions when
	reading a character from the terminal.

	* Sven: 9521: Src/exec.c: another job-waiting fix.

2000-02-01  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9518: Test/.distfiles, Test/10prompt.ztst: test for prompt
	escapes.

	* Clint/Sven: 9500 rewritten as 9505: Src/mem.c: more graceful exit
	after mmap() failure when used for heap allocation.

	* Alexandre: 9504: Completion/Builtins/_zstyle: complete name of
	packageset style.

	* Sven: 9503: Src/exec.c: problem updating job entry without any
	processes.

	* Alexandre: 9502: Completion/User/_urls,
	Completion/Core/compinit, Completion/Core/_menu,
	Completion/Core/_match, Completion/Base/_combination: fix 9463
	to use ':completion:...' prefix with zstyle.

2000-01-31  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9496: Src/loop.c: failure to check for return status in
	for loop.

	* Bart: 9495: Src/exec.c: re-block after waiting for jobs.

	* Sven: 9494: Src/Zle/computil.c: extraneous space with option
	description.

	* Bart: 9493: Test/09funcdef.ztst: regression test for function
	definition.

	* Sven: 9489: Src/Zle/complist.c, Src/Zle/compresult.c: avoid menu
	selection with no list and asking whether to list twice.

	* Sven: 9488: Src/exec.c: remove unnecessary child_block().

	* Sven: 9487: Src/exec.c: wordcode fix: expand names in function
	definitions.

	* Sven: 9486: Doc/Zsh/compwid.yo: fix docs for compadd -1 with -J

2000-01-30  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Tanaka Akira: 9476: Completion/User/_cvs,
	Completion/User/_patch: prefer LC_ALL to LANG as the former
	overrides the latter.

	* Tanaka Akira: 9475: Completion/User/_telnet: simplify by using
	(K) parameter flag.

	* Tanaka Akira: 9473: Completion/User/_patch: improved support for
	different versions of `patch'.

	* Bart: 9472: Doc/Makefile.in: dependencies on texinfo files when
	building out of source tree.

	* Tanaka Akira: 9470: Completion/Debian/_deb_packages: updage
	should be update throughout.

	* Clint: 9469: Completion/Debian/_deb_packages,
	Completion/Debian/_dpkg, Doc/Zsh/compsys.yo: new packageset style
	to select Debian package.

2000-01-29  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Alexandre: 1684: Completion/User/.distfiles: add _diff and
	_diff_options.

	* Alexandre: 9463: Completion/User/_urls,
	Completion/Core/compinit, Completion/Core/_menu,
	Completion/Core/_match, Completion/Base/_combination: switch to
	using zstyle instead of compstyle in various functions.

	* Sven: 9458: Src/Zle/complete.c, Src/Zle/compresult.c: used freed
	memory in completion; should have been using heaps all along.

	* Sven: 9457: Src/params.c: tokenisation problem with patterns
	using parameter flag (K).

	* Sven: 9454: Completion/Core/_path_files: handling path prefixes
	with patterns more cleverly.

	* Sven: 9452: Completion/Base/_arguments: `--exclude=' shouldn't
	show both argument list and completions of --exclude....

	* Bart: 9448: Makefile.in: treat Test subdirectory along with
	others in make procedures (notably distclean).

	* Sven: 9442: Src/Zle/compresult.c: problems with suffixes when
	cursor style set.

	* Sven: 9441: Completion/Core/_files,
	Completion/User/_diff_options: _files sometimes didn't use
	ignored-patterns; use $(command diff) just in case, plus more
	verbose descriptions.

	* Alexandre: 9436: Completion/User/_prcs,
	Completion/User/_diff_options, Completion/User/_diff: prcs
	enhancements with builtin diff support, plus diff options for use
	directly with GNU diff.

2000-01-25  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Etc/FAQ.yo: updated from latest posted version.

	* Sven: 9424: Src/Modules/parameter.c: problems with 9421 with
	aliases and dir parameters.

2000-01-24  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9421: Src/params.c: PM_REMOVABLE parameters are freeable
	since they were created by an ordinary createparam() (fixes
	memory leak).

	* Alexandre: 9419: Src/Zle/complist.c: more problems with
	backreferences in list-colors: aborts after failed backref,
	nested backrefs not handled.

	* Sven: 9417: Src/Zle/compcore.c: prefix code confused by matcher
	specifications.

	* Sven: 9416: Completion/Core/_setup, Src/Zle/complist.c: problems
	using backreferences in list-colors, check zsh/complist is loaded
	if needed.

	* Sven: 9415: Doc/Zsh/mod_complist.yo: typo in pattern example.

	* Sven: 9414: Completion/Core/_path_files: use _comp_ignore.

	* Sven: 9413: Functions/Zftp/zfinit, Src/Modules/zutil.c,
	Src/loop.c: cleanups for module name, new completion test,
	compilation warnings.

	* Sven: 9361: Src/exec.c: simplifty getoutput() test.

2000-01-23  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk, Src/Modules/.distfiles: 3.1.6-dev-16;
	zprof.mdd, zfprof.c finally added to distribution.

2000-01-22  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9408: Src/pattern.c, Doc/Zsh/expn.yo: failed
	backreferences, such as (...)# matching zero times or (|(...))
	matching first part of branch now set match to null string and
	indices to -1 instead of crashing the shell.

	* Clint: 9405: Makefile.in: $(DESTDIR) missing in front of
	$(sitefndir).

	* Tanaka Akira: 9404: Completion/Core/_path_files: `%' missing in
	parameter expansion.

2000-01-21  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9403: Completion/Core/_path_files, Doc/Zsh/compsys.yo:
	brace problems with squeeze-slashes.

	* Sven: 9402: Completion/Builtins/_zstyle,
	Completion/Core/_path_files, Doc/Zsh/compsys.yo: ignore-parents
	style for more tunable path completion.

	* Sven: 9401: Src/Modules/parameter.c, Src/exec.c, Src/zsh.h: use
	list-based instead of function-based system for shell function
	wrappers.

	* Tanaka Akira: 9400: Completion/User/.distfiles: add _finger

	* Sven: 9399: Functions/Zftp/zfinit: bad reverse index.

	* Sven: 9398: Functions/Zftp/zfcd_match,
	Functions/Zftp/zfget_match: fix _description calls

	* Sven: 9397: Functions/Zftp/zfinit: incorrect zmodload for
	autoloaded builtin

	* Sven: 9396: Doc/Zsh/mod_zle.yo, Src/Zle/zle_main.c: better
	retrieval of history in vared.

	* Sven: 9395: Src/exec.c, Src/parse.c, Src/text.c: problems with
	ksh-format autoload and core dump due to bad termination in
	function execution.
	
	* Sven: 9388, 9389: Completion/User/_domains: try to completion
	host domains better.

2000-01-20  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Alexandre: 9387: Doc/Zsh/compsys.yo: document brace problems
	with 9383.

	* Sven: 9386: Completion/Core/_multi_parts,
	Completion/Core/_sep_parts: both functions support -F option.

	* Alexandre: 9385: Completion/User/_prcs: tilde expansion in prcs
	repository path.

	* Alexandre: 9383: Doc/Zsh/compsys.yo, Completion/Core/_path_files,
	Completion/Builtins/_zstyle: add squeeze-slashes style not to take
	multiple slashes as multiple completable directories; add
	file-patterns to zstyle completion.

	* Sven: 9382: Src/Modules/parameter.c, Src/exec.c, Src/mem.c,
	Src/parse.c, Src/text.c: fix problems with empty lists in wordcode
	programmes and some comments.

	* Sven: 9381: Src/Zle/compresult.c: don't expand parameters quite
	so often for tests.

2000-01-19  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9373: Src/Modules/parameter.c: missing keys with special
	parameters.

	* Sven: 9371: Completion/Core/_files, Completion/Core/_path_files,
	Doc/Zsh/compsys.yo: file-patterns style for overriding choices for
	file completion built into completion functions.

	* Sven: 9370: Src/text.c: missing tstack initialisation.

	* pws: 9367: Src/cond.c, Src/parse.c, Test/04redirect.ztst,
	Test/07cond.ztst: fixes for 9332: `[' tests didn't work, skipping
	conditions with `&&' and `||' didn't work, always use WC_END
	marker to terminate code.

	* Tanaka Akira: 9360: Completion/User/_cvs: new -C option to cvs
	update, better descriptions.

	* Tanaka Akira: 9359: Completion/Debian/_apt,
	Completion/Base/_regex_arguments: argument handling for apt-cache.

2000-01-18  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9354: Etc/MACHINES: problems reported on SPARC.
	
	* Sven: 9336: Src/signals.c: addition to 9332.

	* Sven: 9332: Src/Modules/example.c, Src/Modules/parameter.c,
	Src/Modules/zftp.c, Src/Modules/zprof.c, Src/Zle/compcore.c,
	Src/Zle/compctl.c, Src/Zle/complete.c, Src/Zle/zle_main.c,
	Src/Zle/zle_misc.c, Src/builtin.c, Src/cond.c, Src/exec.c,
	Src/glob.c, Src/hashtable.c, Src/init.c, Src/loop.c, Src/parse.c,
	Src/signals.c, Src/text.c, Src/utils.c, Src/zsh.h: Use word code
	instead of structs for passing executable chunks around.

	* Sven: 9353: Completion/Base/_jobs: bad prefix test

	* Sven: 9348: Src/Modules/zutil.c: various minor regex fixes

	* Sven: 9345: Src/exec.c, Src/jobs.c, Src/zsh.h:
	bug with job control when group leader exits; other problems
	with subshells.

	* Alexandre: 9340: Src/Zle/computil.c: bug with adding `=' after
	options.

	* Sven: 9335: Completion/Core/_path_files: fix special-dirs style.

2000-01-17  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Clint: 9333: Completion/User/_a2ps: a2ps can take PostScript
	input files.

	* Johan Sundstrm: 9331: Doc/Zsh/compwid.yo: typo.

	* Sven: 9330: Src/mem.c: debugging message not needed when using
	mmap().

	* Sven: 9329: Src/Modules/parameter.c, Src/Zle/complete.c,
	Src/Zle/zleparameter.c, Src/glob.c, Src/mem.c: memory management
	fixes for hashtables and heaps.

2000-01-16  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Tanaka Akira: 9328: Completion/User/_finger,
	Completion/User/_other_accounts: new finger completion.
	.distfiles also updated.

2000-01-15  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Tanaka Akira: 9325: Src/init.c: misspelled SITEFPATH_DIR

	* Alexandre: 9324: Completion/User/_tar_archive: .tgz completion
	didn't work.

2000-01-14  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9322: INSTALL, Makefile.in, configure.in,
	Config/defs.mk.in, Config/funcinst.mk, Config/installfns.sh,
	Config/uninstallfns.sh, Src/init.c, Src/zsh.mdd: install.fns
	creates site-functions, parallel to /usr/share/zsh/3.1.6-dev-15
	or wherever; no functions.old directory saved or used; functions
	directory is version-specific anyway, so just delete old one.

	* Sven: 9318: Src/exec.c, Src/init.c, Src/zsh.h: cases where we
	don't need to make up the job text.

	* Tanaka Akira: 9317: Completion/User/_urls: don't quote bookmarks
	when inserted.

	* Tanaka Akira: 9316: Completion/User/_cvs: detects zsh/stat
	module more carefully.

	* Sven: 9315: Src/module.c: bad error status when using zmodload
	in static shell.

	* Tanaka Akira: 9311: Completion/Builtins/_zmodload,
	Doc/Makefile.in, Test/.distfiles: missing stuff in 3.1.6-dev-15:
	unused parameter in _zmodload, deleting too many files with clean
	in Doc, 08traps.ztst wasn't in distribution list.
	
2000-01-13  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9309: Completion/Core/_path_files,
	Completion/Builtins/_zstyle: fixes for 9298: test for non-zero
	$FIGNORE, zstyle completion for ignored-patterns.

	* Sven: 9306: Doc/Zsh/mod_zle.yo, Src/Zle/zle_thingy.c: allow
	permanent (until next return) message with zle -M.

	* Sven: 9305: Src/Zle/compcore.c: sometimes failed to switch to
	alternate match set.

2000-01-12  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk: 3.1.6-dev-15.

	* pws: 9301: configure.in: use quoted '${VERSION}' in function
	directory to be determined at compile time, avoids having to
	re-make config.status.

	* Sven: 9298: Completion/Core/_description,
	Completion/Core/_main_complete, Completion/Core/_path_files,
	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Src/Zle/compcore.c:
	ignored-suffixes becomes ignored-patterns for more general
	ignorance.

	* Sven: 9297: Completion/Core/_alternative: typo.

	* Sven: 9296: Src/Zle/compmatch.c: matcher ignores backslashes by
	default.

2000-01-11  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9295: Doc/Zsh/grammar.yo, Src/loop.c,
	Src/Modules/parameter.c: problem with aliased options with
	negative number when retrieving $options; bad test for use of
	terminal with `select'; defective description of tests for
	alternative forms using if ... { ... } etc.

	* Sven: 9291: Completion/Core/_main_complete: insufficient care
	with ksharrays affected _cd completion.

	* Sven: 9287: Src/exec.c: unbalanced use of heaps.

2000-01-10  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Sven: 9283: Src/mem.c: hrealloc() problem with mmap().

	* Tanaka Akira: 9281, 9282: Completion/Builtins/_popd: too eager
	to insert slash suffix.

2000-01-09  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9280: Src/subst.c: failed to copy parameter properly using
	${(P)...} flag.

	* pws: 9279: Src/mem.c: use munmap() instead of zfree() for
	one more heap reference.

	* pws: 9278: Completion/Core/_path_files: overenthusiastic use of
	$fignore on explicitly globbed files.

	* Tanaka Akira: 9274: Completion/X/_xutils: completing options of
	X commands didn't work.

	* Tanaka Akira: 9273: Completion/User/_cvs: various tweaks.

	* Bart: 9272: Src/Aliases/alias.mdd.in: file missed in 9253.

	* Bart: 9270: Doc/Zsh/.cvsignore, Doc/Zsh/.distfiles,
	Doc/Makefile.in: Doc/Zsh/manmodmenu.yo is a generated file.

2000-01-08  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Tanaka Akira: 9269: Completion/User/_pack: bogus space in _pack.

2000-01-07  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9267: Src/signals.c, Test/08traps.ztst, Test/50cd.ztst,
	Test/ztst.zsh:	fix remaining(?) trap issues by simplifying
	save/restore code; add tests for traps (with unpleasantness
	testing trap triggering).

	* pws: 9266: configure.in, INSTALL: move $ZSH_VERSION to before
	functions, to allow other zsh versioned stuff to be collected.

	* Sven: 9264 (minus `make clean' hunk): ./Doc/Makefile.in,
	Doc/Zsh/manual.yo:  remove yodl comments to avoid makeinfo
	problems.

	* Sven: 9263: Completion/Builtins/_zmodload,
	Completion/Core/_files, Completion/Core/_path_files: _path_files
	handles (:r) modifier; _files handles -/g; _zmodload handles
	hierarchical modules.

	* Sven: 9262: Completion/Builtins/_hash, Completion/Linux/_rpm,
	Completion/User/_dd, Completion/User/_gs, Completion/User/_make:
	9260 add-on for various uses of compset.

	* Sven: 9261: Completion/User/_a2ps: missing backslash.

	* Sven: 9260: Completion/Core/_main_complete: completion after `='.

2000-01-06  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9256: configure.in, INSTALL: add $ZSH_VERSION to default
	function install path.

	* Oliver: 9253: Src/Aliases/cap.mdd, Src/Aliases/clone.mdd,
	Src/Aliases/compctl.mdd, Src/Aliases/complete.mdd,
	Src/Aliases/complist.mdd, Src/Aliases/computil.mdd,
	Src/Aliases/deltochar.mdd, Src/Aliases/example.mdd,
	Src/Aliases/files.mdd, Src/Aliases/mapfile.mdd,
	Src/Aliases/mathfunc.mdd, Src/Aliases/parameter.mdd,
	Src/Aliases/rlimits.mdd, Src/Aliases/sched.mdd,
	Src/Aliases/stat.mdd, Src/Aliases/zftp.mdd, Src/Aliases/zle.mdd,
	Src/Aliases/zleparameter.mdd, Src/Aliases/zutil.mdd,
	Src/linklist.c, Src/mkmakemod.sh, Src/params.c, Src/utils.c: more
	fixes for dynamical linking on AIX.

	* Tanaka Akira: 9252: Completion/User/_lp: typo in 9242.

	* Sven: 9250: Src/Zle/complete.c: extend 9237 for compset.

	* Sven: 9248: Completion/Core/_tags, Doc/Zsh/compsys.yo: simplify
	undoability of 9245 and suchlike by making `!tag' valid in
	tag-order style.

	* Sven: 9245: Completion/Base/_command_names,
	Completion/Base/_parameter: complete parameters in command
	position (now undoable using styles).

	* Sven: 9244: Completion/Builtins/_zstyle: partial word completion
	for style names.

	* Sven: 9242: Completion/User/_lp: better completion of printer
	names.

	* Alexandre: 9240: Completion/User/_urls: handle URLs from
	bookmarks with spaces by quoting.

	* Sven: 9237: Doc/Zsh/compwid.yo, Src/Zle/compcore.c: fix literal
	handling of completion prefix/suffix.

	* Sven: 9236: Src/Zle/compresult.c, Src/Zle/zle_misc.c:
	listmatches called with bogus list, plus extra paranoia.

	* Tanaka Akira: 9235: Test/07cond.ztst: chgrp to workaround
	inherited groups.

	* Tanaka Akira: 9228: Completion/Builtins/_popd: probllem listing
	directories.

	* Tanaka Akira: 9227: Test/04redirect.ztst: problem with .nfs*
	files remaining when deleting directory.

	* Tanaka Akira: 9226: Completion/User/_lp: explanation typo.

	* Tanaka Akira: 9225: Completion/Core/_path_files,
	Doc/Zsh/compsys.yo: file completion in root directory.

2000-01-05  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk: zsh-3.1.6-dev-14 (note change of
	string).

	* Sven: 9219: Functions/Zle/predict-on: zstyle typo.

	* Sven: 9217: Completion/User/_lp, Doc/Zsh/compsys.yo: additions
	to foregoing.

	* Sven: zsh-users/2830: Completion/User/.distfiles,
	Completion/User/_lp, Completion/User/_ps: completion for printer
	commands.

	* Alexandre: 9216: Src/Zle/computil.c, Completion/User/.distfiles,
	Completion/User/_prcs: Don't skip too many characters at start of
	option; completion for prcs revision control.

2000-01-04  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9212: Src/zsh.h, Src/Zle/zle_main.c, Src/Zle/zle_hist.c:
	make cleaner use of flags to zleread().

	* pws: 9209: Src/Makefile.in, Src/Makemod.in.in, Doc/Makefile.in:
	rearrange 9181 to better order.

	* Tanaka Akira: 9206 (+ tweaks): Src/zsh.h: use __attribute__
	to get alignment for struct heap for gcc.

	* Gene Cohler: 9200: Src/module.c: fix for dynamic linking on
	latest HP-UX 11 systems.

	* Sven: 9199: Completion/Core/_path_files, Doc/Zsh/compsys.yo:
	allow sorting with sort style for files.

	* Sven: 9198: Completion/Base/_arguments, Completion/Base/_values,
	Completion/Core/_alternative: avoid mangling spaces with evals.

	* Sven: 9197: Completion/Core/_multi_parts,
	Completion/Core/_path_files, Completion/Core/_sep_parts:
	tweak approximation for file completion etc.

	* Sven: 9195: Src/Zle/compcore.c: PS to 9189.

	* Sven: 9193: Completion/Builtins/_zstyle: fix typos etc.

	* Sven: 9191: Completion/Base/_default,
	Completion/Core/_description, Completion/Core/_path_files,
	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Src/Zle/complete.c:
	style control of matcher specification.

	* Sven: 9190: Completion/Core/compinit: tweak default completion
	styles.

	* Sven: 2826: Completion/Commands/_complete_help: help is more
	helpful about what functions completion is in.

	* Sven: 9189: Src/Zle/compcore.c: problem with not recognizing
	prefix lengths when adding matches from patterns.

	* Sven: 9188: Src/loop.c: repeat with a negative count.

	* Sven: 9187: Src/Zle/computil.c: bug with :*pat: patterns
	in styles.

	* Helmut: 9186: Src/zsh.h: heaps struct was no longer properly
	aligned.

2000-01-02  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9181: Src/Makefile.in, Src/Makemod.in.in, Doc/Makefile.in:
	add .PHONY targets to prevent GNU make creating them sometimes.

2000-01-01  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Tanaka Akira: 9174: Test/ztst.zsh: missing `$'.

	* Geoff: 9173: Completion/User/_tar: bogus `}'.

	* Tanaka Akira: 9170: Completion/Builtins/_unhash,
	Completion/User/_mutt: typos.

	* Geoff: 9169: Completion/Builtins/_stat: bogus `fi'.

1999-12-29  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Tanaka Akira: 9166: Completion/Builtins/_zstyle,
	Doc/Zsh/compsys.yo, Doc/Zsh/mod_zutil.yo: remove unnecessary
	cache-path tag.

	* Clint: 9165: Completion/Debian/_dpkg: dpkg improvement.

	* Tanaka Akira: 9164: Test/01grammar.ztst: use zsh instead of sh
	to check - modifier.

	* Tanaka Akira: 9163: Test/ztst.zsh: use absolute path for test
	directory.

1999-12-28  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9162: Completion/Base/_regex_arguments,
	Src/Modules/zutil.c: rename regexparse to zregexparse.

	* Tanaka Akira: 9161: Completion/Debian/_apt,
	Completion/Debian/_deb_packages: improved 9160.

	* Clint: 9160: Completion/Debian/_deb_packages: handle -J option.

	* Vin Shelton: 9159: Test/Makefile.in, Test/ztst.zsh,
	Test/07cond.ztst: fix testing when source and build tree are
	separate.

	* Tanaka Akira: 9158: Src/Modules/zutil.mdd: fix module
	dependencies (showed up only in static linking).

	* Tanaka Akira: 9154, 9156: Completion/Base/_regex_arguments,
	Src/Modules/zutil.c: re-implement parsing for _regex_arguments in
	C.

1999-12-23  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk: zsh-3.1.6-pws-13.
	
	* Zefram: 9143: Util/mkdisttree.sh: same find change here.

	* Andrej: 9142: Util/preconfig: work around probably find bug

	* Alexandre: 9139: Functions/Zftp/zftp_chpwd, Etc/FAQ.yo:
	kterm understands xterm sequences.

	* pws: 9150: Completion/Builtins/.distfiles,
	Completion/Builtins/_zstyle, Test/.distfiles: added _zstyle
	for zstyle completion, also some missed .distfiles entries
	for 9129.

	* pws: 9149: Completion/Builtins/_cd, Completion/Core/_path_files:
	_cd wouldn't complete in $cdpath and _path_files messed up
	array entries with spaces.

1999-12-22  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Tanaka Akira: 9138: Util/preconfig: problem with pattern
	matching `.' in find.

	* Tanaka Akira: 9137: Test/07cond.ztst: compatibility fixes for
	tests in 9129.

	* Clint: 9136: Completion/Debian/_dpkg: handle dpkg-deb options.

	* Zefram: 9134: Src/Makefile.in, Src/mkbltnmlst.sh,
	Src/xmods.conf, Src/zsh.mdd: aliased libraries with static
	linking.

1999-12-21  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 9129: Src/math.c, Test/04redirect.ztst,
	Test/05command.ztst, Test/06arith.ztst, Test/07cond.ztst,
	Test/ztst.zsh: fix bug with `(( 4 : 3 ))'; some more tests
	for shell basics.

1999-12-20  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Clint: 9121: Functions/Zftp/zfdir: some idiot messed up
	selection of pager.

	* Zefram: 9120: .distfiles, .preconfig, INSTALL, Util/.distfiles,
	Util/preconfig: better pre-configuration support.

	* Zefram: 9119: Doc/Zsh/intro.yo: zshzftpsys manual omitted.

	* Zefram: 9118: Doc/Makefile.in, Doc/Zsh/builtins.yo,
	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/mod_cap.yo,
	Doc/Zsh/mod_clone.yo, Doc/Zsh/mod_compctl.yo,
	Doc/Zsh/mod_complete.yo, Doc/Zsh/mod_complist.yo,
	Doc/Zsh/mod_computil.yo, Doc/Zsh/mod_deltochar.yo,
	Doc/Zsh/mod_example.yo, Doc/Zsh/mod_files.yo,
	Doc/Zsh/mod_mapfile.yo, Doc/Zsh/mod_mathfunc.yo,
	Doc/Zsh/mod_parameter.yo, Doc/Zsh/mod_sched.yo,
	Doc/Zsh/mod_stat.yo, Doc/Zsh/mod_zftp.yo, Doc/Zsh/mod_zle.yo,
	Doc/Zsh/mod_zleparameter.yo, Doc/Zsh/mod_zprof.yo,
	Doc/Zsh/mod_zutil.yo, Doc/Zsh/params.yo, Doc/Zsh/zftpsys.yo,
	Doc/Zsh/zle.yo: proper names for info files.

	* Zefram: 9117: Src/mkmakemod.sh: remove unnecessary blanks.

	* Adam: 9109: Completion/User/_hosts: globsubst problem.

	* Sven: 9107: Completion/Core/compinit: fix SELECTMIN.

	* Zefram: 9105: Src/mkbltnmlst.sh: non-existent module problems.
	
	* Sven: 9099: Src/mem.c, Src/zsh.h: heap memory uses mmap()
	as long as MAP_ANONYMOUS is available.

	* Sven: 9098: Src/lex.c: double input buffer with inbufct as
	maximum when more memory required.

	* pws: 9123: Src/Modules/mathfunc.c, Doc/Zsh/mod_mathfunc.yo:
	removed drem() as not present on Solaris.

	* Clint: 9094: Completion/User/_tar: handle -Cf.

	* Clint: 9093: Completion/User/_tar_archive: bzip2 support

	* Oliver: 9088: Completion/Core/_description: failed to sort
	listings numerically.

	* Oliver: 9087: Src/module.c, Src/Modules/zutil.mdd: more
	dependency problems with .export files.

	* Sven: 9086: ./Doc/Makefile.in, Doc/Zsh/.distfiles,
	Doc/Zsh/mod_zprof.yo: zprof doc.

	* Sven: 9085: Doc/Zsh/compsys.yo: :completion missing, default tag
	doc.

	* Zefram: 9084: Src/Aliases/.cvsignore, Src/Aliases/.distfiles,
	Src/Aliases/.exrc, Src/Aliases/.preconfig, Src/Aliases/alias.c.in,
	Src/Aliases/alias.mdd.in, Src/xmods.conf: alias old modules to new
	hierarchical names, zle -> zsh/zle etc.

	* Zefram: 9083: Completion/User/_cvs, Doc/Makefile.in,
	Doc/Zsh/builtins.yo, Doc/Zsh/mod_cap.yo, Doc/Zsh/mod_clone.yo,
	Doc/Zsh/mod_compctl.yo, Doc/Zsh/mod_complete.yo,
	Doc/Zsh/mod_complist.yo, , Doc/Zsh/mod_computil.yo,
	Doc/Zsh/mod_deltochar.yo, Doc/Zsh/mod_example.yo,
	Doc/Zsh/mod_files.yo, Doc/Zsh/mod_mapfile.yo,
	Doc/Zsh/mod_mathfunc.yo, Doc/Zsh/mod_parameter.yo,
	Doc/Zsh/mod_sched.yo, Doc/Zsh/mod_stat.yo, Doc/Zsh/mod_zftp.yo,
	Doc/Zsh/mod_zle.yo, Doc/Zsh/mod_zleparameter.yo,
	Doc/Zsh/mod_zutil.yo, Doc/Zsh/modules.yo, Doc/Zsh/options.yo,
	Doc/Zsh/restricted.yo, Doc/Zsh/zftpsys.yo,
	Etc/zsh-development-guide, Functions/Misc/zls,
	Functions/Zftp/zfinit, Src/Builtins/rlimits.c,
	Src/Builtins/rlimits.mdd, Src/Builtins/sched.c,
	Src/Builtins/sched.mdd, Src/Makemod.in.in, Src/Modules/cap.c,
	Src/Modules/cap.mdd, Src/Modules/clone.c, Src/Modules/clone.mdd,
	Src/Modules/example.c, Src/Modules/example.mdd,
	Src/Modules/files.c, Src/Modules/files.mdd, Src/Modules/mapfile.c,
	Src/Modules/mapfile.mdd, Src/Modules/mathfunc.c,
	Src/Modules/mathfunc.mdd, Src/Modules/parameter.c,
	Src/Modules/parameter.mdd, Src/Modules/stat.c,
	Src/Modules/stat.mdd, Src/Modules/zftp.c, Src/Modules/zftp.mdd,
	Src/Modules/zutil.c, Src/Modules/zutil.mdd, Src/Zle/compctl.c,
	Src/Zle/compctl.mdd, Src/Zle/complete.c, Src/Zle/complete.mdd,
	Src/Zle/complist.c, Src/Zle/complist.mdd, Src/Zle/computil.c,
	Src/Zle/computil.mdd, Src/Zle/deltochar.c, Src/Zle/deltochar.mdd,
	Src/Zle/zle.mdd, Src/Zle/zle_main.c, Src/Zle/zle_thingy.c,
	Src/Zle/zleparameter.c, Src/Zle/zleparameter.mdd, Src/init.c,
	Src/makepro.awk, Src/mkbltnmlst.sh, Src/mkmakemod.sh,
	Src/mkmodindex.sh, Src/module.c, Src/xmods.conf, Src/zsh.mdd,
	Test/ztst.zsh, configure.in, Src/Modules/zprof.c,
	Src/Modules/zprof.mdd:  Improved hierarchical naming scheme for
	modules.

	* Sven: 9019: Src/Modules/zprof.c, Src/Modules/zprof.mdd:
	profiling module, documentation to follow.

	* Zefram: 9081: Src/Modules/parameter.mdd: make sure parameter
	jobdirs autoloads parameter module.

	* Sven: 9079: Src/exec.c, Src/lex.c: memory allocation for token
	strings and input lines changed; autoloading didn't free source
	code; more pushing and popping of heaps; saves ca. 800KB with
	completion loaded.
 
	* Sven: 9078: Completion/Commands/.distfile,
	Completion/Commands/_verbose_list: _verbose_list is not needed any
	more.

	* Sven: 9077: Src/Zle/compresult.c, Src/Zle/computil.c,
	Src/Zle/zle_main.c, Src/Zle/zle_tricky.c, Src/pattern.c:
	`unitialised' warnings and unnecessary function.

	* Sven: 9076: Src/Zle/compcore.c: better handling of globbing and
	approximation together.

	* Sven: 9075: Completion/Core/compinit: use ZLS_COLORS for style
	defaults.

	* Sven: 9074: Functions/Zle/predict-on: tidier 9064

1999-12-15  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk: version 3.1.6-pws-12.

	* pws: 9067: Doc/Zsh/zftpsys.yo, Functions/Zftp/zfanon,
	Functions/Zftp/zfcd, Functions/Zftp/zfcget,
	Functions/Zftp/zfclose, Functions/Zftp/zfcput,
	Functions/Zftp/zfdir, Functions/Zftp/zfgcp, Functions/Zftp/zfget,
	Functions/Zftp/zfgoto, Functions/Zftp/zfhere,
	Functions/Zftp/zfinit, Functions/Zftp/zfls, Functions/Zftp/zfmark,
	Functions/Zftp/zfopen, Functions/Zftp/zfparams,
	Functions/Zftp/zfpcp, Functions/Zftp/zfput,
	Functions/Zftp/zfsession, Functions/Zftp/zfstat,
	Functions/Zftp/zftp_chpwd, Functions/Zftp/zftp_progress,
	Functions/Zftp/zftransfer, Functions/Zftp/zftype,
	Functions/Zftp/zfuget, Functions/Zftp/zfuput:  use _patcomps in
	zfinit differently due to 9035; zfput -r does recursive put;
	use styles instead of zfconfig entries; new styles titlebar
	and chpwd.

	* Clint: 9065: Src/builtin.c: change order of tests in 9028.

	* Bart: 9064: Functions/Zle/predict-on: shouldn't use _style any
	more.

	* Sven: 9058: Completion/Base/_arguments,
	Completion/Base/_combination, Completion/Base/_command_names,
	Completion/Base/_jobs, Completion/Base/_tilde,
	Completion/Builtins/_cd, Completion/Builtins/_kill,
	Completion/Builtins/_stat, Completion/Builtins/_wait,
	Completion/Core/_path_files, Completion/Core/_sort_tags,
	Completion/Core/_tags, Completion/Core/compinit,
	Doc/Zsh/compsys.yo, Src/Makemod.in: Many small cleanups, plus
	change sort-tags to tag-order and add to syntax a bit.

	* Tanaka Akira: 9054: Test/50cd.ztst: get PWD without symlinks, to
	avoid messing up cd tests.

1999-12-14  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Oliver: 9047: Src/Zle/compcore.c, Src/Zle/compresult.c,
	Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Src/mkmakemod.sh:
	hack .export files to be made in time for use.

	* Sven: 9039: Doc/Zsh/mod_compctl.yo: description change.

	* Sven: 9035: Completion/Core/_main_complete,
	Completion/Core/_normal, Completion/Core/compdump,
	Completion/Core/compinit: more small optimisations: _patcomps,
	postpatcomps are assocs; avoid post-processing in _main_complete;
	fix command name in _normal.

	* Sven: 9031: Completion/Core/_path_files, Doc/Zsh/compsys.yo:
	complete .. only for special-dirs.

	* Clint: 9028: Src/builtin.c: hack to be able to change to
	subdirectories even when the current directory is renamed.
	Hopefully to be replaced by something more elegant eventually.

	* pws: 9048: Completion/Core/_sort_tags, Completion/Core/compinit,
	Completion/User/_mh, Doc/Zsh/compsys.yo,
	Functions/Zle/incremental-complete-word: assorted completion
	fixes, documentation improvement, plus sort-tags style.
	
1999-12-13  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Zefram: 9023: Doc/Makefile.in, Doc/Zsh/.cvsignore,
	Doc/Zsh/.distfiles, Doc/Zsh/manual.yo, Doc/Zsh/mod_cap.yo,
	Doc/Zsh/mod_clone.yo, Doc/Zsh/mod_compctl.yo,
	Doc/Zsh/mod_complete.yo, Doc/Zsh/mod_complist.yo,
	Doc/Zsh/mod_computil.yo, Doc/Zsh/mod_deltochar.yo,
	Doc/Zsh/mod_example.yo, Doc/Zsh/mod_files.yo,
	Doc/Zsh/mod_mapfile.yo, Doc/Zsh/mod_mathfunc.yo,
	Doc/Zsh/mod_parameter.yo, Doc/Zsh/mod_sched.yo,
	Doc/Zsh/mod_stat.yo, Doc/Zsh/mod_zftp.yo, Doc/Zsh/mod_zle.yo,
	Doc/Zsh/mod_zleparameter.yo, Doc/Zsh/mod_zutil.yo,
	Doc/Zsh/modules.yo: generate module documentation automatically
	from a single list in the makefile.

	* Sven: 9020: Completion/Core/_path_files, Doc/Zsh/compsys.yo:
	special-dirs style allows completion of . and ..

	* Sven: 9018: Completion/Builtins/_pids,
	Completion/Core/_path_files, Completion/User/_cvs,
	Completion/User/_pbm: completion optimisations.

	* Zefram: 9013: patching file Doc/Zsh/mod_files.yo,
	Src/Modules/files.c: use . as alternative to : for user and group
	separator.

	* Sven: 2776: Completion/Core/_path_files: handling of . and .. in
	path.

	* Felix: 1 chunk of 9008: Doc/Zsh/mod_parameter.yo: docs for $jobdirs.
	
	* Felix: (most of) 9007: Src/Modules/parameter.c,
	Src/modules/parameter.mdd, mod_parameter.yo: jobdirs special assoc
	array.

	* Bart: 9005: Src/exec.c: problem backgrounding shell script.

	* Tanaka Akira: 9004: Test/Makefile.in: run tests with zsh -f.

	* pws: 9024: Etc/zsh-development-guide, Test/.distfiles,
	Test/01grammar.ztst, Test/02alias.ztst, Test/03quoting.ztst,
	Test/50cd.ztst, Test/cd.ztst, Test/ztst.zsh: new tests for basic
	shell stuff.

1999-12-10  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: 8997: Src/builtin.c, Src/exec.c, Src/params.c: exported
	  values respect upper-/lowercase flags at the point at which they
	  are set.

	* Alexandre: 8994: Functions/Zftp/zftp_chpwd, Etc/FAQ.yo,
	  Doc/Zsh/zftpsys.yo: extend 8993.

	* Clint: 8993: Functions/Zftp/zftp_chpwd: titlebar support in more
	  general xterm-like emulators.

	* Sven: 8992: Completion/Base/_arguments,
	  Completion/Base/_combination, Completion/Base/_describe,
	  Completion/Base/_first, Completion/Base/_jobs,
	  Completion/Base/_regex_arguments, Completion/Base/_subscript,
	  Completion/Base/_tilde, Completion/Builtins/_pids,
	  Completion/Builtins/_popd, Completion/Builtins/_sched,
	  Completion/Builtins/_signals, Completion/Builtins/_stat,
	  Completion/Commands/_history_complete_word,
	  Completion/Core/_approximate, Completion/Core/_description,
	  Completion/Core/_expand, Completion/Core/_list,
	  Completion/Core/_main_complete, Completion/Core/_match,
	  Completion/Core/_message, Completion/Core/_oldlist,
	  Completion/Core/_path_files, Completion/Core/_requested,
	  Completion/Core/_setup, Completion/Core/_tags,
	  Completion/Core/compinit, Completion/Debian/_apt,
	  Completion/User/_cvs, Completion/User/_groups,
	  Completion/User/_hosts, Completion/User/_ports,
	  Completion/User/_socket, Completion/User/_urls,
	  Completion/User/_users, Completion/X/_x_color, Doc/Zsh/compsys.yo,
	  Doc/Zsh/mod_clone.yo, Doc/Zsh/mod_complete.yo,
	  Doc/Zsh/mod_computil.yo, Doc/Zsh/mod_zutil.yo, Doc/Zsh/modules.yo,
	  Etc/completion-style-guide,
	  Functions/Zle/incremental-complete-word, Src/Modules/zutil.c,
	  Src/Modules/zutil.mdd, Src/Zle/complist.c, Src/Zle/computil.c,
	  Src/Zle/computil.mdd, Src/xmods.conf: compstyle is now
	  implemented in terms of the new zstyle and zformat commands in
	  the new zutil module.

	* Tanaka Akira: 8990: Completion/User/_ports,
	Completion/User/_socket: completion after `socket hosts'.

1999-12-09  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Zefram: 8982: Doc/Zsh/mod_files.yo, Src/Modules/files.c,
	  Src/Modules/files.mdd, Src/system.h, configure.in: chown and
	  chgrp are implemented as builtins in the files module.

	* Sven: 8981: Src/Zle/complist.c: don't use old list with
	  accept-and-infer-next-history's completion form.

	* Andrej: 8973: Completion/User/_sudo: revised version.

	* Zefram: 8968: Config/config.mk: dependencies for rebuilding
	  defs.mk from defs.mk.in.

	* Zefram: 8966: Config/defs.mk.in, Doc/Makefile.in, Makefile.in:
	  proper install.html.

	* Sven: 8965: Completion/Core/_description,
	  Completion/Core/_files, Completion/Core/_main_complete,
	  Completion/Core/_multi_parts, Completion/Core/_path_files,
	  Completion/Core/_sep_parts, Doc/Zsh/compsys.yo,
	  Etc/completion-style-guide: doc cleanup and tweak some option
	  passing.

	* Tanaka Akira: 8962: cd to test directory before removing
	  temporaries.

	* Tanaka Akira: 8957: Completion/User/.distfiles, Src/Makefile.in:
	  _sudo missed out of 3.1.6-pws-11, and Src/Makefile.in didn't
	  get patched properly.

1999-12-08  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Config/version.mk: version 3.1.6-pws-11.

	* pws: 8955: Src/Modules/zftp.c: command name buffer wasn't large
	  enough for "zftp session".

	* pws: 8954: Makefile.in, Etc/zsh-development-guide, Test/Makefile.in:
	  targets for testing should be `check' and `test', which are there
	  already.

	* Zefram: 8952: Util/mkdisttree.sh: portability and error handling
	  improvements.

	* Zefram: 8950: Config/defs.mk.in, Doc/.cvsignore, Doc/.distfiles,
	  Doc/Makefile.in, Makefile.in, Src/Makefile.in: revised name
	  transformation: nothing in the build tree and everything out of
	  it is transformed; also fix make portability problems.

	* Zefram: 8946: Makefile.in: distclean in Test; old stamp-h.in
	  creation bug.

	* Sven: 8945: Doc/Zsh/mod_complist.yo, Src/Zle/compcore.c,
	  Src/Zle/complist.c: `mu'ltiple is now `du'plicate.

	* Sven: 8944: Completion/Core/_main_complete,
	  Completion/Core/_setup, Doc/Zsh/compsys.yo,
	  Doc/Zsh/mod_complist.yo: more detailed choices for when to use
	  menu completion via menu style.  One mod_complist.yo hunk
	  omitted due to clash with 8942.
	
	* Bart: 8942: Doc/Zsh/mod_complist.yo: completion doc fixes.

	* Sven: 8939: Doc/Zsh/mod_complist.yo, Src/Zle/comp.h,
	  Src/Zle/compcore.c, Src/Zle/complist.c, Src/Zle/compresult.c:
	  menu selection with hidden entries.

1999-12-07  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Clint: 8933: Doc/Makefile.in: make man pages refer to one
	  another when transforming file name.

	* Sven: 8932: Src/Zle/computil.c, Src/Zle/zle_tricky.c,
	  Functions/Zle/incremental-complete-word, Doc/Zsh/compsys.yo,
	  Doc/Zsh/mod_computil.yo, Completion/Core/_approximate,
	  Completion/Core/_description, Completion/Core/_expand,
	  Completion/Core/_message, Completion/Core/_tags:
	  More standard styles used in _expand and _approximate;
	  hidden style can apply to any tag; _description does
	  more printf-type formatting and tests a `format' tag.

	* Clint: 8931: Doc/Makefile.in: sed portability.

	* pws: 8936: configure.in, Etc/zsh-development-guide,
	  Test/Makefile.in, Test/cd.ztst, Test/ztst.zsh (plus
	  unposted Test/.cvsignore and Test/.distfiles): basis for
	  new testing system.

	* Sven: 8930: Completion/Core/_setup, Doc/Zsh/compsys.yo:
	  _setup gets one argument and has doc.

1999-12-06  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Bart: 8923: aczsh.m4, configure.in: configuration for
	  program_transform_name.

	* Bart: 8917: Doc/Makefile.in: better transforming for installed
	  filenames.

	* Clint: 8915: Doc/Makefile.in: more name transformation stuff
	  for manual names.

	* Sven: 8911: Src/Zle/comp.h, Src/Zle/compcore.c,
	  Src/Zle/complete.c, Src/Zle/compresult.c, Doc/Zsh/compsys.yo,
	  Doc/Zsh/compwid.yo, Doc/Zsh/params.yo,
	  Completion/Commands/_complete_help,
	  Completion/Core/_approximate, Completion/Core/_expand,
	  Completion/Core/_list, Completion/Core/_main_complete,
	  Completion/Core/_message, Completion/Core/_setup,
	  Completion/Core/_style: added some completion styles and
	  some compstate keys.

	* Sven: 8910: Src/Modules/parameter.c, Src/builtin.c, Src/exec.c,
	  Src/module.c: don't try to unload modules when shell exits
	  normally; fix bug with parameter module that old parameters
	  didn't get removed properly.

	* Sven: 8906: Completion/Core/_path_files: trailing / in vars with
	  _path_files -W varname now optional.

	* Bart: 8903, 8904, 8905: Makefile.in, configure.in, Doc/.cvsignore,
	  Doc/.distfiles, Doc/Makefile.in, Src/Makefile.in: More
	  consistent renaming when altering programme name.

	* Adam: 8902: Completion/Commands/_history_complete_word:
	  directions broken.

1999-12-05  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Andrej/Sven/Clint: 8892: Completion/User/_sudo: completion
	  for sudo.

1999-12-03  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: unposted: Completion/User/.distfiles,
	  Completion/Core/.distfiles: add _zdump and _setup.

	* Clint: 8889: Completion/User/_zdump: completion for zdump.

	* Clint: 8879: configure.in: fix some sub-makes in configure.in.

	* Sven: 8876, 8883: Completion/Core/_approximate,
	  Completion/Core/_expand, Completion/Core/_setup,
          Doc/Zsh/compsys.yo: better grouping support in _expand and
	  _approximate using _setup.

	* Sven: 8874: Completion/Base/_arguments, Completion/User/_use_lo:
	  fix with _arguments --.

	* Sven: 8869: Completion/Builtins/_cd, Doc/Zsh/compsys.yo:
	  local-directories and path-directories tags for cd completion.

	* Sven: 8868: Src/Zle/complist.c: better memory of which colour
	  was just used.

	* Sven: 8864: Completion/Core/_description,
	  Completion/Core/_files, Completion/Core/_main_complete,
	  Completion/Core/compinit, Doc/Zsh/compsys.yo,
	  Doc/Zsh/compwid.yo, Doc/Zsh/mod_complist.yo, Src/Zle/computil.c:
	  list-colors style sets up ZLS_COLO[U]RS appropriately.

	* Clint: 8863: Makefile.in, configure.in, Doc/Makefile.in,
	  Src/Makefile.in: only calculate basename of renamed zsh once.

	* Clint: 8862: Src/builtin.c: fix problem failing to unload zle
	  with abrupt shell termination.

	* Bart: 8860: Doc/Makefile.in: fix zsh.info build with 8857.

	* Bart: 8857: Doc/Makefile.in: fix zsh.yo.in reference when
	  source and build trees are separate.

	* Sven: 8852: Src/Zle/complist.c, Src/pattern.c,
	  Doc/Zsh/mod_complist.yo: whacky colouring of different parts
	  of listing strings.

	* Sven: 8851: Src/Zle/compcore.c, Src/Zle/complist.c,
	  Doc/Zsh/mod_complist.yo: grouping possible in ZLS_COLO[U]RS

	* Zefram: 8843: Etc/zsh-development-guide, Src/.cvsignore,
	  Src/.distfiles, Src/Builtins/.cvsignore, Src/Makefile.in,
	  Src/Makemod.in.in, Src/Modules/.cvsignore,
	  Src/Zle/.cvsignore, Src/Zle/.distfiles,
	  Src/Zle/compcore.c, Src/Zle/complete.c,
	  Src/Zle/complete.mdd, Src/Zle/compmatch.c,
	  Src/Zle/compresult.c, Src/Zle/zle.mdd,
	  Src/Zle/zle_bindings.c, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_params.c, Src/Zle/zle_refresh.c,
	  Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Src/builtin.c, Src/compat.c,
	  Src/cond.c, Src/exec.c, Src/glob.c, Src/hashtable.c,
	  Src/hist.c, Src/init.c, Src/input.c, Src/jobs.c,
	  Src/lex.c, Src/linklist.c, Src/loop.c, Src/makepro.awk,
	  Src/math.c, Src/mem.c, Src/mkmakemod.sh, Src/module.c,
	  Src/options.c, Src/params.c, Src/parse.c, Src/pattern.c,
	  Src/prompt.c, Src/signals.c, Src/signames2.awk,
	  Src/subst.c, Src/text.c, Src/utils.c, Src/zsh.h:
	  use mod_export keyword to generate symbols in .export
	  files automatically.

	* Clint: 8842: Completion/Debian/_dupload,
	  Completion/Debian/.distfiles: completion for dupload.

	* Clint: 8841: Doc/zsh.yo.in: patch to 8827.

	* Sven: 8840: Src/Zle/compcore.c, Doc/Zsh/compsys.yo,
	  Etc/completion-style-guide, Completion/Base/_arguments,
	  Completion/Base/_brace_parameter, Completion/Base/_describe,
	  Completion/Base/_first, Completion/Base/_jobs,
	  Completion/Base/_subscript, Completion/Base/_tilde,
	  Completion/Base/_values, Completion/Builtins/_popd,
	  Completion/Commands/_history_complete_word,
	  Completion/Core/_alternative, Completion/Core/_description,
	  Completion/Core/_files, Completion/Core/_parameters,
	  Completion/Core/_path_files, Completion/Core/_requested,
	  Completion/Core/_tags, Completion/Core/_wanted,
	  Completion/Core/compinit, Completion/Debian/_apt,
	  Completion/Linux/_rpm, Completion/User/_bunzip2,
	  Completion/User/_bzip2, Completion/User/_compress,
	  Completion/User/_dd, Completion/User/_dvi, Completion/User/_gdb,
	  Completion/User/_gprof, Completion/User/_gs,
	  Completion/User/_gunzip, Completion/User/_gzip,
	  Completion/User/_mh, Completion/User/_mutt,
	  Completion/User/_netscape, Completion/User/_nslookup,
	  Completion/User/_pack, Completion/User/_pbm,
	  Completion/User/_pdf, Completion/User/_ps,
	  Completion/User/_pspdf, Completion/User/_ssh,
	  Completion/User/_strip, Completion/User/_tar_archive,
	  Completion/User/_tex, Completion/User/_tiff,
	  Completion/User/_uncompress, Completion/User/_unpack,
	  Completion/User/_users_on, Completion/X/_x_window,
	  Completion/X/_xmodmap: tags can now be used to define groups for
	  display.

	* Zefram: 8839: Src/.cvsignore, Src/Builtins/.cvsignore,
	  Src/Makemod.in.in, Src/Modules/.cvsignore, Src/Zle/.cvsignore,
	  Src/Zle/compcore.c, Src/Zle/compctl.c, Src/Zle/complete.c,
	  Src/Zle/compmatch.c, Src/Zle/compresult.c, Src/makepro.awk,
	  Src/mkmakemod.sh, Src/zsh.mdd: separate local and global
	  prototype files.

	* Sven: 8838: Doc/Zsh/compsys.yo: colons in argument specifiers.

	* Alexandre: 8836: Completion/User/_prompt: fix for _arguments
	  use.

	* Sven: 8834: Src/Zle/compcore.c, Src/Zle/complete.c: make sure
	  grouping commands create groups.

	* Zefram: 8833: Src/Modules/zftp.c: forward declaration of
	  struct in_addr.

1999-11-30  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Clint: 8827: Makefile.in, Doc/.cvsignore, Doc/.distfiles,
	  Doc/Makefile.in, Src/Makefile.in: partial program transform
	  support in texinfo docs.

	* Zefram: 8826: configure.in, Src/Modules/zftp.c: workaround
	  for systems without inet_aton().

	* Clint: 8824: Src/Makefile.in: use AC_ARG_PROGRAM, already set
	  by configure.

1999-11-29  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws: Convig/version.mk: version 3.1.6-pws-10

	* Sven: 8796: Src/Zle/computil.c, Src/utils.c: make freearray()
	  safer w.r.t. null pointers.

	* pws: 8794: Completion/User/_man: handle .bz2 files.

	* pws: 8793: Src/jobs.c: matheval called incorrectly with
	  heap allocation.

1999-11-26  Peter Stephenson  <pws@supanet.com>

	* Sven: 8787: Completion/Core/_approximate,
	  Completion/Core/_correct, Completion/Core/_expand,
	  Completion/Core/_main_complete: don't prepend completer name if
	  there; save/restore $curcontext; typo.

	* Tanaka Akira: 8786: Completion/User/_gs: ghostscript can handle
	  PDF.

	* Tanaka Akira: 8785: Completion/Debian/_apt: quoting typo.

	* Bart: 8782, 8783: Src/lex.c: fix line numbers for `unmatched
	  ...' errors.

	* Clint: 8779: Src/utils.c: more compiler like error messages.

	* Sven: 8777: Completion/Core/_normal, Completion/Core/_sort_tags,
	  Doc/Zsh/compsys.yo: extra colon in ordinary argument contexts
	  for consistency.

	* Sven: 8776: Src/mkbltnmlst.sh, Src/module.c: error in static
	  shell loading unknown module; don't use autoload stuff in
	  static shells.

1999-11-24  Peter Stephenson  <pws@supanet.com>

	* Sven: 8770: Src/Builtins/rlimits.c, Src/Builtins/sched.c,
	  Src/Modules/cap.c, Src/Modules/clone.c, Src/Modules/example.c,
	  Src/Modules/files.c, Src/Modules/mapfile.c,
	  Src/Modules/mathfunc.c, Src/Modules/parameter.c,
	  Src/Modules/stat.c, Src/Modules/zftp.c, Src/Zle/compctl.c,
	  Src/Zle/complete.c, Src/Zle/complist.c, Src/Zle/computil.c,
	  Src/Zle/deltochar.c, Src/Zle/zle_hist.c, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_thingy.c,
	  Src/Zle/zleparameter.c, Src/builtin.c, Src/exec.c, Src/init.c,
	  Src/mkbltnmlst.sh, Src/module.c, Src/params.c, Src/zsh.h,
	  Doc/Zsh/builtins.yo, Etc/zsh-development-guide: zmodload now
	  behaves same for builtin as for dynamically loaded modules
	  (need to call `zmodload' or autoload explicitly even in statically
	  linked shells).

	* Sven: 8768: Completion/Core/_complete: change the current
	  context only if called from _main_complete.

	* Sven: 8766: Src/module.c: don't try to load linked-in module.

	* Zefram: 8764: Src/Modules/zftp.c, acconfig.h, configure.in:
	  Support for IPv6 in zftp.

1999-11-23  Peter Stephenson  <pws@supanet.com>

	* Adam: 8756: Doc/Zsh/compsys.yo: typo.

	* Sven: 8754: INSTALL: this really does remove comp1, and rewrites
	  the instructions for systems where module symbols are not
	  intervisible.

	* Tanaka Akira: more funky telnet options.

	* Sven: 8750: Completion/User/_perldoc: update.

	* Sven: 8749: Src/Zle/computil.c, Completion/Base/_arguments:
	  mixing single-letter and long options.

	* Sven: 8747: INSTALL: remove comp1 references.

	* Sven: 8746: Src/Zle/computil.c, Completion/Base/_arguments:
	  (not compsys.yo hunk): escape :'s in computils; fix nesting of
	  loops in arguments.

	* Oliver: 8745: Completion/User/_mount: handles IRIX 5.3 and AIX,
	  improves Linux.

	* Sven: 8744: Src/init.c: make compctlreadptr visible after 8741.

	* Sven/Alexandre: 8742: Completion/Builtins/_pids: added more
	  matches than descriptions; also use command ps.

	* Adam: 8741: Src/init.c: remove references to deleted comp1
	  module.

	* pws: 8738: Completion/Builtins/_vars, Completion/User/_make,
	  Doc/Zsh/compsys.yo, Src/math.c, configure.in: parts missing
	  in 3.1.6-pws-9.

1999-11-22  Peter Stephenson  <pws@supanet.com>

	* Alexandre: 8728: Completion/Base/_arguments: extra local.

	* Oliver: 8726: Completion/User/_netscape: was broken.

	* Oliver: 8725: Src/zsh.export, Src/Zle/compctl.mdd,
	  Src/Zle/complete.export, Src/Zle/computil.mdd,
	  Src/Zle/zle.export, Src/Zle/.distfiles: lastest changes
	  necessary for dynamical AIX support.

	* Sven: 8722: Completion/Base/_arguments,
	  Completion/Core/_path_files, Completion/User/_telnet,
	  Doc/Zsh/compsys.yo: ignored-suffixes style.

	* Sven: 8721: Src/signals.c: null sigfuncs when being saved.

	* Sven: 8720: Doc/Zsh/compsys.yo,
	  Functions/Zle/incremental-complete-word,
	  Functions/Zle/predict-on, Completion/Base/_combination,
	  Completion/Base/_describe, Completion/Base/_jobs,
	  Completion/Base/_subscript, Completion/Base/_tilde,
	  Completion/Builtins/_pids, Completion/Builtins/_popd,
	  Completion/Builtins/_sched, Completion/Core/_approximate,
	  Completion/Core/_complete, Completion/Core/_correct,
	  Completion/Core/_expand, Completion/Core/_list,
	  Completion/Core/_main_complete, Completion/Core/_match,
	  Completion/Core/_menu, Completion/Core/_oldlist,
	  Completion/Core/compinit, Completion/User/_groups,
	  Completion/User/_hosts, Completion/User/_my_accounts,
	  Completion/User/_other_accounts, Completion/User/_ports,
	  Completion/User/_rlogin, Completion/User/_socket,
	  Completion/User/_ssh, Completion/User/_telnet,
	  Completion/User/_user_at_host, Completion/User/_users: various
	  parameters have become styles.

	* Sven: 8718: Src/Zle/compcore.c: addmatches() with fignore.

	* Sven: 8715: Src/Zle/complist.mdd: module depends on zle.

	* Sven: 8716: Completion/Base/_arguments, Src/Zle/computil.c:
	  option completion fixes; careful with multiple use of tags.

	* Bart: 8501: configure.in: don't try testing for job control
	  if stdin is not a terminal.

1999-11-21  Peter Stephenson  <pws@supanet.com>

	* pws: Configure/version.mk: 3.1.6-pws-9 made available.
	
	* Clint: 8702: Completion/Debian/_dpkg: typo.

	* Bart: 8696: Completion/User/_cvs: `cvs watch add' failed.

	* Clint: 8695: Doc/Zsh/params.yo, Src/params.c: LC_NUMERIC support.

	* Clint: 8609, 8693: Src/math.c: make decimal point use
	  independent of locale.
	
	* Bart: 8692: Src/Zle/computil.c: core dump in completion.

	* Alexandre: 8691: Completion/User/_mount: upgrade for
	  Solaris (tested),  OSF and Linux (not).

	* Oliver: 8690: Src/makepro.awk: printf locals -> print locals
	  avoiding buffer size limit on some systems.

	* Sven: 8679: Completion/Base/_jobs, Doc/Zsh/compsys.yo: use
	  strings style in _jobs.	  

	* Tanaka Akira: 8678: Completion/User/_cvs: tag name after `cvs
	  tag'.

	* Sven: 8677: Completion/User/_killall: careful with incompatible
	  versions.

	* Sven: zsh-users/2742: Src/Makefile.in: remove comp1 from Makefile.in
	  for building into statically linked shells.

	* Sven: 8675: Completion/Builtins/_kill,
	  Completion/Builtins/_signals, Completion/Builtins/_trap,
	  Completion/User/_killall: better use of tags with signal
	  handling completion.

	* Bart: 8674: Src/builtin.c: make `typeset -x' equivalent to export
	  by forcing -g.

	* Adam: 8672: Functions/Prompts/.distfiles,
	  Functions/Prompts/prompt_adam2_setup,
	  Functions/Prompts/prompt_fire_setup,
	  Fuanctions/Prompts/promptinit: fix $prompt_theme use; restore after
	  preview; add distfiles.

	* Sven: 8681: Completion/Builtins/.distfiles: and _signals.

	* Sven: 8683: Completion/Core/.distfiles: add _funcall.

	* Oliver: 8684: Prompts/prompt_off_setup,
	  Prompts/prompt_oliver_setup, Prompts/prompt_redhat_setup,
	  Prompts/prompt_suse_setup, Prompts/prompt_zefram_setup,
	  Prompts/promptinit: tweaks for 8667.

	* Adam: 8669: Misc/bash2zshprompt: and this one, too.

	* Adam: 8667: Functions/Misc/colors,
	  Functions/Prompts/prompt_adam1_setup,
	  Functions/Prompts/prompt_adam2_setup,
	  Functions/Prompts/prompt_bigfade_setup,
	  Functions/Prompts/prompt_blue_setup,
	  Functions/Prompts/prompt_combo_setup,
	  Functions/Prompts/prompt_cyan_setup,
	  Functions/Prompts/prompt_elite2_setup,
	  Functions/Prompts/prompt_elite_setup,
	  Functions/Prompts/prompt_fade_setup,
	  Functions/Prompts/prompt_fire_setup,
	  Functions/Prompts/prompt_green_setup,
	  Functions/Prompts/prompt_magenta_setup,
	  Functions/Prompts/prompt_off_setup,
	  Functions/Prompts/prompt_oliver_setup,
	  Functions/Prompts/prompt_red_setup,
	  Functions/Prompts/prompt_suse_setup,
	  Functions/Prompts/prompt_white_setup,
	  Functions/Prompts/prompt_yellow_setup,
	  Functions/Prompts/prompt_zefram_setup,
	  Functions/Prompts/promptinit: new prompt themes with better
	  handling of colours.

	* Sven: 8665, 8664: Doc/Zsh/compsys.yo, Completion/Core/_funcall,
	  Completion/Core/compinit, Completion/Linux/_rpm,
	  Completion/User/_nslookup: manual clean-ups.

	* Adam: 8658: Completion/Core/compinit, Doc/Zsh/compsys.yo:
	  fix some typos.

	* Tanaka Akira: 8657: Completion/Base/.distfiles,
	  Completion/Builtins/.distfiles, Completion/Commands/.distfiles,
	  Completion/Core/.distfiles, Completion/Debian/.distfiles,
	  Misc/.distfiles, Src/Zle/.distfiles: new and moved files.

	* Sven: 8655: Completion/Base/_arguments: for 8654.
	
	* Sven: 8654: Doc/Zsh/compsys.yo,
	  Functions/Zle/incremental-complete-word,
	  Functions/Zle/predict-on, Completion/Base/_describe,
	  Completion/Base/_first, Completion/Base/_regex_arguments,
	  Completion/Builtins/_echotc,
	  Completion/Commands/_history_complete_word,
	  Completion/Core/compinit: documentation for new tags code.

	* Sven: 8648: Completion/Base/_brace_parameter,
	  Completion/Base/_subscript, Completion/Builtins/_sched,
	  Completion/Builtins/_stat, Completion/User/_tar: get rid of some 
	  _requested and rationalise tag names.

	* Sven: 8647: Completion/Builtins/_hash,
	  Completion/Builtins/_sched, Completion/Builtins/_stat,
	  Completion/Core/compinit, Completion/User/_cvs,
	  Completion/User/_urls, Completion/User/_user_at_host,
	  Completion/User/_whois, Completion/X/_xutils: additional fixes
	  for latest tags code.

	* Sven: 8646: Src/Zle/computil.c: add comments

	* Tanaka Akira: 8645: Completion/User/_make, Doc/Zsh/compsys.yo:
	  fixes for 8639.

	* Sven: 8644: Completion/Base/_arguments, Completion/Base/_values:
	  loop for only a few options, so don't use getopts.

	* Sven: 8642: Completion/Base/_arguments, Completion/Base/_values: 
	  don't shift OPTINDS-1.

	* Sven: 8640: Completion/Commands/.distfiles: remove _verbose_list.

	* Sven: 8639: Src/Zle/computil.c, Src/Zle/computil.mdd,
	  Completion/Base/_arg_compile, Completion/Base/_arguments,
	  Completion/Base/_brace_parameter,
	  Completion/Base/_command_names, Completion/Base/_condition,
	  Completion/Base/_default, Completion/Base/_describe,
	  Completion/Base/_equal, Completion/Base/_first,
	  Completion/Base/_jobs, Completion/Base/_math,
	  Completion/Base/_parameter, Completion/Base/_regex_arguments,
	  Completion/Base/_subscript, Completion/Base/_tilde,
	  Completion/Base/_values, Completion/Builtins/_aliases,
	  Completion/Builtins/_arrays, Completion/Builtins/_autoload,
	  Completion/Builtins/_bindkey, Completion/Builtins/_builtin,
	  Completion/Builtins/_cd, Completion/Builtins/_command,
	  Completion/Builtins/_compdef, Completion/Builtins/_disable,
	  Completion/Builtins/_echotc, Completion/Builtins/_enable,
	  Completion/Builtins/_functions, Completion/Builtins/_hash,
	  Completion/Builtins/_kill, Completion/Builtins/_limits,
	  Completion/Builtins/_pids, Completion/Builtins/_popd,
	  Completion/Builtins/_sched, Completion/Builtins/_stat,
	  Completion/Builtins/_trap, Completion/Builtins/_unhash,
	  Completion/Builtins/_vars, Completion/Builtins/_wait,
	  Completion/Builtins/_which, Completion/Builtins/_zftp,
	  Completion/Builtins/_zle, Completion/Builtins/_zmodload,
	  Completion/Commands/_complete_help,
	  Completion/Commands/_correct_word,
	  Completion/Commands/_expand_word,
	  Completion/Commands/_history_complete_word,
	  Completion/Commands/_read_comp, Completion/Core/.distfiles,
	  Completion/Core/_alternative, Completion/Core/_approximate,
	  Completion/Core/_complete, Completion/Core/_correct,
	  Completion/Core/_description, Completion/Core/_expand,
	  Completion/Core/_files, Completion/Core/_list,
	  Completion/Core/_main_complete, Completion/Core/_match,
	  Completion/Core/_menu, Completion/Core/_message,
	  Completion/Core/_normal, Completion/Core/_oldlist,
	  Completion/Core/_options, Completion/Core/_parameters,
	  Completion/Core/_path_files, Completion/Core/_requested,
	  Completion/Core/_set_options, Completion/Core/_sort_tags,
	  Completion/Core/_style, Completion/Core/_tags,
	  Completion/Core/_unset_options, Completion/Core/_wanted,
	  Completion/Core/compdump, Completion/Core/compinit,
	  Completion/Core/compinstall, Completion/Debian/_apt,
	  Completion/Debian/_deb_packages, Completion/Linux/_rpm,
	  Completion/User/_archie, Completion/User/_cvs,
	  Completion/User/_dd, Completion/User/_flex,
	  Completion/User/_gcc, Completion/User/_gdb,
	  Completion/User/_gprof, Completion/User/_groups,
	  Completion/User/_gs, Completion/User/_hosts,
	  Completion/User/_killall, Completion/User/_lynx,
	  Completion/User/_mailboxes, Completion/User/_make,
	  Completion/User/_man, Completion/User/_mh,
	  Completion/User/_mount, Completion/User/_mutt,
	  Completion/User/_netscape, Completion/User/_nslookup,
	  Completion/User/_pbm, Completion/User/_perl_basepods,
	  Completion/User/_perl_builtin_funcs,
	  Completion/User/_perl_modules, Completion/User/_ports,
	  Completion/User/_rcs, Completion/User/_rlogin,
	  Completion/User/_socket, Completion/User/_ssh,
	  Completion/User/_stty, Completion/User/_tar,
	  Completion/User/_telnet, Completion/User/_tiff,
	  Completion/User/_urls, Completion/User/_use_lo,
	  Completion/User/_user_at_host, Completion/User/_users,
	  Completion/User/_users_on, Completion/User/_wget,
	  Completion/User/_whois, Completion/User/_yp,
	  Completion/X/_x_arguments, Completion/X/_x_color,
	  Completion/X/_x_cursor, Completion/X/_x_display,
	  Completion/X/_x_extension, Completion/X/_x_font,
	  Completion/X/_x_keysym, Completion/X/_x_modifier,
	  Completion/X/_x_window, Completion/X/_xmodmap,
	  Completion/X/_xt_arguments, Completion/X/_xutils,
	  Doc/Zsh/compsys.yo, Doc/Zsh/mod_computil.yo,
	  Etc/completion-style-guide: contexts extended to multiple levels;
	  tags and styles replace configuration keys; _complete_help (C-xh)
	  shows context and accepted tags.

	* Bart: 8638: Completion/Base/.distfiles,
	  Completion/Builtins/.distfiles: mv _vars from Base to _Builtins.
	
	* Sven: 8633: Doc/Zsh/compsys.yo: documentation for -O options
	  to _arguments and _values.o

	* Sven: 8632: Completion/User/_telnet: remove set -x

	* Sven: 8630: Src/Zle/computil.c, Doc/Zsh/compsys.yo,
	  Completion/Base/_arguments, Completion/Base/_brace_parameter,
	  Completion/Base/_command_names, Completion/Base/_condition,
	  Completion/Base/_default, Completion/Base/_describe,
	  Completion/Base/_equal, Completion/Base/_jobs,
	  Completion/Base/_math, Completion/Base/_parameter,
	  Completion/Base/_subscript, Completion/Base/_tilde,
	  Completion/Base/_values, Completion/Base/_vars,
	  Completion/Builtins/_aliases, Completion/Builtins/_arrays,
	  Completion/Builtins/_autoload, Completion/Builtins/_bindkey,
	  Completion/Builtins/_builtin, Completion/Builtins/_cd,
	  Completion/Builtins/_command, Completion/Builtins/_compdef,
	  Completion/Builtins/_disable, Completion/Builtins/_echotc,
	  Completion/Builtins/_enable, Completion/Builtins/_functions,
	  Completion/Builtins/_hash, Completion/Builtins/_kill,
	  Completion/Builtins/_limits, Completion/Builtins/_pids,
	  Completion/Builtins/_popd, Completion/Builtins/_sched,
	  Completion/Builtins/_stat, Completion/Builtins/_trap,
	  Completion/Builtins/_unhash, Completion/Builtins/_wait,
	  Completion/Builtins/_which, Completion/Builtins/_zftp,
	  Completion/Builtins/_zle, Completion/Builtins/_zmodload,
	  Completion/Core/_alternative, Completion/Core/_complete,
	  Completion/Core/_files, Completion/Core/_main_complete,
	  Completion/Core/_message, Completion/Core/_normal,
	  Completion/Core/_options, Completion/Core/_parameters,
	  Completion/Core/_requested, Completion/Core/_set_options,
	  Completion/Core/_sort_tags, Completion/Core/_style,
	  Completion/Core/_tags, Completion/Core/_unset_options,
	  Completion/Core/compinit, Completion/Debian/_apt,
	  Completion/Linux/_rpm, Completion/User/_archie,
	  Completion/User/_flex, Completion/User/_gcc,
	  Completion/User/_gprof, Completion/User/_groups,
	  Completion/User/_gs, Completion/User/_hosts,
	  Completion/User/_lynx, Completion/User/_mount,
	  Completion/User/_mutt, Completion/User/_netscape,
	  Completion/User/_nslookup, Completion/User/_pbm,
	  Completion/User/_ports, Completion/User/_rlogin,
	  Completion/User/_socket, Completion/User/_ssh,
	  Completion/User/_telnet, Completion/User/_tiff,
	  Completion/User/_urls, Completion/User/_user_at_host,
	  Completion/User/_users, Completion/User/_users_on,
	  Completion/User/_wget, Completion/User/_whois,
	  Completion/User/_yp, Completion/X/_x_color,
	  Completion/X/_x_cursor, Completion/X/_x_display,
	  Completion/X/_x_extension, Completion/X/_x_font,
	  Completion/X/_x_keysym, Completion/X/_x_modifier,
	  Completion/X/_x_window, Completion/X/_xmodmap: tags rewrite.

	* Bart: 8617: Src/signals.c: warning, not error, if jobs running
	  at exit.

	* Akim Demaille <akim@epita.fr>, Tanaka Akira: 8612, 8615:
	  Completion/User/_make: avoid empty branch in awk pattern by
	  using `?'.

	* Clint: 8611: Completion/Debian/_apt: complete package to show.

	* Sven: 8607: Src/builtin.c, Src/math.c: initialize mathevall()
	  return value, but not hunk reset errflag in zexit() (except
	  kept braces).

	* Sven: 8604: Src/Builtins/.cvsignore, Src/Modules/.cvsignore,
	  Src/Zle/.cvsignore: ignore so_locations.

	* Sven: 8603: Completion/Base/_arguments, Completion/Base/_describe,
	  Completion/Base/_values, Completion/Builtins/_kill,
	  Completion/Builtins/_wait, Completion/Core/_alternative,
	  Completion/Core/_files, Completion/Core/_main_complete,
	  Completion/Core/_requested, Completion/Core/_style,
	  Completion/Core/_tags, Completion/Core/compinit: simplified tags 
	  mechanism and new style mechanism.

	* Bart: 8601: Src/Zle/compcore.c: add DPUTS for 8599.

	* Sven: 8599: Src/Zle/compcore.c: fix problems with quoting

	* Adam: 8598: Misc/make-zsh-urls: perl script for creating URLs to
	  complete.

	* Tanaka Akira: 8597: Completion/User/_whois: handle fwhois.

	* Clint: 8594: Completion/Debian/_bug: improvements.

	* Sven: 8591: Src/Zle/zle_main.c: fix up vared in subshell by
	  re-opening file

	* Sven: 8590: Src/Zle/zle.h, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Completion/Core/_path_files: keeping
	  track of prefixes and suffixes in file completion and tracking
	  cursor position for undo.

	* Sven: 8588, 8589: Src/Zle/comp.h, Src/Zle/compcore.c,
	  Src/Zle/compctl.c, Src/Zle/complete.c, Src/Zle/compmatch.c,
	  Src/Zle/compresult.c, Src/Zle/computil.c, Src/Zle/computil.mdd,
	  Src/Zle/zle_tricky.c, Src/params.c, Doc/Zsh/compwid.yo,
	  Doc/Zsh/mod_computil.yo, Completion/Core/_path_files: mega patch
	  for nested quotes in completion.

	* Clint: 8585: Src/Zle/compresult.c: count mismatch displaying lines

	* Clint: 8576: configure.in: fix up options descriptions

	* Clint: 8575: Completion/Debian.new/_bug: handle reportbug

	* Sven: 8573: Src/utils.c: more careful quoting re-inserted ~, too.

	* Sven: 8569: Src/utils.c: 8565 after colon.

	* Sven: 8566: Completion/Core/_tags: local var is $ttags, not $tags.

	* Sven: 8565: Src/utils.c, Completion/Core/_expand: don't quote =
	  in normal argument except at start.

1999-11-19  Peter Stephenson  <pws@supanet.com>

	* Sven: 8562: Completion/Core/_path_files: handle noglobdots but
	  still find explicitly typed dotfiles.

	* Sven: 8560: Src/Zle/complete.export, Src/Zle/compresult.c,
	  Src/Zle/zle.export, Src/Zle/zle_tricky.c, Src/zsh.export: move
	  functions around.

	* Bart: 8558: Completion/Builtins/.distfiles: update

	* Oliver: 8547: zle.export, complete.export, zsh.export

	* Clint: 8545, 7546: Functions/Misc/run-help: .->dot and :->colon;
	  check $HELPDIR and english, don't invoke man if not necessary.

	* Bart: 8541: configure.in, Completion/Base/.distfiles,
	  Completion/Builtins/.distfiles, Completion/Core/.distfiles,
	  Completion/Debian/.distfiles: fix getpwent() test and update
	  .distfiles.

	* Clint: 8540: Completion/Debian/_bug: completion for Debian `bug'.

	* Sven: 8537: Completion/Base/_describe, Completion/Base/_values,
	  Completion/Builtins/_kill, Completion/Builtins/_pids,
	  Completion/Builtins/_wait, Completion/Core/_tags,
	  Completion/User/_gdb: _pids to complete PIDs; -i option to _tags.

	* Sven: 8536: Src/lex.c: don't try to balance parentheses in
	  parameter expressions inside math evals.

	* Sven: 8535: Src/Zle/compcore.c, Src/Zle/complist.c,
	  Src/Zle/zle_tricky.c: drop back to ordinary completion to query
	  user for listing when in menu-select.	

	* Sven: 8533: Completion/Base/_arguments, Completion/Base/_describe,
	  Completion/Base/_values, Completion/Builtins/_kill,
	  Completion/Builtins/_wait, Completion/Core/_files,
	  Completion/Core/_main_complete, Completion/Core/_tags: remove
	  prios parameters by using $funcstack.

	* Clint: 8532: Completion/Debian/_dpkg,
	  Completion/Debian/_dpkg-source: new support for Debian package
	  management functions.

	* 8520: Completion/Base/_arguments, Completion/Base/_describe,
	  Completion/Base/_values, Completion/Builtins/_kill,
	  Completion/Builtins/_wait, Completion/Core/_files,
	  Completion/Core/_main_complete, Completion/Core/_tags,
	  Completion/Core/compinit: add _tags functionality

	* Sven: 8519: Src/Zle/complist.c: don't use old list after a menu
	  selction.

	* Sven: 8518: Src/Modules/parameter.c, Src/Modules/parameter.mdd,
	  Completion/Base/_command_names, Completion/Builtins/_aliases,
	  Completion/Builtins/_enable, Completion/Builtins/_unhash,
	  Completion/Builtins/_which, Doc/Zsh/builtins.yo,
	  Doc/Zsh/mod_parameter.yo: dis* parameter keys are now all
	  dis_*.

	* Sven: 8517: Src/Zle/zleparameter.c: when to calculate values
	  for zle parameters (update to 8474).

	* Sven: 8515: Src/Zle/comp.h, Src/Zle/compctl.h, Src/builtin.c,
	  Src/module.c, Doc/Zsh/builtins.yo,
	  Completion/Base/_command_names, Completion/Builtins/_bg_jobs,
	  Completion/Builtins/_fg_jobs, Completion/Builtins/_hash,
	  Completion/Builtins/_jobs, Completion/Builtins/_kill,
	  Completion/Builtins/_wait, Completion/User/_gdb,
	  Completion/User/_perldoc: completion file headers;
	  zmodload in static shells; changes in job control
	  completion.

	* Bart: 8512: Completion/Core/compinit: workaround zmodload -i
	  unavailibity in statically linked shell.

1999-11-03  Bart Schaefer  <schaefer@zsh.org>

	* Config/version.mk: Set version string to 3.1.6-bart-8.

	* Doc/Zsh/Makefile.in, Src/Zle/zle.mdd: The comp1 module is obsolete.

1999-11-02  Bart Schaefer  <schaefer@zsh.org>

	* Src/Zle/comp1.c, Src/Zle/comp1.export, Src/Zle/comp1.mdd: Sven:
	8424: These files are obsolete now.

	* Src/Zle/compcore.c: Sven: 8495: The wrong cline struct was being
	tested, causing improper auto-suffix-removal behavior.

	* Completion/Core/_path_files: Sven: 8494: Fix up prefix/suffix
	manipulations.

	* Completion/Base/_value: Tanaka: 8491: Call _value after
	redefining it.

	* Src/Zle/compcore.c, Src/Zle/compresult.c, Src/Zle/computil.c:
	Sven: 8490: Fix display bugs and a fencepost error.

	* Src/Modules/parameter.c: Sven: 8490: Use the correct scan for
	disabled aliases.

	* Completion/User/_urls: Sven: 8490: Don't use "hosts" as a local
	paramter name, _hosts wants to see the global when it gets called
	later.

	* Src/exec.c: Sven: 8488: Pass a copy of the function name to
	module wrappers in case the function undefines/redefines itself.

	* Completion/Base/_value: Tanaka: 8487: Completions after
	parameter assignments.

	* Completion/User/_make: Tanaka: 8486: Some BSD-variant special cases.

	* Completion/Debian/_apt, Completion/User/_archie: Tanaka: 8485:
	Fix typos and minor omissions.

	* Completion/User/_cvs, Completion/User/_whois,
	Completion/Core/compinit, Completion/Base/_combination: Sven:
	8484: Use parameter module for testing function existence; fix a
	couple of small bugs.

	* Src/Modules/parameter.c: Sven: 8482: Make sure special AA param
	keys are set when needed.

	* Src/Zle/compcore.c, Src/Zle/compmatch.c: Sven: 8481: An empty
	string in compmatchers means try global match specs.

	* Doc/Zsh/mod_parameter.yo, Src/Modules/parameter.c,
	Src/Modules/parameter.mdd, Completion/Core/compinit: Sven: 8480:
	Add funcstack parameter.

	* Completion/Core/_path_files: Sven: 8479: Use globdots throughout.

	* Completion/Base/_first: Sven: 8479: Fix example code (in comment).

	* Doc/Zsh/expn.yo, Src/glob.c: Sven: zsh-users/2713: Qualifier (n)
	sets numeric-glob-sort for current glob.

	* Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Doc/Zsh/compctl.yo,
	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/intro.yo,
	Doc/Zsh/manual.yo, Doc/Zsh/mod_complete.yo, Doc/Zsh/modules.yo,
	Doc/Zsh/zle.yo, Src/Zle/comp.h, Src/Zle/compcore.c,
	Src/Zle/complete.c, Src/Zle/complete.mdd, Src/Zle/complist.c,
	Src/Zle/compmatch.c, Src/Zle/compresult.c, Src/Zle/zle.h,
	Src/Zle/zle_main.c, Src/Zle/zle_misc.c, Doc/zsh.yo: Sven: 8478 (as
	described in 8475 and 8476): Continue the re-modularization of the
	new completion system, moving some doc into new sections and
	moving most of the completion code from zle_tricky.c into three
	new files.

	* Completion/Core/compinit: Sven: 8475: Call zmodload on parameter
	and zleparameter.  This may not be necessary, as it wasn't
	included in the correction in 8478.

	* Src/Modules/parameter.c: Sven: 8474: Fix computation from
	previous patch for whether values are needed.

	* Src/hashtable.c: Sven: 8474: Fall back on getpwent() if NIS
	and/or NIS+ don't find anything.

	* Src/signals.c: Sven: 8473: Reset sigtrapped[] during dosavetrap().

	* Src/Modules/parameter.c, Src/Zle/zleparameter.c: Sven: 8472:
	Don't calculate values for special parameters unless needed.

	* Functions/Zle/predict-on: Use a "repeat 1" instead of "while
	true" for a dummy loop.  (Unposted.)

	* Completion/Builtins/_functions, Completion/Builtins/_unhash,
	Completion/Builtins/_which, Completion/Builtins/_zle,
	Completion/Builtins/_zmodload, Doc/Zsh/mod_parameter.yo,
	Doc/Zsh/mod_zleparameter.yo, Src/Modules/parameter.c,
	Src/Modules/parameter.mdd, Src/Zle/zleparameter.c,
	Src/Zle/zleparameter.mdd, Completion/Base/_command_names,
	Completion/Base/_equal, Completion/Builtins/_aliases,
	Completion/Builtins/_bindkey, Completion/Builtins/_builtin,
	Completion/Builtins/_disable, Completion/Builtins/_enable: Sven:
	8471: Split some paramters into enabled and disabled variants.

	* Functions/Zle/predict-on: Sven: 8470: Test list_max of 0 as a
	special case.

	* configure.in: Zefram: 8459: More places to hunt for signals and
	resources.

	* Completion/Core/compinit, Doc/Zsh/compsys.yo, Src/xmods.conf:
	Sven: 8440: Auto-autoload the parameter modules, because
	completion won't work without them.

	* Src/Zle/zle_tricky.c: Sven: 8439: Completion lists respect
	NUMERIC_GLOB_SORT.

	* Src/Zle/zle_tricky.c: Sven: 8438: Force recompute of completion
	list in listlist().

	* Src/Zle/complist.c, Src/Zle/zle_tricky.c: Sven: 8437: Fix crash
	in menu-select and remove old ref to ZLS_SELECT param.

	* Src/Zle/compctl.mdd, Src/Zle/complete.c, Src/Zle/complete.mdd,
	Src/Zle/complist.c, Src/Zle/complist.mdd, Src/Zle/computil.mdd,
	Src/Zle/zle.h, Src/Zle/zle_keymap.c, Src/Zle/zle_main.c,
	Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c,
	Src/Zle/zleparameter.c, Src/Zle/zleparameter.mdd,
	Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo, Doc/Zsh/manual.yo,
	Doc/Zsh/mod_clone.yo, Doc/Zsh/mod_compctl.yo,
	Doc/Zsh/mod_complete.yo, Doc/Zsh/mod_computil.yo,
	Doc/Zsh/mod_parameter.yo, Doc/Zsh/mod_zle.yo,
	Doc/Zsh/mod_zleparameter.yo, Doc/Zsh/modules.yo,
	Src/Modules/parameter.c, Src/Modules/parameter.mdd,
	Src/Zle/comp.h, Src/Zle/compctl.h, Src/hashtable.c, Src/module.c,
	Src/params.c, Src/subst.c, Src/xmods.conf, Completion/User/_cvs,
	Completion/User/_gdb, Completion/User/_man, Completion/User/_mh,
	Completion/User/_nslookup, Completion/User/_tar,
	Completion/User/_urls, Completion/User/_users,
	Completion/User/_whereis, Completion/User/_whois,
	Completion/X/_x_font, Completion/X/_x_window,
	Completion/X/_xmodmap, Doc/Makefile.in, Doc/Zsh/compctl.yo,
	Doc/Zsh/compsys.yo, Completion/Debian/_apt,
	Completion/Core/_approximate, Completion/Core/_main_complete,
	Completion/Core/_normal, Completion/Core/_options,
	Completion/Core/_parameters, Completion/Core/_path_files,
	Completion/Core/compinit, Completion/Commands/_bash_completions,
	Completion/Commands/_history_complete_word,
	Completion/Commands/_read_comp, Completion/Builtins/_aliases,
	Completion/Builtins/_arrays, Completion/Builtins/_bg_jobs,
	Completion/Builtins/_bindkey, Completion/Builtins/_builtin,
	Completion/Builtins/_cd, Completion/Builtins/_command,
	Completion/Builtins/_compdef, Completion/Builtins/_disable,
	Completion/Builtins/_enable, Completion/Builtins/_fc,
	Completion/Builtins/_functions, Completion/Builtins/_hash,
	Completion/Builtins/_jobs, Completion/Builtins/_kill,
	Completion/Builtins/_set, Completion/Builtins/_stat,
	Completion/Builtins/_trap, Completion/Builtins/_unhash,
	Completion/Builtins/_wait, Completion/Builtins/_which,
	Completion/Builtins/_zle, Completion/Builtins/_zmodload,
	Completion/Base/_arguments, Completion/Base/_brace_parameter,
	Completion/Base/_command_names, Completion/Base/_describe,
	Completion/Base/_equal, Completion/Base/_first,
	Completion/Base/_job, Completion/Base/_regex_arguments,
	Completion/Base/_tilde, Completion/Base/_values: Sven: 8424:
	Rearrange completion code to make the new function-based system
	the default and begin separating zle_tricky, the old compctl
	stuff, and the new system into better-segregated modules.

	* Src/Zle/compctl.c: Port from zle_tricky.c my local stubbornness
	patch to use short job names, not whole job listings, in job
	completions.

	* Src/Zle/compctl.c: Sven: 8424: Rearrange completion code to make
	the new function-based system the default and begin separating
	zle_tricky, the old compctl stuff, and the new system into
	better-segregated modules.

1999-10-27  Bart Schaefer  <schaefer@zsh.org>

	* Functions/Zle/predict-on: Better handling of automenu, and don't
	generate a listing if nmatches is so big that it would generate a
	"do you wish ...?" prompt.

	* Functions/Zle/predict-on, Doc/Zsh/compsys.yo: Sven: 8442: "Pour
	some compconfig over" predict-on.

1999-10-26  Bart Schaefer  <schaefer@zsh.org>

	* Functions/Zle/predict-on: As per Sven's suggestion, use a
	comppostfuncs function to suppress the "do you wish to see all
	possibilities?" message on long listings.

1999-10-25  Bart Schaefer  <schaefer@zsh.org>

	* Src/Zle/complist.c: Alexandre Duret-Lutz: 8413: Tweak 8412 to
	extend the menu-selection highlight to the full width of the
	column.

	* Src/Zle/complist.c, Doc/Zsh/mod_complist.yo: Sven: 8412: Add
	separate colorings for the file-type-marker and for background
	spaces, to be able to more closely copy GNU color-ls.

	* Src/Modules/parameter.c: Bart: 8404: Implement "autoload -X" and
	change the value of "$functions" to fit.  Also fix a crash-bug
	when unloading this module.

	* Src/builtin.c, Src/exec.c, Src/hashtable.c, Doc/Zsh/builtins.yo,
	Doc/Zsh/func.yo: Bart: 8404: Implement "autoload -X" and change the
	output of "functions" to fit.

	* Doc/Zsh/zle.yo: Sven: 8400: BLINES -> BUFFERLINES

1999-10-24  Bart Schaefer  <schaefer@zsh.org>

	* Src/zsh.mdd: Don't forcibly rebuild zshpaths.h; instead make it
	depend on the usual configuration-related makefile fragments.

	* Src/parse.c: Fix function-body parsing bug introduced by earlier
	optimizations.

1999-10-22  Bart Schaefer  <schaefer@zsh.org>

	* Src/Modules/stat.c: Alexandre Duret-Lutz: 8371: Make "stat -g"
	correspond to the doc for it.

	* Src/hist.c: Alexandre Duret-Lutz: 8376: !# history expansion now
	works during completion, as it has in 3.0 since June 1, 1997.

	* Src/main.c, Src/params.c, Src/system.h, INSTALL, acconfig.h,
	configure.in: Zefram: 8372: Configure option to disable
	setlocale() support, and also do a linkage test for it rather than
	simply test for the LC_ALL constant.

	* Functions/Zle/predict-on: Back out Sven's suggested compmatchers
	for now; turn off prediction when a delete-char-or-list is
	performed.

1999-10-21  Bart Schaefer  <schaefer@zsh.org>

	* Functions/Zle/predict-on: Refine, and improve commentary.

	* Completion/Builtins/_cd, Completion/Builtins/_popd: Oliver:
	8361: Factor out handling of +/- dirstack offsets from _cd to make
	completer for _popd; fix _cd handling of directory names that
	actually do begin with a + or -.

	* Src/Zle/computil.c: Sven: 8360: Still more parsing fixes.

	* Completion/User/_bison: Sven: 8360: Improved option recognition.

	* Completion/Base/_arguments, Completion/Base/_values: Sven: 8360:
	More computil-related tweaking.

	* Completion/Builtins/_sched: Oliver: 8359: Complete scheduled
	jobs for removal.

	* Src/Zle/computil.c: Sven: 8357: More options-parsing tweaks.

	* Functions/Prompts/promptinit,
	Functions/Prompts/prompt_oliver_setup: Oliver: 8353: Simplified
	handling of prompt_opts.

	* Src/Zle/computil.c: Sven: 8352: Fix parsing bugs.

	* Completion/User/_bison: Sven: 8352: Complete .y files as well.

	* Completion/Base/_arguments: Sven: 8352: Delay calling _message
	so it won't confuse compstate[insert].

	* Src/Zle/zle_tricky.c: Sven: 8350: Fixes to cline handling of
	position of braces and of cursor following completion in nested
	braces.

	* Functions/Zle/predict-on: If history-beginning-search-backward
	fails, attempt complete-word.

	* Completion/Core/_path_files: Sven: 8350: Fix prefix/suffix settings.

	* configure.in: Clint Adams: 8346: Fix typos.

	* Src/Zle/computil.c: Sven: 8340: Fix memory management bugs and
	confusion about word ranges when restricting compwords.

	* Completion/Core/_path_files: Sven: 8340: Fix completion on empty
	string.

1999-10-20  Bart Schaefer  <schaefer@zsh.org>

	* Functions/Prompts/promptinit: Oliver: 8335: Provide the
	prompt_opts assoc. array to specify what options are needed by a
	given prompt theme, and arrange to set them by putting the
	localoptions-affected guts of the prompt function into set_prompt
	and then calling setopt after it finishes.  (Tweaked to avoid
	reindentation.)

1999-10-19  Bart Schaefer  <schaefer@zsh.org>

	* Src/Zle/comp.h, Src/Zle/complist.c, Src/Zle/zle_tricky.c: Sven:
	8333: Handle completion in nested brace-expressions.

	* Src/Builtins/rlimits.c: Display the sockbufsize and maxpthreads
	limits in "ulimit -a" output.

	* Src/Builtins/rlimits.awk, Doc/Zsh/builtins.yo: Add the
	"maxpthreads" limit as reported by Albert Chin.

	* Src/Zle/comp1.export, Src/Zle/compctl.export,
	Src/Zle/zle.export: Oliver: 8323: Declarations needed to build
	shared objects on AIX.

	* Src/Zle/zle_tricky.c: Sven: 8322: Fix overeager slash-addition
	and suffix-elimination.

	* Completion/Core/_path_files: Sven: 8322: Complete directories up
	to a trailing slash even if there are no further subdirectories,
	but continue to make any subdirectories candidates for further
	completion when a trailing slash is present.

	* Src/Builtins/rlimits.awk, Doc/Zsh/builtins.yo: Rename
	"sktbuffersize" as "sockbufsize".

	* Src/cond.c: Sven: 8321: Fix bug in new cmpile-once "case" handling.

1999-10-18  Bart Schaefer  <schaefer@zsh.org>

	* Src/Builtins/rlimits.awk, Src/Builtins/rlimits.c,
	Src/Builtins/rlimits.mdd: Zefram: 8320: Sort the resource list for
	"limit", rename "sbsize" to "sktbuffersize", fix problems handling
	memory type limits vs pure numeric vs time spans.

	* Doc/Zsh/builtins.yo: Zefram: 8320: Sort the resource list for
	"limit", rename "sbsize" to "sktbuffersize".

	* Src/cond.c, Src/loop.c, Src/parse.c, Src/pattern.c, Src/utils.c,
	Src/zsh.h: Sven: 8319: Compile patterns in "case" statements on
	demand, then keep them in the parse tree so they only have to be
	compiled once.

	* Src/Zle/zle_tricky.c: Sven: 8317: Reset state so that a leading
	"~" isn't assumed to be part of an extendedglob pattern.

	* Completion/Base/_tilde: Sven: 8317: Use _users.

	* Src/Zle/computil.c: Sven: 8316: Report when arguments are not
	allowed at a position.

	* Completion/Base/_arguments: Sven: 8316: Extraneous "break".

	* Src/Zle/computil.c: Sven: 8315: Save and restore parser state
	around "restricting rest-argument-definitions".

	* Src/Zle/zle_tricky.c: Sven: 8313: Try harder to use match specs
	correctly, even when `globcomplete'.

	* Doc/Zsh/compsys.yo, Completion/Core/_path_files: Sven: 8313:
	conconfig[path_expand] now has "prefix" and "suffix" choices.

	* Completion/Core/compinit: Sven: 8313: Minor cleanup of "funcall".

	* Completion/Core/_main_complete: Sven: 8313: A warning message
	should be printed only when the last global match spec was tried.

	* Completion/Core/_main_complete: Sven: 8312: Missing "local" decl.

	* Doc/Zsh/builtins.yo: Document the `sbsize' limit.

	* Src/Builtins/rlimits.awk: Jos Backus: 8309: FreeBSD has an
	SBSIZE limit.

1999-10-17  Bart Schaefer  <schaefer@zsh.org>

	* Completion/User/_man: Oliver: 8139: Use the "manpath" command if
	available, splitting at colons.

	* Src/Modules/mathfunc.c: Oliver: 8138: Remove excess comma that
	causes picky compilers to choke.

	* Src/builtin.c, Src/options.c, Src/zsh.h, Doc/Zsh/options.yo:
	Bart: 8308: The `CHECK_JOBS' option, based on Clint Adams' 8109,
	with sense reversed as suggested by Zefram in 8111, and adapted
	doc from PWS in 8110.

	* Doc/Zsh/compsys.yo, Completion/Commands/_history_complete_word:
	Adam: 8028,8063,8070; and PWS: 8098: Revised history completion.

	* Src/.cvsignore: Ignore .pro files only if they begin with
	alphanumerics, to keep .indent.pro.

1999-10-16  Bart Schaefer  <schaefer@zsh.org>

	* Config/version.mk: Set version string to 3.1.6-bart-7.

	* Completion/User/_whois: Tanaka: 8296: New completion for "whois".

	* Completion/User/_archie: Tanaka: 8295: New completion for "archie".

1999-10-15  Bart Schaefer  <schaefer@zsh.org>

	* Completion/Debian/_apt, Completion/Base/_regex_arguments:
	Tanaka: 8289: Misc. cleanup.

	* Completion/User/_pbm: Tanaka: 8287: Add missing
	continuation-line backslashes.

	* Completion/User/_urls: Tanaka: 8286: Misc. cleanup.

	* Misc/bash2zshprompt: Adam: 8278: Emit "setopt promptsubst".

	* Completion/User/_urls: Oliver: 8276: More autoremoval fixes.

	* Src/Zle/zle_tricky.c: Sven: 8283: Fix bug in tracking number of
	matches added.

	* Doc/Zsh/compctl.yo, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo:
	Sven: 8283: Improve documentation about match-specs.

	* Completion/Core/compinit: Sven: 8273: "compconf -L" sorts its
	output.

	* Completion/Core/compinit, Src/Zle/computil.c,
	Src/Zle/computil.mdd, Src/xmods.conf: Sven: 8272: The computil
	module is now auto-autoloaded; minor bugfix.

	* Doc/Zsh/mod_complist.yo, Doc/Zsh/mod_computil.yo,
	Doc/Zsh/mod_deltochar.yo, Doc/Zsh/modules.yo: Sven: 8272: Assorted
	computil documentation.

	* Completion/Base/_describe, Completion/Base/_values: Sven: 8272:
	Clean-up related to usages of new computil functions.

	* Src/Zle/computil.c, Completion/Base/_arguments: Sven: 8270:
	Assorted computil debugging.

	* Src/math.c: Sven: 8267: Fix core dump caused by bad error handling.

	* Completion/User/_urls: Tanaka: 8263: Avoid bad autoremove behavior.

	* Completion/User/_killall, Completion/User/_pack,
	Completion/User/_unpack, Completion/User/_whereis: Oliver: 8262:
	More new completers.

	* Completion/User/_uncompress, Completion/User/_users,
	Completion/User/_gzip, Completion/User/_hosts: Oliver: 8262: Fix
	misc. minor omissions.

	* Completion/Builtins/_nothing: Oliver: 8262: Use this for the
	"whoami" command.

	* Src/zsh.h, Src/params.c: Sven: 8254: Implement (k) and (K)
	subscript modifiers.

	* Doc/Zsh/params.yo: Sven: 8254: Document the new (k) and (K)
	subscript modifiers.

	* Functions/Prompts/prompt_adam2_setup,
	Functions/Prompts/prompt_fire_setup,
	Functions/Prompts/prompt_redhat_setup,
	Functions/Prompts/promptinit: Fix a few bugs, mostly involving
	`setopt promptsubst'.

	* Functions/Prompts/promptinit: Sven: 8251: Tweak to properly
	expand the $fpath array.

	* Src/Zle/compctl.c, Src/Zle/compctl.mdd: Sven: 8249: Add the
	"compmatchers" array.

	* Doc/Zsh/compctl.yo, Doc/Zsh/compsys.yo: Sven: 8249: Clarify
	documentaion of declarations needed by some completers; document a
	couple of new features.

	* Completion/Core/_description, Completion/Core/_files,
	Completion/Core/_main_complete, Completion/Core/_message,
	Completion/Core/_multi_parts, Completion/Core/_path_files,
	Completion/Core/_sep_parts: Sven: 8249: Accept standard compadd
	arguments, fix a few bugs, use the new compconfig[warning_format],
	etc.

	* Completion/Builtins/_nothing: Sven: 8249: A completer which just
	prints a warning that the current context does not expect any
	words at all (e.g., a command that takes no arguments).

1999-10-14  Bart Schaefer  <schaefer@zsh.org>

	* Completion/Core/_main_complete, Completion/Core/compinit: Sven:
	8256: Missing hunks of 8227.

	* Src/Zle/zle_tricky.c: Sven: 8247: When completing with a match
	spec, don't insert anchors if there are characters missing to the
	left of them.

	* Src/Zle/zle_tricky.c: Sven: 8244: Fix failure to list ambiguous
	matches completing after a quote.

	* configure.in: Tanaka: 8241: Test for a gcc 2.95 bug.

	* Src/Builtins/rlimits.awk, Src/Builtins/rlimits.c,
	Doc/Zsh/builtins.yo: Zefram: 8229: Support for the AIO_OPS and
	AIO_MEM resource limits.

1999-10-13  Bart Schaefer  <schaefer@zsh.org>

	* Src/Zle/compctl.c, Src/Zle/computil.c, Src/Zle/computil.mdd,
	Src/Zle/zle_tricky.c, Doc/Zsh/compsys.yo,
	Completion/Core/compinit, Completion/Base/_arguments,
	Completion/Base/_describe, Completion/Base/_values: Sven: 8219:
	Add and make use of the "computil" module, which moves several of
	the operations previously done by shell functions into C code.

	* Completion/User/_netscape: Oliver: 8230: Better browser and url
	completion.

	* Completion/User/_tiff: Sven: 8132: Change "options" to "opt_args".

	* Src/Zle/zle_tricky.c: Sven: 8231: Remove unnecessary tokenization.

	* Src/utils.c: Sven: 8231: Don't attempt to use a null name in
	zwarnnam().

	* Doc/Zsh/compsys.yo, Completion/X/_xmodmap,
	Completion/User/_flex, Completion/User/_gcc,
	Completion/User/_gprof, Completion/User/_gs,
	Completion/User/_lynx, Completion/User/_mount,
	Completion/User/_nslookup, Completion/User/_rlogin,
	Completion/User/_socket, Completion/User/_ssh,
	Completion/User/_telnet, Completion/User/_urls,
	Completion/User/_wget, Completion/User/_yp, Completion/Linux/_rpm:
	Sven: 8231,8232: Rename "options" as "opt_args" in a lot of places
	to avoid conflicts with the parameters module.

	* Completion/User/_urls, Completion/User/_webbrowser,
	Doc/Zsh/compsys.yo: Oliver: 8230: Better browser and url
	completion.

	* Functions/Zle/incremental-complete-word, Doc/Zsh/compsys.yo,
	Doc/Zsh/compwid.yo, Doc/Zsh/zle.yo, Src/Zle/comp.h,
	Src/Zle/comp1.c, Src/Zle/compctl.c, Src/Zle/complist.c,
	Src/Zle/zle_main.c, Src/Zle/zle_params.c, Src/Zle/zle_tricky.c:
	Sven: 8227: Compute the list of matches more frequently and
	earlier so that compstate[nmatches] is accurate more often;
	replace compstate[normal_nmatches] with
	compstate[alternate_nmatches] as a consequence; add
	compstate[list_lines] and BUFFERLINES for testing how big a screen
	is needed to edit; add an array comppostfuncs to hold callback
	shell functions run during completion; fix a display bug.

	* Src/Zle/zle_tricky.c: Sven: 8222: More cursor position
	heuristics: prefer to place the cursor in the matched portion of
	an ambiguous word, rather than in a prefix or suffix.

	* Completion/Core/_approximate, Completion/Core/_complete,
	Completion/Core/_expand, Completion/Core/_list,
	Completion/Core/_main_complete, Completion/Core/_match,
	Completion/Core/_path_files, Completion/Base/_default: Sven: 8217:
	Remove large comments that are now redundant with the compsys
	manual; misc other cleanup.

	* Src/Zle/zle_tricky.c: Sven: 8216: Improve code readability.

	* Src/Zle/zle_tricky.c: Sven: 8215: Fix problem with
	accept-and-menu-complete.

	* Functions/Misc/nslookup: A space is required between "read -k"
	and the number of bytes to read.

	* Doc/Zsh/builtins.yo: Document vagaries of "read -k" argument
	parsing.

1999-10-12  Bart Schaefer  <schaefer@zsh.org>

	* config.sub: Handle newer flavors of hppa2.0 as computed by
	configure.

1999-10-11  Bart Schaefer  <schaefer@zsh.org>

	* Completion/Core/_path_files: Sven: 8206: Fix setting of PREFIX
	when there's a leading slash.

	* Src/Zle/zle_tricky.c: Sven: 8205: Misc. fixes involving uninit'd
	variables, ragged alignment of output in calclist(), etc.

	* Completion/User/_yodl: Sven: 8204: Handle .yo file-suffix as
	well as .yodl.

	* Completion/Builtins/_cd, Completion/Base/_tilde: Oliver: 8181:
	Clean up directory stack handling.

1999-10-10  Bart Schaefer  <schaefer@zsh.org>

	* Src/options.c: Zefram: 8152: A batch of tweaks to emulation
	behavior (exec change omitted).

	* Doc/Zsh/options.yo, Src/options.c: Zefram: 8154: Change default
	behavior of shortloops (extendedglob change omitted).

	* Src/exec.c: Add the coproc descriptors to those that can't be
	copied by redirection.

	* Doc/Zsh/redirect.yo: Zefram: 8186: More accurate redirection doc.

	* Src/exec.c: Tweak 8187 to test the fdtable[] array rather than
	simply > 9.

	* Src/glob.c, Src/exec.c: Zefram: 8187: Don't permit redirection
	to grab zsh's internal descriptors.

	* Doc/Zsh/redirect.yo: Document the "&>" redirection and the use
	of multi-digit numbers on the RHS of "<&" and ">&" redirections.

	* Src/lex.c: Fix parsing of the "&>" redirection.

	* Src/exec.c: Plug lead of a copy of the coproc input descriptor.

1999-10-07  Bart Schaefer  <schaefer@zsh.org>

	* Completion/User/_urls: Oliver K: 8155: Handle "file:" urls.

	* Src/Zle/zle_tricky.c: Tweak last patch slightly to avoid the
	possibility of returning NULL.

	* Src/Zle/zle_tricky.c: Don't prematurely free/recreate the cached
	value of $compstate[ambiguous].

	* Functions/Prompts/promptinit: This function requires extendedglob.

1999-10-06  Bart Schaefer  <schaefer@zsh.org>

	* Functions/Misc/colors:
	Adam: 8147: Use $'...' rather than $(echo -n '...').

	* Misc/bash2zshprompt: Adam: 8144: Small fix.

	* Misc/bash2zshprompt, Functions/Prompts/prompt_adam1_setup,
	Functions/Prompts/prompt_adam2_setup,
	Functions/Prompts/prompt_blue_setup,
	Functions/Prompts/prompt_combo_setup,
	Functions/Prompts/prompt_cyan_setup,
	Functions/Prompts/prompt_elite2_setup,
	Functions/Prompts/prompt_elite_setup,
	Functions/Prompts/prompt_fire_setup,
	Functions/Prompts/prompt_green_setup,
	Functions/Prompts/prompt_magenta_setup,
	Functions/Prompts/prompt_off_setup,
	Functions/Prompts/prompt_red_setup,
	Functions/Prompts/prompt_redhat_setup,
	Functions/Prompts/prompt_suse_setup,
	Functions/Prompts/prompt_white_setup,
	Functions/Prompts/prompt_yellow_setup,
	Functions/Prompts/promptinit, Functions/Misc/colors,
	Completion/User/_prompt: Adam: 8129: "Themed prompts" system
	copied (and translated) from bash.

	* INSTALL, configure.in: Adam: 8145: Install the themed-prompt stuff.

	* Src/Modules/stat.c, Src/system.h: Zefram: 8137: Support for
	Solaris "doors".

	* Src/jobs.c: Reattach the tty and resize the terminal after a
	foreground job is stopped.

1999-10-04  Bart Schaefer  <schaefer@zsh.org>

	* Src/Zle/zle_refresh.c: Geoff: 8126: Fix infinite loop in
	tc_rightcurs().

1999-10-03  Bart Schaefer  <schaefer@zsh.org>

	* Src/builtin.c, Doc/Zsh/builtins.yo: PWS: 8093: Back out 8084.

	* Src/prompt.c: Use zcalloc() to allocate the buffer in
	promptexpand(), so as not to leave garbage beyond the end of the
	prompt after expansion.

	* Src/builtin.c: When computing the new directory for $PWD, don't
	duplicate a trailing slash.

	* Etc/FAQ.yo: PWS: zsh-announce/100: Latest FAQ changes.

1999-10-02  Bart Schaefer  <schaefer@zsh.org>

	* Src/exec.c: 8121: Start the path search over from the beginning,
	not from where it was last left off, after removing a bad element
	at attempted-execute-time.

1999-09-30  Bart Schaefer  <schaefer@zsh.org>

	* Doc/Zsh/compsys.yo, Completion/Commands/_bash_completions: PWS:
	8108: Completions for bash equivalence.

	* Doc/Makefile.in: Adam: 8106: Use $(DESTDIR) when installing
	info, too.

	* Completion/User/_my_accounts, Completion/User/_other_accounts,
	Completion/User/_user@host, Completion/User/_user_at_host: Adam:
	8101: Change @ to _at_ in file names.

	* Completion/User/_perl_modules, Completion/User/_perldoc: Adam:
	8100: Small bugfix, whitespace cleanup.

	* Completion/Core/compinit, Doc/Zsh/compsys.yo: PWS: 8098: Add
	"compdef -K" to map multiple widgets to the same function.

	* Doc/Zsh/guide.yo: PWS: 8097: Renamed to manual.yo.

	* Doc/Zsh/guide.yo, Doc/Zsh/intro.yo, Doc/Zsh/manual.yo,
	Doc/Makefile.in, Doc/zsh.yo, Doc/ztexi.yo: PWS: 8097: Rename
	"guide" to "manual" as PWS is working on another "guide."

	* Completion/User/_a2ps: Alexandre Duret-Lutz: 8094: Update for
	newer versions of a2ps.

	* Src/params.c: Don't use tokenized strings as associative array keys.

	* Src/exec.c: PWS: 8086: Don't singsub() the LHS of assignments at
	exec time.

	* Src/Zle/complist.c: PWS: 8072: Fix allocation state bug (massive
	reindentation but no other real changes).

	* Doc/Zsh/builtins.yo: PWS: 8084: Reset $PWD in the "pwd" builtin
	if unable to stat(pwd).  This leaves the dirstack in an
	inconsistent state and needs more looking-at.

	* Src/exec.c: 8091: Be a little smarter about fixing up the command
	table when we find a bad element at attempted-execute-time.

1999-09-28  Bart Schaefer  <schaefer@zsh.org>

	* Src/builtin.c: PWS: 8084: Reset $PWD in the "pwd" builtin if
	unable to stat(pwd).  This leaves the dirstack in an inconsistent
	state and needs more looking-at.

	* Completion/User/_man: Tanaka: 8082: Fix PWS's silly thinko.

1999-09-27  Bart Schaefer  <schaefer@zsh.org>

	* Completion/User/_user@host: Adam: 8065: Add forgotten file used
	by _my_accounts and _other_accounts.

	* Doc/Zsh/compsys.yo: Adam: 8064: Documentation for _my_accounts
	and _other_accounts usages.

	* Completion/User/_my_accounts, Completion/User/_other_accounts:
	Adam: 8064,8065,8066: Assorted fixes and documentation.

	* Completion/User/_man: Adam: 8062: Fix to handle colon-delimited
	"manpath" output (as corrected by PWS: 8067.)

1999-09-26  Bart Schaefer  <schaefer@zsh.org>

	* Src/signals.c: PWS: 8056: Wrap getiparam() in HEAPALLOC block
	for math evaluation reasons.

1999-09-26  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: Config/version.mk: 3.1.6-pws-6

	* pws: 8051: Completion/User/_users_on: typos.

	* pws: 8050: Src/utils.c: getkeystring() used in ##<char>
	  (formally #\<char>) should return unsigned char.

	* pws: 8049: Src/math.c: use HEAPALLOC for math evals.

	* Adam: 8048: Completion/User/_my_accounts,
	  Completion/User/_other_accounts, Completion/User/_rlogin,
	  Completion/User/_ssh, Completion/User/_users_on: use
	  my_accounts and other_accounts for ssh and friends;
	  user users for write and potentially elsewhere.
	
	* Adam: 8047: Completion/User/_users: lasts uses _users.

	* Tanaka Akira: 8044: Completion/Base/_regex_arguments,
	  Completion/Debian/_apt: remove NULs from cache files,
	  fix some typos.

	* Tanaka Akira: 8042: Doc/Zsh/expn.yo, Src/subst.c, Src/utils.c:
	  ${(qqqq)...} now does $'...' quotation; rejigging unprintable
	  characters is now ${(V)...}.

1999-09-24  Peter Stephenson  <pws@ibmth.df.unipi.it>
	* Tanaka Akira: 8039: Src/utils.c: quoting of backslashes inside
	  ${(qqq)...}.

	* pws: 8038: Completion/User/_tar: wouldn't use tar archives
	  beginning with a ~.

1999-09-23  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 8033: Src/math.c: use '##' to get code for literal
	  character as less error-prone than `#\'.

	* Sven: 8030: Src/utils.c: 8019 needed to expand the buffer
	  even more.

	* pws: 8026: Src/math.c: idiotically made buffer too short
	  for error message.

	* Sven: 8023: Src/subst.c, Src/utils.c, Doc/Zsh/expn.yo:
	  ${(qqqq)...} quotes unprintables in bindkey fashion.

	* pws: 8022: Src/Zle/zle_misc.c: digit argument with metafied
	  digits didn't work.

	* Sven: 8021: Src/Zle/complist.c: keep better track of cursor
	  position when moving in a menu selection.

	* Vin Shelton and pws: 8020: Src/Zle/deltochar.c,
	  Doc/Zsh/mod_deltochar.yo: new zap-to-char, uses deltochar()
	  function but doesn't delete last occurrence (replaces 8010).

	* Sven: 8019: Src/utils.c: buffer overflow quoting newlines.

	* Sven: 8015: Completion/Commands/_history_complete_word,
	  Src/Zle/zle_tricky.c:  bug without history_stop in
	  _history_complete_word; go backwards on line when scanning
	  history words.

	* pws: 8014: Src/math.c: arguments after the first in math
	  function skipped first character.

	* Sven: 8013: Completion/X/_x_keysym, Completion/X/_x_modifier,
	  Completion/X/_xmodmap: completion for keys and modifiers
	  in xmodmap.

	* Sven: 8012: Doc/Zsh/compsys.yo: document
	  incremental-complete-word configuration keys.

	* Sven: 8011: Src/Zle/comp.h, Src/Zle/complist.c,
	  Src/Zle/zle_tricky.c: better menu insertion with braces.

1999-09-22  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 8004: Src/Zle/complist.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/compctl.yo, Doc/Zsh/compwid.yo: crash in selecting;
	  documentation for 8001.

	* Sven: 8001: Src/Zle/comp.h, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c, Doc/Zsh/compctl.yo, Doc/Zsh/compsys.yo,
	  Doc/Zsh/compwid.yo, Completion/Core/_description: -1 and -2
	  flags to completion commands allow removal of consecutive and
	  non-consecutive duplicates.

	* pws: 7999, 8000: Doc/Makefile.in, Doc/Zsh/guide.yo,
	  Doc/Zsh/mod_mapfile.yo, Doc/Zsh/mod_mathfunc.yo,
	  Doc/Zsh/modules.yo, Doc/Zsh/mod_parameter.yo,
	  Src/Modules/mathfunc.c, Src/Modules/mathfunc.mdd, Src/math.c:
	  mathfunc module, contains 46 functions for use in math
	  evaluations; make function arguments behave like normal mathevals.

	* Sven: 7998: Src/Zle/comp.h, Src/Zle/complist.c,
	  Src/Zle/zle_tricky.c, Src/options.c, Src/zsh.h,
	  Doc/Zsh/options.yo: Display column sizes can be different
	  for different completion groups; LIST_PACKED and LIST_ROWS_FIRST
	  options change listing display behaviour; clean functions up.

	* pws: 7995: Completion/Builtin/_zmodload: when looking for module,
	  restrict to *.s[ol].

	* Tanaka Akira: 7989: Completion/Base/_combination,
	  Completion/Debian/_apt, Completion/Base/_regex_arguments,
	  Doc/Zsh/compsys.yo: document _combination and _regex_arguments,
	  clean up relevant completion functions.

1999-09-21  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7985: Src/Zle/zle_tricky.c: crash in old completion
	  with non-existent file.

	* pws: 7983: Src/hist.c: bug that hungetc() blindly went
	  ahead after keyboard interrupt fixed by testing for errflag
	  in hungetc().

	* pws: 7981, 7982: Src/math.c, Src/zsh.h: use dupstring()
	  instead of lvalue stack; better ternary expression parsing;
	  old `unbalanced stack' messages shouldn't show up so become
	  debugging messages; arithmetical errors in unevaluated
	  portions don't cause shell errors.

	* Sven: 7978: Src/exec.c, Src/init.c, Src/utils.c: grow and shrink
	  underscore parameters properly.

	* Sven: 7976, 7977: Src/builtin.c, Src/math.c, Src/mkbltnmlst.sh,
	  Src/mkmakemod.sh, Src/module.c, Src/zsh.h, Src/Modules/example.c,
	  Src/Modules/example.mdd, Doc/Zsh/arith.yo, Doc/Zsh/builtins.yo,
	  Etc/zsh-development-guide: system for loading math functions
	  for use in math evals.

	* Sven: 7974: Src/Zle/zle_tricky.c: remove duplicates.

	* Bart: 7968: Completion/User/_mailboxes: mutt fixes.

1999-09-20  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7963: Src/math.c, Src/subst.c: better error checking
	  for math evals; don't pass surrounding parentheses down for
	  $(( ... )).

	* Adam: 7961: Completion/User/_mailboxes: fun with variables and
	  elm.

	* Sven: 7960: Src/Zle/zle_tricky.c: too much deleted in path
	  completion.

	* Sven: 7959: Completion/Core/_path_files, Doc/Zsh/compsys.yo:
	  fixes from previous patches which missed 3.1.6-pws-5.

	* pws: 7957: Src/module.c: `zmodload -e modname' in statically
	  linked shell didn't work.

	* pws: Config/version.mk: version 3.1.6-pws-5

	* Sven: 7953: Completion/Commands/_expand_word,
	  Completion/Core/_expand, Doc/Zsh/compsys.yo: expand_completions
	  configuration key.

	* pws: 7952: Completion/X/_xutils: xrdb should complete file
	  arguments.

	* Sven: 7951: Src/subst.c, Doc/Zsh/expn.yo: parameter expansion flags
	  for quoting with single or double quotes.

	* Sven: 7950: Src/utils.c, Src/Zle/complist.c: more careful
	  with VARARR's.

	* Sven: 7949: Completion/X/_x_color,
	  Completion/X/_x_extension, Completion/X/_x_window,
	  Completion/X/_xutils: completion for standard X utilities.

	* pws: 7948: Src/glob.c, Src/pattern.c: indexes weren't
	  calculate properly in $mbegin, $mend, $MBEGIN, $MEND because
	  of Meta bytes.

	* Sven: 7947: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo:
	  compstate[insert] can be all to insert all matches.

	* Sven: 7945: Src/Zle/zle_tricky.c, Completion/Core/_multi_parts,
	  Completion/Core/_path_files: better path completion with braces

	* Sven: 7944: Src/Zle/zle_tricky.c, Completion/Core/_multi_parts,
	  Completion/Core/_path_files, Completion/Core/_sep_parts:
	  new heuristic for deciding whether to add strings under match
	  control or if they are too ambiguous to be useful.

	* Sven: 7943: Doc/Zsh/compsys.yo: docs for long args syntax
	  in _arguments.

	* Bart: zsh-users/2610: Completion/Builtins/_kill,
	  Completion/Builtins/_wait, Completion/User/_gdb: split words
	  for ps arguments (replaces 2609).

	* Bart: 7938: Completion/Base/_arg_compile, Completion/Base/_describe:
	  pre-compiler for _arguments and typo in describe.

	* Tanaka Akira: 7937: Completion/User/_cvs, Completion/User/_lynx,
	  Completion/User/_wget: it's good to have _values.

	* Bart: 7934: Completion/User/_telnet: improvement.

	* Bart: 7932: Completion/User/_mailboxes: more generic.

	* Bart: 7929: Src/hist.c, Src/Zle/zle_tricky.c: handle gaps
	  in history when scanning through it.

	* Bart: 7928: Doc/Zsh/builtins.yo: typo in float stuff.

	* Bart: 7925: Functions/Misc/run-help: various functions and
	  builtins in manual pages other than zshbuiltins.

	* Adam: 7923: Completion/Core/compinit: compconf quoting tweak.

1999-09-17  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7921: Src/glob.c: bad test in rarely used
	  (string/)# globbing construct.

	* Oliver: 7919: Completion/User/_man: try to find a manpath if
	  none (slightly adapted).

	* Sven: 7917: Src/loop.c: hunk missed from 7915.

	* pws: 7915: Doc/Zsh/arith.yo, Doc/Zsh/builtins.yo,
	  Src/Modules/parameter.c, Src/builtin.c, Src/cond.c, Src/exec.c,
	  Src/math.c, Src/mem.c, Src/params.c, Src/subst.c, Src/zsh.h,
	  configure.in:  Floating point support via typeset -F and
	  typeset -E for variables and in matheval().  mnumber struct
	  passes around float or integer.

	* Sven: 7903: Completion/Builtins/_cd: more careful with
	  things from cdablevars.

	* Sven: 7902, 7912: Completion/Base/_arguments,
	  Doc/Zsh/compsys.yo: autodescribe_options.

	* Sven: 7900: Completion/Commands/_history_complete_word,
	  Doc/Zsh/compsys.yo:  history_stop config opt stops history
	  cycling past end.

	* Sven: 7896: Src/Zle/zle_tricky.c: cursor positioning.

	* Tanaka Akira: 7892: Completion/User/_webbrowser: initial
	  implementation of completion for web browsers.

	* Adam: 7891: Completion/Core/compinit: error message in compdef.

	* Tanaka Akira: 7888: Completion/User/_wget: completion for wget.

	* Tanaka Akira; 7887: Completion/User/_telnet: try to get
	  valid telnet options.

	* Tanaka Akira: 7886: Completion/Base/_describe,
	  Completion/Debian/_apt, Completion/User/_cvs: -d option for
	  descriptions.

	* Adam: 7882: Doc/Zsh/expn.yo: parentheses.

1999-09-16  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Adam: 7871: Completion/User/_perl_basepods,
	  Completion/User/_perl_builtin_funcs,
	  Completion/User/_perl_modules, Completion/User/_perldoc:
	  perl completion.

	* Sven: 7864: Src/Zle/zle_tricky.c: crash when browsing
	  directory hierarchies with select and selecting an entry.

	* Sven: 7863: Doc/Zsh/mod_parameter.yo, Src/Modules/parameter.c,
	  Src/Modules/parameter.mdd: $dirstack and $modules special
	  parameters.

	* Sven: 7866: Doc/Zsh/compsys.yo, Completion/User/_mutt:
	  action necessary.

	* Sven: 7862: Completion/Base/_arguments, Completion/User/_gcc,
	  Doc/Zsh/compsys.yo, Src/Zle/zle_tricky.c: completion for gcc,
	  -M match spec for _arguments, remove duplicate matches.

	* Clint: 7860: Completion/User/_mailboxes, Completion/User/_mutt:
	  mutt support.

1999-09-15  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7855: Doc/Zsh/zftpsys.yo, Functions/Zftp/zfopen:
	  failed zfopen with arguments deletes the stored open parameters.

	* Oliver: 7852: Completion/Builtins/_compdef,
	  Completion/User/_man: new compdef support, _man works for whatis
	  and apropos.

	* Sven: 7850: Completion/Base/_arguments: minor cleanup.

	* Sven: 7844: Src/Zle/complist.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/compsys.yo, Etc/completion-style-guide,
	  Completion/Base/_arguments, Completion/Base/_describe,
	  Completion/Base/_subscript, Completion/Base/_tilde,
	  Completion/Base/_values, Completion/Builtins/_cd,
	  Completion/Builtins/_kill, Completion/Builtins/_wait,
	  Completion/Core/_approximate, Completion/Core/_expand,
	  Completion/User/_gdb: various matching display bugs
	  (with compadd -d) and enhancements to correction and
	  approximation keys.

	* Tanaka Akira: 7840: Completion/Base/_tilde,
	  Completion/Builtins/_cd: use compadd -d.

	* pws: 7836: Src/Modules/zftp.c: bug from 7767: zftp rmsession
	  incremented node pointer wrongly and assigned new session
	  wrongly.

	* pws: 7834: Src/pattern.c: bug from 7825, pure string path
	  segments wouldn't approximate.

1999-09-14  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7827: Src/Zle/comp.h, Src/Zle/compctl.c,
	  Src/Zle/complist.c, Src/Zle/zle_tricky.c, Doc/Zsh/compsys.yo,
	  Doc/Zsh/compwid.yo, Completion/Base/_arguments,
	  Completion/Base/_values, Completion/Core/_display,
	  Completion/User/_mount: compadd -d for list of elements
	  to display instead of matches, -l to show one per line,
	  plus changes in _display and uses thereof; typos in _mount.

	* pws: 7825, 7848: Doc/Zsh/expn.yo, Src/glob.c, Src/pattern.c,
	  Src/subst.c, Src/zsh.h: (#b) and (#m) globbing flags and
	  inverses; speed up compilation of pure string patterns.

	* Sven: 7823: Src/Zle/zle_tricky.c: improve joining of completion
	  strings with different match control behaviour.

	* Sven: 7824: Completion/Base/_arguments, Completion/Core/_message:
	  improve `no more arguments' message.

	* Sven: 7819: Completion/Base/_arguments, Doc/Zsh/compsys.yo:
	  use of $options for single character options.

	* Tanaka Akira: 7817: Completion/Debian/_apt,
	  Completion/User/_socket, Completion/User/_perl_builtin_funcs:
	  several improvements.

	* Tanaka Akira: 7815: Completion/User/_combination,
	  Completion/User/_ports, Completion/User/_socket,
	  Completion/User/_telnet: more sophisticated port/user
	  combinations via general combination mechanism.

	* Bart: 7813: Src/subst.c: correct incorrect application of
	  correction in 7697.

	* Tanaka Akira: 7740: Completion/User/_man: handle gzipped and
	  SGML manual pages.

1999-09-13  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: zsh-users/2598: Functions/Zle/incarg: zle function to
	  increment number under cursor.

	* pws: 7812: Completion/X/_xrdb: now exists.

	* Tanaka Akira: 7809: Completion/Debian/_apt, Completion/User/_patch:
	  new apt options and typo in _patch.

	* Sven: 7808: Completion/Base/_arguments: don't add long options
	  sometimes.

	* pws: Config/version.mk: 3.1.6-pws-4.

	* Tanaka Akira: 7806: Completion/Users/_pbm: missing backslash.
	
	* Sven: 7804: Completion/Base/_arguments: `no more arguments'
	  message.

	* Sven: 7801: Completion/Base/_arguments: listing problem with
	  arguments.

	* Sven: 7800: Completion/Core/_normal: terminate whence options to
	  avoid error message.

	* Sven: 7798: Doc/Zsh/compwid.yo, Src/Zle/comp.h,
	  Src/Zle/compctl.c, Src/Zle/zle_tricky.c,
	  Completion/Base/_brace_parameter, Completion/Base/_parameter,
	  Completion/Core/_parameters: compadd -e treats arguments as
	  parameters for AUTO_PARAM_SLASH and AUTO_PARAM_KEYS.

	* Sven: 7797: Doc/Zsh/compsys.yo,
	  Completion/Commands/_verbose_list, Completion/Core/_oldlist:
	  _verbose_list widget makes completion function lists
	  progressively more verbose.

	* Sven: 7796: _arguments uses describe_values config key; other
	  misc. fixes.

	* Sven: 7795: Completion/User/_mount: mounting excitement.

	* Sven: 7793: Completion/User/_ispell: ispell completions.

	* Sven: 7792: Completion/User/_bison, Completion/User/_flex:
	  not particularly hairy bison and flex completions.

	* Sven: 7791: Src/Zle/zle_tricky.c: completion code numbers.

	* Sven: 7790: Completion/User/_pbm, Completion/User/_ssh,
	  Completion/Linux/_rpm: miscellaneous tidying.

	* Sven: 7789: Completion/User/_tiff: completions for conversions
	  to/from tiff format.

	* Bart: 7784, 7787: Src/utils.c: memory use in bslashquote
	  (cf. 7713).

	* Tanaka Akira: 7779, 7781: Completion/User/_hosts,
	  Completion/User/_telnet, Completion/User/_socket: telnet and
	  socket completions with ports.

	* Bart and pws: 2592: Functions/Zle/history-search-end,
	  Functions/Zle/predict-on: new Zle functions for fancy history
	  searching.

	* Tanaka Akira: 7778: Completion/Base/_regex_arguments: implement
	  cache.

	* Tanaka Akira: 7777: Completion/Base/_regex_arguments,
	  Completion/Debian/_apt: more apt utilities handled, condensed to
	  single file; _apt-cache, _apt-get and _apt_arguments deleted.

1999-09-10  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7767: Completion/Builtins/_zftp, Doc/Zsh/mod_zftp.yo,
	Doc/Zsh/zftpsys.yo, Functions/Zftp/zfanon,
	Functions/Zftp/zfautocheck, Functions/Zftp/zfcd,
	Functions/Zftp/zfcd_match, Functions/Zftp/zfcget,
	Functions/Zftp/zfdir, Functions/Zftp/zffcache,
	Functions/Zftp/zfgcp, Functions/Zftp/zfget,
	Functions/Zftp/zfget_match, Functions/Zftp/zfgoto,
	Functions/Zftp/zfinit, Functions/Zftp/zfmark,
	Functions/Zftp/zfopen, Functions/Zftp/zfparams,
	Functions/Zftp/zfpcp, Functions/Zftp/zfrglob,
	Functions/Zftp/zfsession, Functions/Zftp/zfstat,
	Functions/Zftp/zftp_chpwd, Functions/Zftp/zftp_progress,
	Functions/Zftp/zftransfer, Functions/Zftp/zfuget,
	Functions/Zftp/zfuput, Src/Modules/zftp.c:
	new session management for zftp (session, rmsession); new
	functions zfsession, zftransfer, zffcache; various completion
	and argument-handling improvements.

	* pws: 7765: Src/builtin.c, Src/exec.c: getopts didn't reset
	  counter for index into option list properly; didn't set option
	  variable to "?" when printing its own error message.

	* Tanaka Akira: 7763: Completion/Base/_arguments: bad argument
	  indexing.

1999-09-09  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7750: Completion/Base/_arguments: fix option aliasing.

	* Tanaka Akira: 7748: Completion/User/_urls,
	  Completion/Core/_display: missing "$@" and X.

	* Sven: 7747: Doc/Zsh/compsys.yo, Completion/Base/_first,
	  Completion/Commands/_history_complete_word,
	  Completion/User/_cvs, Completion/User/_groups,
	  Etc/completion-style-guide: Mainly documentation changes: group
	  configuration keys into a single section.

	* Tanaka Akira: 7744: Completion/User/_patch: argument changes.
	
	* Sven: 7739: Completion/User/_rlogin: improvements.

	* pws: 7738: Completion/User/_man: didn't work with correction
	  and approximation.

	* Sven: 7737: Completion/User/_ssh, Completion/User/_users:
	  slogin, scp, and user@host; use array $users if defined.

	* Sven: 7736: Src/Zle/zle_tricky.c, Completion/Core/_display:

	* Sven: 7734: Src/Zle/complist.c, Src/Zle/zle_tricky.c:
	  displays of lists with disparate lengths and different groups of
	  matches with the same name.

	* Tanaka Akira: 7729, 7735: Completion/Debian/_apt-get,
	  Completion/Debian/_apt_arguments, Completion/Debian/_apt-cache:
	  apt-get and apt-cache completion improvments.

1999-09-08  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 7723: Completion/User/_cvs: typo.

	* Sven: 7722: Completion/User/_dvi, Completion/User/_rlogin,
	  Completion/User/_ssh, Completion/User/_yodl,
	  Completion/User/_yp: new _yodl and all-round improvements.

	* Tanaka Akira: 7720: Completion/Base/_regex_arguments,
	  Completion/Debian/_apt_arguments, _apt-get: regular expression
	  argument parsing, used for apt-get.

	* Sven: 7718, 7719: Completion/Base/_arguments,
	  Completion/Linux/_rpm, Doc/Zsh/compsys.yo: better handling for
	  combined single-letter options.

	* Sven: 7716: Completion/Core/_complete, Completion/Core/_normal,
	  Completion/Base/_precommand: modify 7693 so that _normal always
	  resets _compskip unless called from _complete (via -s option).

	* Sven: 7714: Src/Zle/zle_tricky.c: problem displaying multiople
	  completion messages.

	* Sven: 7713: Src/utils.c: buffer for backslash quoting was too
	  short.

	* Sven: 7712: Src/text.c: fix core dump in case.

	* Bart: 7707: Config/installfns.sh, Config/uninstallfns.sh:
	  insert $DESTDIR as internal prefix of $fndir.

	* Bart, Tanaka Akira: 7705, 7706, 7709: Completion/User/_cvs:
	  select cvs function by substitution.

	* Clint: 7704: Makefile.in, Completion/Makefile.in,
	  Doc/Makefile.in, Functions/Makefile.in: betting distclean for
	  Completion/Makefile, Functions/Makefile, Config/defs.mk.

	* Clint: 7703: Config/installfns.sh: $DESTDIR prefixes $fndir.

	* Bart: 7697: Src/subst.c: sroted -> sorted.

1999-09-07  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7693: Completion/Base/_precommand: unset _compskip for
	  redoing _normal after _precommand.

	* Sven: 7690: Completion/Base/_arguments, Completion/User/_gprof,
	  Completion/User/_gs, Completion/User/_gv,
	  Completion/User/_patch, Completion/User/_xargs,
	  Completion/X/_x_arguments, Completion/X/_xt_arguments,
	  Doc/Zsh/compsys.yo: more exclusion lists and states, different
	  return value for using states.

	* Sven: 7687: Completion/Base/_arguments, Completion/User/_yp,
	  Doc/Zsh/compsys.yo: _arguments allows case where an option turns
	  off normal argument handling, new _yp function, space in action
	  means no action.

	* Sven: zsh-users/2576, zsh-users/2578: fix typeset -Z and typeset
	  -R.
	
	* Tanaka Akira: 7675: Completion/User/_hosts: remove nslookup,
	  since that uses _nslookup.

	* Adam: 7674: Doc/Zsh/compsys.yo, Etc/completion-style-guide:
	  typos.

	* Adam: 7671: Completion/Linux/_rpm: tyeset -> typeset,
	  build_b completes *.spec.

	* Tanaka Akira: 7670, 7686: Completion/User/_cvs, INSTALL,
	  configure.in: _cvs back in one function, remove Completion/Cvs.

	* John Williams: 7669: Src/builtin.c: __CYGWIN should be __CYGWIN__

1999-09-06  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7662: Etc/completion-style-guide: subcommands and using
	  funcall to test state functions.

	* pws: 7660: Src/Modules/cap.c: changes as per 7591; initialize
	  variables to silence compiler.

	* Sven: 7656: Doc/Zsh/compsys.yo: display fixes.

	* Sven: 7655: Src/Zle/zle_tricky.c: bug completing on continuation
	  line.

	* Sven: 7654: Src/Zle/zle_thingy.c: error calling zle -R outside
	  widget.

	* pws: Config/version.mk: 3.1.6-pws-3

	* Sven: 7652: Doc/Zsh/compsys.yo, Completion/Base/_values,
	  Completion/User/_hosts, Completion/User/_nslookup,
	  Functions/Misc/nslookup: complete assignment-like arguments,
	  nslookup wrapper with completion.
	
	* pws: 7651: Doc/Zsh/options.yo: document HIST_FIND_NO_DUPS.

	* Sven: 7650: Doc/Zsh/compsys.yo, Completion/Base/_arguments,
	  Completion/Core/_display, Completion/Core/compinit,
	  Completion/Linux/_rpm, Completion/User/_urls,
	  Completion/X/_x_color, Etc/completion-style-guide:
	  urls_dir -> urls_path, colors_path allow paths for URLs and X
	  colours; funcall; _arguments changes: options assoc, states
	  available using '->name', option descriptions for mutually
	  incompatible options, descriptions of individual options,
	  option_prefix allows ~command; _display for compadd -y;
	  new _rpm; style guide additions.

	* pws: 7649: Src/pattern.c: bug with excluding multiple
	  directories with ~ in 7611, 7626.

	* Adam Spiers: 7647: Completion/User/_perl_basepods,
	  Completion/User/_perl_builtin_funcs,
	  Completion/User/_perl_modules, Completion/User/_perldoc:
	  completion for perldoc.

	* Tanaka Akira: 7641, 7646: Completion/Debian/_apt-get,
	  Completion/Debian/_deb_packages: handle different apt-get
	  keywords.

1999-09-03  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7639: Doc/Zsh/expn.yo, Src/glob.c: remember that
	  (foo/)# is a special case for file globbing; fix bug that
	  that pattern generated a null string.

	* pws: 7637: Doc/Zsh/expn.yo: clarify some glob descriptions
	  including change that / inside parentheses is error (rather than
	  just screwing up pattern) for file globbing.

	* Bart: zsh-users/2567: Doc/Zsh/options.yo: new improved
	  GLOB_COMPLETE description.

	* pws: 7636: Doc/Zsh/builtins.yo, Doc/Zsh/params.yo,
	  Src/builtin.c, Src/zsh.h, Src/Modules/mapfile.c,
	  Src/Modules/parameter.c: typeset -h allows locals to hide
	  specials; turned on automatically for specials in mapfile and
	  parameter modules.

	* Sven: 7635: Completion/User/_urls: change configuration key to
	  urls_dir.

	* Tanaka Akira: 7634: Completion/Debian/_apt-get,
	  Completion/Debian/_deb_packages: completion for apt-get.

	* Tanaka Akira: 7633: Completion/User/_lynx,
	  Completion/User/_urls: completion for lynx and general URL
	  completion.	

1999-09-02  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7632: Doc/Zsh/zftpsys.yo, Functions/Zftp/zfautocheck,
	  Functions/Zftp/zfinit, Functions/Zftp/zfrglob,
	  Functions/Zftp/zftp_progress: bar-style progress meter, zfconfig
	  associative array for configuration.

	* Sven: 7631: Completion/User/_pbm: comment about overriding
	  definitions.

	* Sven: 7630: Src/zle_tricky.c: when using a matcher spec
	  generating matches with missing characters, position on last set
	  of missing characters instead of first.

	* Sven: 7628: Src/params.c, Src/Modules/parameter.c,
	  Completion/Core/_parameters, Completion/Core/_path_files:
	  parameters gives `undefined' message; _parameters doesn't
	  load undefined parameters; do partial path expansion after
	  parameters.

	* pws: 7627: Src/params.c: don't autoload parameter just to
	  unset it (replaces 7616).

	* Sven: 7625: Completion/Base/_arguments: expansion fix.

	* Tanaka Akira: 7623: Completion/X/_xv: complete .jpg and .png
	  files.

	* Bart: 7618: Config/installfns.sh, Config/uninstallfns.sh:
	  space required in $sdir substitution.

	* Bart: 7617: Src/signals.c: set err to -1.

1999-09-01  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7613: Completion/User/_gv: typos

	* pws: 7611, 7626: Src/pattern.c, Src/parse.c, Doc/Zsh/expn.yo:
	  strip parentheses from case label with open and close
	  parentheses; use unions for pattern alignment, optimize lowest
	  level character reading routine, optimize ...*string pattern,
	  optimize search for characters terminating processing, document
	  some more existing pattern features.
	
	* Sven: 7607: Completion/Base/_arguments: behaviour after a
	  non-option when using `*::'.

	* Sven: 7605: Src/exec.c, Src/jobs.c: use killpg instead of
	  altering process group when leader exits, fix fg test to use
	  killpg.

	* Sven: 7598: Src/Zle/zle_tricky.c: REC_EXACT behaviour.

	* Sven: 7596, 7601: Completion/Base/_arguments: interaction of option
	  arguments with default.

	* pws: 7591: Src/utils.c: cap_free should take caps (not pointer
	  to it) as arg.

	* Bart: 7584: Src/jobs.c, Src/signals.c, Src/system.h: handle
	  broken ESRCH by redefining ESRCH to EINVAL.

	* Tanaka Akira: 7580: Completion/Cvs/_cvs,
	  Completion/Cvs/_cvs_diff, Completion/Cvs/_cvs?history_x:
	  arguments for options; cvs diff description.

	* Sven: 7574, 7577, 7597: Src/subst.c, Doc/Zsh/expn.yo: modify
	  7539 so that the % flag just does % expansion, while %% does
	  full prompt expansion.
	
	* Sven: 7573: Src/signals.c, Src/exec.c, Src/utils.c: fix return
	  value of killjb(); pipelines which lose their leader get a new
	  one.

1999-08-31  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Will Day: 7362: Src/Makefile.in, Src/hist.c, Src/jobs.c,
	  Src/signals.c, Src/system.h, acconfig.h: support for BeOS: test
	  more capabilities.  This was present in 6-pws-1, but without
	  a Changelog entry.

	* Sven: -7540: withdrawn, use ${${${(M)name#pattern}:+then}:-else}.
	
	* Tanaka Akira: 7436: Src/exec.c: exec last command in sequence
	  properly; don't increment SHLVL when exec'ing.

	* Sven: 7564: Completion/X/_xterm, Completion/Pbmplus/_pgmtoppm,
	  Completion/Pbmplus/_pnmalias, Completion/Pbmplus/_pnmmargin,
	  Completion/Pbmplus/_ppmchange, Completion/Pbmplus/_ppmmake,
	  Completion/Pbmplus/_ppmtoacad, Completion/User/_gs,
	  Completion/X/_xdvi, Completion/X/_xfig, Completion/X/_xsetroot,
	  Completion/X/_xt_arguments, Completion/X/_xterm,
	  Completion/X/_xv: change some names.
	
	* Bart: 7562: corresponding fix for Config/uninstallfns.sh

	* Tanaka Akira: 7561: Config/installfns.sh: administrative files
	  from Functions and Completion were installed by mistake.

	* Bart: 7414: Doc/ztexi.yo: @'@' breaks texinfo; use '@:'.

	* Bart: 7557: Src/Makefile.in: typo adding $(DESTDIR) patch by
	  hand.  (Also from Ollivier Robert, 7558, and Oliver Kiddle).

1999-08-30  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: Config/version.mk: 3.1.6-pws-2 made available.
	
	* Tanaka Akira: 7551: Doc/Zsh/expn.yo: mismatched parenthesis.

	* Sven: 7549: Src/hist.c: shell wouldn't exit if writing history
	  file failed.

	* Sven: 7548: Completion/User/_xargs: new.

	* Sven: 7541: Completion/Base/_arguments: fix.

	* Sven: 7540: Src/subst.c, Doc/Zsh/expn.yo: ${name^pat^then^else}
	  tests string and substitutes appropriately.

	* Sven: 7539: Src/subst.c, Doc/Zsh/expn.yo: % parameter flag does
	  prompt escapes.

	* Sven: 7538: Completion/Base/_arguments: completion of trailing
	  non-option arguments.

	* Sven: 7535: Src/glob.c: don't restore badcshglob.

	* Sven: 7533: Completion/Rpm/*, Completion/Base/_arguments,
	  Completion/User/_a2ps, Completion/User/_configure,
	  Completion/User/_dvi, Completion/User/_gdb, Completion/User/_gs,
	  Completion/User/_gs_name, Completion/User/_patch,
	  Completion/User/_pspdf, Completion/User/_tar,
	  Completion/User/_use_lo, Completion/User/_xfig,
	  Completion/User/_xsetroot, Completion/User/_xterm,
	  Completion/X/_gv, Completion/X/_xdvi,
	  Completion/X/_xt_arguments, Completion/X/_xv,
	  Doc/Zsh/compsys.yo: argument handling; new rpm functions.

	* Sven: 7532: Src/Zle/zle_tricky.c: completion bug.

	* Bart, Sven: 7529, 7530: process groups not continued properly.

	* Bart: 7527: KSH_ARRAYS messed up assignment to a
	  hash, plus 7521 typo.

	* Bart: 7521: Src/init.c: replace 7472 and 7490 with thing that
	  tests if hashed command is really there.

	* Sven: 7517: Completion/Base/_arguments,
	  Completion/Pbmplus/_pbmtext, Completion/Pbmplus/_pbmtopk,
	  Completion/Pbmplus/_pktopbm, Completion/Pbmplus/_pnmcomp,
	  Completion/Pbmplus/_pnmtoddif, Completion/Pbmplus/_psidtopgm,
	  Completion/Pbmplus/_pstopnm, Completion/User/_gdb,
	  Completion/User/_gprof, Completion/User/_x_options,
	  Completion/User/_xfig, Completion/User/_xsetroot,
	  Completion/X/_x_borderwidth, Completion/X/_x_geometry,
	  Completion/X/_x_locale, Completion/X/_x_name,
	  Completion/X/_x_resource, Completion/X/_x_selection_timeout,
	  Completion/X/_x_title, Completion/X/_xv: use _arguments more.

	* Tanaka Akira: 7516: Completion/Base/_arguments,
	  Completion/Cvs/_cvs, Completion/Cvs/_cvs_command: fixes.

	* Sven: 7515: Doc/Zsh/compsys.yo, Completion/Base/_arguments,
	  Completion/Pbmplus/_pnmtotiff, Completion/Pbmplus/_ppmtomitsu,
	  Completion/User/_find: _arguments allows descriptions in list of
	  possibilities.

	* Sven: 7514: Src/glob.c, Doc/Zsh/expn.yo: use REPLY to set
	  filename.

	* Bart: 7510: Src/init.c: zsh -ce interprets e as option, not
	  command.

	* Sven: 7512: Completion/Base/_arguments: complete function.

	* Sven: 7500: Completion/Base/_arguments,
	  Completion/Cvs/_cvs_command, Completion/User/_find:
	  word-splitting in _arguments.

	* Tanaka Akira: 7495: Completion/Cvs/_cvs*: new cvs functions.

	* Sven: 7496: Src/glob.c, Src/zsh.h, Doc/Zsh/expn.yo: glob
	  qualifier e:string: with $_ set to filename.

	* Sven: 7492: Completion/Base/_arguments, Completion/User/_find,
	  Completion/X/_x_font: speed up _arguments.

	* Sven: 7490: Src/exec.c: change 7472 not to try test on hashed
	  command.

	* Sven: zsh-users/2511: Src/Zle/zle_tricky.c: bad (old) completion
	  after `$(<'.

	* Sven: 7482: Src/exec.c, Src/glob.c, Src/zsh.h, Doc/Zsh/expn.yo:
	  F:func: glob qualifier calls func to determine whether to
	  include file.

	* Sven: 7480: Src/Zle/zle_tricky.c, Completion/Core/_multi_parts,
	  Completion/User/_xterm, Completion/X/_x_font,
	  Completion/X/_xt_arguments: matching bug.

	* Sven: 7478: Doc/Zsh/compsys.yo, Completion/Base/_arguments,
	  Completion/Builtins/_vars_eq: handling of :: in _arguments.

	* Tanaka Akira: 7477: Completion/User/_xterm,
	  Completion/X/_x_borderwidth, Completion/X/_x_font,
	  Completion/X/_x_geometry, Completion/X/_x_locale,
	  Completion/X/_x_name, Completion/X/_x_resource,
	  Completion/X/_x_selection_timeout, Completion/X/_x_title,
	  Completion/X/_xt_arguments, Completion/X/_xt_session_id:
	  use standard XToolkit arguments.

	* Sven: 7472: Src/exec.c: crash in isreallycom().

	* Sven: 7469: Completion/Base/_arguments,
	  Completion/Base/_command_names, Completion/Builtins/_zftp,
	  Completion/Core/_complete, Completion/Core/_main_complete,
	  Completion/Core/_normal, Completion/User/_x_display,
	  Completion/User/_x_options, Completion/User/_xterm: fix
	  word-splitting for _arguments.

	* Sven: zsh-users/2505: parameter with non-empty prefix.

	* Tanaka Akira: 7468: Completion/User/_xterm: xterm argument
	  completion.

	* Sven: zsh-users/2502: completing '=$' erased word.

	* Sven: 7467: Doc/Zsh/compsys.yo, Completion/Base/_arguments,
	  Completion/Base/_long_options: allow an _arguments option to
	  swallow everything to end of line.

	* Sven: 7465: Src/params.c: reverse indexing of associative
	  arrays.

	* Sven: 7463: Src/Zle/compctl.c, Doc/Zsh/compsys.yo,
	  Completion/Base/_arguments, Completion/Base/_brace_parameter,
	  Completion/Base/_condition, Completion/Base/_long_options,
	  Completion/Base/_math, Completion/Base/_parameter,
	  Completion/Base/_tilde, Completion/Base/_vars,
	  Completion/Builtins/_vars_eq, Completion/Builtins/_zftp,
	  Completion/Commands/_correct_filename,
	  Completion/Commands/_correct_word,
	  Completion/Commands/_expand_word,
	  Completion/Commands/_history_complete_word,
	  Completion/Commands/_most_recent_file,
	  Completion/Commands/_read_comp, Completion/Core/_parameters,
	  Completion/Core/compinit, Completion/User/_chown,
	  Completion/User/_dir_list, Completion/User/_exec_funcs,
	  Completion/User/_find, Completion/User/_gprof,
	  Completion/User/_rlogin, Completion/User/_su,
	  Completion/User/_tar, Completion/User/_users,
	  Util/completion-style-guide: miscellaneous completion fixes.

	* Tanaka Akira: 7460. 7461: Completion/Base/_arguments,
	  Completion/User/_patch: _arguments -s handling with --.

	* Clint Adams: 7459: Config/funcinst.mk, Config/installfns.sh,
	  Doc/Makefile.in, Src/Makefile.in, Src/Makemod.in.in: can set
	  DESTDIR to specify install prefix.

	* Tanaka Akira: 7458: Completion/Base/_arguments,
	  Completion/Base/_long_options, Completion/User/_patch:
	  _patch function and required fixes.

	* Sven: 7457: Doc/Zsh/compsys.yo, Completion/Base/_arguments:
	  handle short options.

	* Sven: 7455: Src/Zle/complist.c: handle lengths of capabilities.

	* Sven: 7454: Doc/Zsh/compsys.yo, Completion/Base/_arguments,
	  Completion/Core/_message: option prefix configuration.

	* Sven: 7429: _pbm: more stuff

	* Tanaka Akira: 7451: Completion/Core/_message,
	  Completion/Pbmplus/_pbmtoepsi, Completion/Pbmplus/_pktopbm,
	  Completion/Pbmplus/_yuvtoppm, Doc/Zsh/compsys.yo: some small
	  mistakes.

	* Sven: 7441: Src/Zle/zle_tricky.c: matching control bug.

	* Sven: 7450: Completion/Base/_arguments,
	  Completion/Base/_long_options, Completion/Base/_subscript,
	  Completion/Builtins/_zmodload, Completion/User/_colors,
	  Completion/User/_cvs, Completion/User/_gdb: explanations and
	  arguments.

	* Tanaka Akira: 7431: Completion/User/_colors: null glob.

	* Tanaka Akira: 7432: Completion/User/_cvs: update.

	* Sven: 7449: Src/module.c, Src/params.c: better errors for failed
	  autoloading; 

	* Sven: 7448: too many files under Completion to list, including
	  new Pbmplus directory: revised pbm completion; pattern completion
	  only if no specific completion; descriptions for completions;
	  better handling for command line arguments.

	* Tanaka Akira: 7417: Completion/User/_pdf, Completion/User/_ps,
	  Completion/User/_pspdf: more programs that take ps or pdf files.

	* Sven: 7430: matching control bug: Src/Zle/zle_tricky.c,
	  Completion/User/_colors, Completion/User/_cursors,
	  Completion/User/_x_options, Completion/User/_xsetroot:
	  bug in matching control.

	* Tanaka Akira: 7428: Completion/User/_pbm,
	  Completion/User/_colors: fix some problems.

	* Sven: 7420: Src/Zle/zle_tricky.c, Doc/Zsh/compsys.yo,
	  Completion/Base/_first, Completion/Builtins/_zftp,
	  Completion/Core/_complete, Completion/Core/_main_complete,
	  Completion/Core/_normal, Completion/User/_colors,
	  Completion/User/_pbm, Completion/User/_x_options: _compskip
	  extended to allow choice of what to skip.

	* Sven: 7418: Completion/User/_pbm: new

	* Sven: 7446: print -P %s didn't work.

	* Bart: 7410: parameter flags doc for M.

	* Sven: 7404: Src/glob.c: repeatedly matching empty string
	  (somehow).

1999-08-06  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: Config/version.mk: 3.1.6-pws-1 made available.

	* Sven: 7386: Src/subst.c: Order of q and Q parameter flags matters.

1999-08-05  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7380: Src/hist.c, Src/subst.c, Doc/Zsh/expn.yo: flag X for
	  reporting errors de-quoting.

	* Sven: 7374: Src/subst.c, Doc/Zsh/expn.yo: modifier to remove one
	  level of quotation, corresponding flags.

	* Sven: 7373: Src/Zle/comp.h, Src/Zle/zle_tricky.c,
	  Completion/Base/_brace_parameter:  support nested parameter
	  expansion type of deal.
	
1999-08-04  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7355: Src/Zle/compctl.c, Src/Zle/zle_tricky.c: make
	  compadd quoting consistent with compgen.	

1999-08-02  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7349: Src/loop.c, Src/signals.c:  restore errflags in
	  select after a zleread; fix problem restoring function-style trap
	  after a function set it to something else.

	* Sven: 7348: Completion/Core/_path_files, Doc/Zsh/compsys.yo:
	  remove path_keepdir configuration key but don't do keepdir
	  trick unless _files had no type arguments.

	* Sven: 7345, 7346, 7347: Src/Zle/zle_tricky.c: match control
	  problems.

	* Sven: 7344, 7353: Src/cond.c, Src/Modules/example.c,
	  Src/Zle/compctl.c, Util/zsh-development-guide:  conditions can
	  get the tokenized string; better quoting behaviour in
	  IPREFIX/ISUFFIX.

	* Sven: 7343: Src/Zle/zle_tricky.c: quote path prefix and suffix
	  earlier.

	* pws: 7342: Doc/Makfile.in: use makeinfo ... || exit 0 to
	  ignore result of makeinfo.

	* Irving Wolfe: 7336: utils.c: same fcntl() change.

	* Geoff: 7335: init.c: third argument for fcntl().

1999-08-01  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: Config/version.mk: zsh 3.1.6 released.

1999-07-30  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws, Bart: 7321, 7325: Src/hist.c: NO_BANG_HIST wasn't working
	  at all, but be careful not to disable too much when it's
	  in effect.

	* Tanaka Akira: 7318: Completion/User/_cvs: more improvements

1999-07-29  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7316: Doc/Zsh/compsys.yo: mention that compctl -M control
	  is available and fix some typos.

	* pws: unposted: Doc/Zsh/metafaq.yo: sites in Italy and Poland
	  (the one in Italy is not `official', but is actively mirroring
	  ftp.zsh.org anyway).

	* Felix Rosencrantz: 7311: Src/Zle/zle_tricky.c: matching control
	  left dangling pointers.

	* Tanaka Akira: 7312: Completion/User/_cvs: don't quote ignore
	  patterns.

1999-07-28  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7308, 7309: Src/Zle/zle_tricky.c: glob patterns were
	  limited to PATH_MAX and length wasn't tested.

	* Tanaka Akira: 7307: Completion/User/_cvs: remove parentheses,
	  complete argument options.

	* pws: 7305: Doc/Zsh/zftpsys.yo, Functions/Zftp/zfanon,
	  Functions/Zftp/zfget, Functions/Zftp/zfopen,
	  Functions/Zftp/zftp_chpwd: use URL-style paths in opening;
	  zfget -c sends output to stdout; don't delete current directory
	  information if we haven't really changed directory.

	* Bart: 7301: Completion/User/_cvs: restored .file completion

1999-07-27  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7300: Completion/Core/compdump: wasn't ignoring . in fpath,
	  although compinit was.

	* pws: 7299: configure.in: don't use gcc -pedantic any more, since
	  there are too many messages about `long long' and variable-sized
	  arrays not being available in ISO C.

	* pws: 7298: Src/Zle/zle_tricky.c: missing dupstring() in
	  comp_match.

	* pws: 7297: Completion/Core/_path_files, Doc/Zsh/compsys.yo:
	  path_keepdir config key required for 7141 to come into effect
	  due to significant side effects.

	* Tanaka Akira: 7290, 7292: Completion/User/_cvs: condensed
	  version of all _cvs completion stuff; completes files if not
	  under CVS control; use compgen -p to work around problem with
	  quoted characters.

	* Andrej: 7827: Etc/Machines: Siemens info
	  
	* Bart: 7285, applied by hand: Completion/User/_cvs: parameter
	  fixes, commit bug.

	* Tanaka Akira: 7284: Completion/Core/compdump: careful when
	  two shells start at once.

	* Tanaka Akira: 7282: Completion/User/_cvs,
	  Completion/User/_cvsaddp, Completion/User/_cvsentries_modified,
	  Completion/User/_cvsprefix, Completion/User/_cvsremovep,
	  Completion/User/_cvstargets, Completion/User/_cvstargets_modified:
	  handle modified files using stat module.

1999-07-26  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 7278: Completion/Base/_complete_opts:
	  less verbosity

1999-07-25  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 7276, 7277, 7279: Completion/User/{_cvs, _cvsaddp,
	  _cvsentries, _cvsprefix, _cvsremovep, _cvsrepositories,
	  _cvsrevisions, _cvstargets, _cvstest}, Misc/compctl-examples:
	  more modular cvs new completion support including CVS/Entries;
	  bug fix for old CVS completion.

	* Bart: 7275: Doc/intro.ms: now works with groff.

	* Bart: 7274: Src/Zle/zle_tricky.c: don't go beyond end of line

	* pws: from Bart: Etc/CONTRIBUTORS, Etc/NEWS:  updates for 3.0.6

1999-07-24  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: version 3.1.6-test-3

	* pws: lastest FAQ.yo, FAQ

1999-07-23  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7264: Completion/Commands/_correct_filename,
	  Completion/Commands/_correct_word,
	  Completion/Commands/_expand_word,
	  Completion/Commands/_history_complete_word,
	  Completion/Commands/_most_recent_file,
	  Completion/Commands/_read_comp, Completion/Core/compinit,
	  Doc/Zsh/compsys.yo: compdef -k takes -n option not to override
	  existing keybinding; used in completion command widgets to
	  keep user bindings during compinit.

	* Sven: 7260: Completion/Core/_main_complete: commented-out
	  option saving bit can uses parameter module

	* Sven: 7259, 7261: Src/subst.c, Src/Modules/parameter.c,
	  Doc/Zsh/expn.yo, Completion/Core/_normal,
	  Completion/Core/_parameters: parameter module provides
	  local information; used in _parameters; _normal uses
	  $commands when available.

	* pws: 7257: Completion/Core/_parameters: simplify.

	* Tanaka Akira: 7256: Completion/User/_bzip2,
	  Completion/User/_bunzip2: new.

	* Tanaka Akira: 7255: Completion/User/_make: complete after =.

	* Oliver: 7254: Completion/Builtins/_aliases: do unalias.

1999-07-22  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7253: Doc/Zsh/arith.yo, Doc/Zsh/builtins.yo,
	  Doc/Zsh/compctl.yo, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	  Doc/Zsh/cond.yo, Doc/Zsh/expn.yo, Doc/Zsh/files.yo,
	  Doc/Zsh/func.yo, Doc/Zsh/grammar.yo, Doc/Zsh/invoke.yo,
	  Doc/Zsh/jobs.yo, Doc/Zsh/mod_stat.yo, Doc/Zsh/mod_zle.yo,
	  Doc/Zsh/options.yo, Doc/Zsh/params.yo, Doc/Zsh/redirect.yo,
	  Doc/Zsh/zle.yo, Doc/ztexi.yo, Util/zsh-development-guide:
	  General documentation fixes and enhancements.

	* Sven: 7251: Src/Zle/zle_tricky.c: completion words wrapper
	  tweak thing.

1999-07-21  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Bart: 7246: Completion/Builtin/_functions: complete for
	  _functions.

	* Tanaka Akira, Sven: 7243, 7250: Completion/Base/_complete_opts,
	  Completion/User_cvs: enhancements for cvs completion.

	* Sven: 7241: Completion/Base/_first: typos

	* pws: 7231: README, Etc/CONTRIBUTORS: notes for latest release
	  including possible incompatibilities.

	* Bart: 7230: Src/exec.c: cancd2 didn't free string properly
	  (or at all, in fact).

	* Tanaka Akira, Bart: 7228: Completion/User/_cvs,
	  Completion/User/_complete_opts:  completion for cvs.
	
1999-07-20  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7226: INSTALL: mention that dependent libraries of zle
	  can't be used if zle is dynamically loaded on systems without
	  working RTLD_GLOBAL.

	* pws: 7223: Doc/Makefile.in, Doc/Zsh/compsys.yo,
	  Doc/Zsh/compwid.yo, Doc/Zsh/mod_complist.yo,
	  Doc/Zsh/mod_zftp.yo, Doc/Zsh/mod_zle.yo, Doc/Zsh/zftpsys.yo:
	  dependences for texinfo manual; extra index entries.

	* Sven: 7220: Src/Zle/complist.c: `*=' works and the last
	  column is set.

	* Sven: 7219: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo:
	  compstate[force_list] now works as documented.

	* Sven: 2456: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo: 
	  clear explanation string; document compstate[insert]=''
	  is same as unsetting.

	* pws: 7218: Doc/Makefile.in, Doc/zman.yo: delete all manual
	  page lines beginning .'; work around yodl .SH ""NAME problem.

	* Sven: 7217: Src/exec.c: duplicate function name for scriptname.

	* Sven: 7216: Src/Zle/zle_tricky.c: insertion with old and
	  new completion.

	* Tanaka Akira: 7213: Doc/Makefile.in: postprocess manual pages
	  to remove yodl cruft.

	* Ollivier: 7209, 7210: configure.in, Etc/MACHINES: Elf and a.out
	  dynamic loading on FreeBSD (MACHINES entry adapted).

1999-07-19  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 7205: Src/Modules/mapfile.c: MS_SYNC was not
          defined on SunOS 4.

	* pws: 7202: Src/Modules/clone.c: add an extra zero argument
	  to ioctl() to make three.

	* pws: from Ollivier Robert: Etc/MACHINES: FreeBSD 4.0 builds OK.

	* pws: 7196: Src/Zle/zle_tricky.c: try to handle multiple supplied
	  (-P) prefixes better.

	* pws: 2446: Completion/User/_rlogin: handle user@host better.

	* pws: version 3.1.6-test-2

	* pws: 7192: Src/glob.c: bug with null in pattern if at end of
	  test string (matched as if a real character).

1999-07-18  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7185: Src/glob.c: don't use strcoll() for character
	  ranges [...] because it can have side effects.

	* pws: 7184: Src/lex.c: histactive didn't get get zeroed before
	  non-interactive history use, hence interactive lines with
	  remhist() were junked more than once.

	* Wayne: 7181: Doc/Zsh/options.y, Doc/Zsh/params.yo: history docs.

	* Wayne: 7180: Src/Zle/complist.c, Src/utils.c: warnings.

1999-07-16  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7172: Doc/Zsh/options.yo, Src/builtin.c, Src/exec.c,
	  Src/options.c, Src/utils.c, Src/zsh.h: minor bugs with
	  7164 fixed; CHASE_DOTS resolves ..'s to physical path;
	  CHASE_LINKS doesn't do logical path rationalization;
	  xsymlink() and xsymlinks() simplified and option-dependence
	  removed.

	* Sven: 7171: Src/builtin.c: alternate form of Digital/gcc
	  bug workaround.

1999-07-15  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7164: Src/builtin.c, Src/exec.c: AUTOCD now allows
	  paths with symlinks (as real cd always did); simplify code
	  for testing for existing directory on foo/.. before removing
	  foo/..; as a side effect, relative cd's from directory which
	  has been deleted don't work.

	* Sven: 7161: Src/Zle/comp.h, Src/Zle/complist.c,
	  Src/Zle/zle_tricky.c, Completion/Base/_brace_parameter:
	  be more careful with quote-prefix/suffix and path-prefix/suffix
	  especially with accept-and-menu-complete.

	* pws: 7155: Functions/Zftp/zfgoto, Functions/Zftp/zfinit:
	  zfgoto can cd without needing to re-login; zfinit uses
	  zmodload -e to check for zftp.

	* Sven: 7154: Src/Zle/complist.c, Src/Zle/zle_refresh.c,
	  Src/Zle/zle_tricky.c, Doc/Zsh/mod_complist.yo: don't
	  list too many times on ambiguous completion; don't do
	  menu-selection if no alwayslastprompt behaviour.

1999-07-14  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7148: INSTALL: User subdirectory

	* Thomas Khler: 7146: Completion/User/_make: didn't work.

	* pws: 7145: Completion/User/_sh: use compset -q for completing
	  after -c option	  

	* Sven: 7143: Src/Zle/complist.c, Src/Zle/zle_tricky.c:
	  listing got confused with only hidden matches.

	* Sven: 7141: Completion/Core/_path_files: if there are
	  no completions in a valid directory when we have a path ending
	  in /, use the directory as a completion, to avoid
	  correction/approximation of the existing directory.

	* pws: 7139: Src/builtin.c: not particularly pleasant fix
	  to problem that `cd nonexistent/..' silently did nothing, while
	  making `cd ..' work even if current directory has gone.

	* Sven: 7138: Completion/User/_hosts, Completion/User/_x_options:
	  _hosts passes arguments as options to compadd.

	* Oliver: 7136: Completion/User/_rlogin,
	  Completion/User/_x_options: use _hosts.

	* Sven: 7135: Src/Zle/zle_tricky.c, Completion/Core/_path_files:
	  change quoting of files again.

	* Sven: 7133: Doc/Zsh/expn.yo, Doc/Zsh/mod_complist.yo:
	  ZLS_COLOURS not required for complist to work.

	* pws: 7127: configure.in: help now shows --disable-dynamic
	  and --disable-lfs.

	* Sven: 7126: Src/Zle/comp.h, Src/Zle/comp1.c, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo,
	  Functions/Zle/incremental-complete-word:  compstate key
	  normal_nmatches; more i-c-w prompt escapes

	* Sven: 7123: Src/Zle/zle_tricky.c: clear list on expansion
	  failure.

1999-07-13  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7119: Src/Zle/zle_tricky.c: status from expansion
	  functions.

	* Sven: 7116: Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo: minor
	  changes.

	* pws: 7114: Src/parse.c, Src/utils.c: line numbers again:
	  flushing line in a script made lineno appear one too large;
	  introduce zwarn() function.

	* Sven/pws: 7112: Src/Zle/zle_params.c, Doc/Zsh/zle.yo: change
	  array keys to scalar KEYS, works more like read -k;
	  documentation.

	* Sven: 7110: Src/Modules/zftp.c, Doc/Zsh/compsys.yo,
	  Etc/MACHINES: signed char warnings in zftp; document
	  _long_options options; Digital UNIX problem.

	* Sven: 2432: Src/builtin.c: workaround Digital UNIX 4.0 +
	  gcc 2.8.1 bug.
	
	* Sven: zsh-users/2430: Etc/NEWS: mention chmod-like mode glob
	  qualifier.

	* Sven: 7108: Misc/job-control-tests: more tests

	* Bart: 7107: configure.in: too many x's in lfs handling.

	* Sven: 7106: Functions/Zle/incremental-complete-word: prompting
	  changes.

	* pws: unposted: update .distfiles and .cvsignore:  _sh, _su
	  zshcompsys.yo, zshcompwid.yo, zshzftp.yo, zshcompsys.1,
	  zshcompwid.1, zshzftp.1 were missing from the distribution.

	* Sven: 7105: Src/Zle/Zle_tricky.c: restore the command line
	  in more places.

1999-07-12  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 7103: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo: update
	  CURRENT with compset -q; modify test for quoted delimiters.

	* pws: version 3.1.6-test-1

	* Sven: 7099: Completion/Core/_main_complete, Doc/Zsh/compsys.yo:
	  config key last_prompt means don't turn off alwayslastprompt on
	  prefix.

	* Sven: 7097: Completion/Core/_oldlist: keeps old command line.

1999-07-09  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7091: configure.in, INSTALL: change defaults for
	  dynamic and large file support to be enabled.

	* Sven: 7083: Src/Zle/compctl.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/compwid.yo: compset -q unconditionally splits
	  the current word.

	* Sven: 7082: Completion/Base/_parameter: use _parameters

	* pws: 7076: Completion/Base/_command_names,
	  Completion/Base/_first, Completion/User/_su: %resume should be
	  in _command_names; _su should check $SHELL.

	* pws: 7075, 7080, 7092: Completion/Core/compinit,
	  Config/funcinst.mk, Config/installfns.sh,
	  Config/uninstallfns.sh, INSTALL: Yet another attempt to install
	  shell functions in a sensible way; compinit adds to the end of
	  $fpath; fixed typo that it didn't check existing fpath properly.

	* Oliver: 7067: Completion/Base/_first, Completion/User/_su,
	  Completion/User/_sh: check for %resume on command line;
	  new completions for _su and _sh.

	* pws: 7066: configure.in: function install makefile in
	  source, not build, hierarchy.

	* Sven: 7062: Src/Zle/complist.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/compsys.yo, Doc/Zsh/mod_complist.yo: undo works
	  inside menu-selection for items completed by
	  accept-and-infer-next-history; display is more reliable.

	* Sven: 7058: Src/Zle/zle_params.c: turn off menu completion
	  if the command line gets altered by a zle function.

1999-07-08  Peter Stephenson  <pws@ibmth.df.unipi.it>
	  
	* pws: 7049: Src/builtin.c: eval didn't save/restore lexical
	  state.
	
	* pws: 7046: Src/loop.c: xtrace for case and for statements.
	
	* Sven: 7043: Completion/Core/_oldlist:  Extra sophistication
	  when using _oldlist with a particular completer.
	
	* pws: 7042: Etc/BUGS, Etc/CONTRIBUTORS, Etc/NEWS,
	  Doc/Zsh/builtins.yo, Doc/Zsh/expn.yo, Doc/Zsh/mod_complist.yo,
	  Doc/Zsh/params.yo:  Changes to admin files for 3.1.6; some minor
	  documentation changes.
	
	* Sven: 7039: Completion/Commands/_read_comp: trapping SIGINT
	  no longer necessary after 7038.
	
	* pws: 7038: Src/Zle/zle_main.c: restore breaks whenever errflag
	  is restored as SIGINT handler sets both.
	  
	* Sven: 7036: Src/Zle/complist.c: make sure old list is thrown
	  away when doing accept-and-infer-next-history in menu-completion.
	
	* Sven: 7028: Src/Zle/zle_tricky.c,
	  Functions/Zle/incremental-complete-word: problems when BUFFER
	  changes, %u in i-c-w prompt, config key for showing list.

	* Sven: 7026: Completion/Core/_main_complete,
	  Completion/Core/_match, Completion/Core/_oldlist,
	  Completion/Core/compinit: More information stored in assoc array
	  _lastcomp about the previous completion.

	* Sven: 7025: Src/Zle/complist.c: remove list when accepting
	  and retrying completion when unambiguous.

1999-07-07  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 7021: Src/utils.c: error message in findsep() was
	  erroneous.

	* pws: 7020: Src/params.c: error message for whole assoc array
	  assignment.

	* Oliver: 7005: Src/builtin.c, Doc/Zsh/builtins.yo: alias
	  takes +g and + flags.

	* Sven: 7004: Src/Zle/zle_refresh.c: reset showinglist on
	  clearlist.

	* pws: 7002: Completion/Commands/_read_comp: does completion
	  lists; handle errors better.

	* pws: 7001: Src/hist.c: line numbers were wrong in some error
	  messages (e.g. conditions) when reading from a string
	  (e.g. autoloaded functions).

	* pws: 6998: Src/Zle/zle_bindings.c: restore history-search
	  bindings \M-n, \M-p.

	* Sven: 6996: Src/Zle/complist.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/mod_complist.yo: accept-and-infer-next-history
	  in menu-select accepts a match, then restarts menu selection.

	* Sven: 6995, 7000: Src/math.c, Src/utils.c, Doc/Zsh/arith.yo:
	  allow bindkey strings in after #\ in math mode.  Also
	  incremental-complete-word and insert-files, added by hand
	  to directory Functions/Zle, with appropriate changes to
	  configure.in and INSTALL.

	* Sven: 6992: Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Doc/Zsh/mod_zle.yo:
	  zle -R can take list arguments; zle -cR clears the list;
	  zle -U puts keys in the unget queue.

	* Geoff: 6991: configure.in: NetBSD can use both ELF and a.out.

1999-07-06  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Andrej: 6990: Completion/Builtins/_cd,
	  Completion/Core/_path_files: some local variable fixes.

	* pws: 6987: Src/builtin.c: `typeset +f' and `functions +'
	  should just print the function name.

	* pws: 6986: Doc/Zsh/builtins.yo, Doc/Zsh/params.yo,
	  Src/builtin.c, Src/params.c, Src/zsh.h: special parameters
	  can become local, remaining special; be more careful that
	  only the most global parameter can appear in the environment.

	* pws: 6984: Doc/Zsh/compsys.yo: typo in 6973 docs

1999-07-05  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6982: Src/exec.c: variable assignment with redirection is
	  interpreted as variable assignment with redirection, not
	  nullcmd.

	* pws: 6981: Completion/Commands/_read_comp: -n should be -z.

	* Sven: 6979: Completion/Core/_path_files: compconfig[path_expand]
	  fix.

	* Sven: 6977: Completion/Core/_match: cosmetic `if' change.

	* Sven: 6975: Src/Zle/zle_tricky.c: fix quoting of tildes at
	  the start of file names.

	* Sven: 6974: Src/exec.c: mark superjob as locked as soon
	  as started.

	* pws: 6973: Completion/Commands/_read_comp, Doc/Zsh/compsys.yo:
	  _read_comp allows function arguments and ^U but won't add
	  non-printables; document Completion/Commands widgets.

	* Sven: 6971: Src/exec.c, Src/jobs.c: backgrounding jobs forked
	  from current shell works again; job table not filled up by
	  current shell subjobs; current/previous job not lost.

1999-07-04  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6970: Completion/Base/_default, Completion/Builtins/_cd,
	  Completion/Commands/_read_comp: handle magicequalsubst and
	  cdablevars optios; _read_comp can read and execute a completion
	  function (_*) or compgen argument (-*) on the fly.

	* pws: 6969: Doc/Zsh/builtins.yo, Src/builtin.c: print -b
	  uses full bindkey string possibilities.

	* Tanaka Akira: 6968: Completion/Core/compinit: compinit -D
	  didn't actually work.

	* pws: 6967: Completion/Core/_path_files: final return status
	  inverted.

	* pws: 6966: Completion/Makefile.in, Functions/Makefile.in,
	  Config/funcinst.mk, configure.in, INSTALL:  prevent overwriting
	  of changed shell functions on installation; move function
	  installation code to funcinst.mk; clear up INSTALL a bit.

1999-07-03  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6962: Doc/Zsh/prompt.yo, Src/prompt.c:  %/ and %~ take
	  numbers for trailing path segments like %c and %C, %N can too;
	  function promptpath() to implement this.

	* pws: 6957: 3.1.5-pws-25 made available
	
	* pws: 6955, 6956: Completion/Core/compinit,
	  Completion/Core/compinstall, Doc/Zsh/compsys.yo: better handling
	  of subdirectory structure for completion functions; -d is default
	  for compinit, -D turns it off; documentation updated for installed
	  files; bugfix for compinstall re-using compconf arguments.

1999-07-02  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 6953: Completion/Builtins/_cd: use pushd code for cd

	* Sven: 6945: Completion/Core/_expand: error expanding :]

	* Sven: 6941: Src/exec.c, Src/jobs.c: neater fix for time builtin.

	* Oliver: 6939: Completion/User/_hosts,
	  Completion/Base/_subscript, Misc/compctl-examples: better way of
	  using /etc/hosts; complete POSIX character classes.
	
	* Sven: 6937: Doc/Zsh/mod_complist.yo, Src/Zle/complist.c: use
	  send-break to exit menu selection and return to normal menu
	  completion.

1999-07-01  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 6936: Src/jobs.c: time builtin was broken.

	* Sven: 6933: Src/exec.c, Src/jobs.c, Src/Signals.c:  More job
	  control fixes:  running external command after loop in function;
	  function on left hand side of pipeline with loop on right.

1999-06-29  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 6908, 6926: Src/exec.c, Src/jobs.c, Src/zsh.h: more job
	  control fixes:  functions with programs that send strange
	  signals to parents should work.

	* Sven: 6904: Src/Makefile.in: bugs with cleaning up modules
	  in Src.

	* Sven: 6903: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo:
	  compstate[insert] can have a space at the end to force inserting
	  a space after completion.

	* Sven: 6902: Src/Zle/complist.c, Doc/Zsh/mod_complist.yo:
	  menu-select will use %S/%s if ZLS_COLO[U]RS is not defined.

	* Sven: 6901: Src/exec.c, Src/init.c, Src/jobs.c:  back off
	  some (but not all) recent job handling patches to avoid more
	  serious problems with recalcitrant programs.

1999-06-28  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6899: Doc/Zsh/params.yo, Doc/Zsh/prompt.yo, Src/init.c:
	  default PS4 is now "+%N:%i> ", except in [k]sh emulation.

	* Andrej: 6893: aczsh.m4: use existing environment value when
	  testing for large file support.

	* pws: 6890: Doc/Zsh/params.yo, Doc/Zsh/prompt.yo, Src/prompt.c:
	  %N and %i prompt escapes provide script or function name and
	  line number.

	* Sven: 6887: Src/exec.c, Src/jobs.c: another loop killing problem.

	* Geoff: 6884: Src/Zle/zle_refresh.c: bug when redisplaying line
	  one shorter than terminal width

1999-06-27  Peter Stephenson  <pws@ibmth.df.unipi.it>

        * pws: 6881: Doc/Zsh/mod_zle.yo: explain keymap linking

	* pws: 6879: Src/exec.c: update command hash pointer if builtin
	  is autoloaded after a prefork().

	* Bart: 6873: Src/Zle/zle_tricky.c: magic-space doesn't feep
	  quite so much.

	* Geoff: 6871: Src/Zle/complist.c: optimi[sz]ations for outputing
	  coloured/colorized output.

	* pws: 6866: Src/exec.c, Src/init.c: signed/unsigned character
	  problems; one was causing SunOS 4.1.3_U1 with gcc 2.7.0 to hang.

1999-06-26  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* 3.1.5-pws-24 made available

1999-06-25  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6857: Completion/Core/compinit,
	  Completion/Core/compinstall, Doc/Zsh/compsys.yo: compinit and
	  compinstall are now functions which unfunction and autoload
	  themselves.  _compdir is used by compinstall to record where
	  it found the completion directories.  compinit is now otherwise
	  stuck with fpath.

	* pws: 6851, 6853: typeset -g doesn't locallize parameters; bug
	  that unset parameters were recreated global instead of at
	  some higher local level; handle PM_AUTOLOAD consistent with other
	  flags.

	* Sven: 6850: Src/init.c: always generate a new pgrp for the
	  shell, since the parent (e.g. xterm) may not have done that
	  and zsh now runs programs in its own pgrp.

	* Sven: 6848: Src/exec.c: don't suspend if the shell is the
	  only thing to suspend (or something like that).

	* Sven: 6841: Src/loop.c: %_ in else branches for PS4

1999-06-24  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6834: Src/glob.c, Src/hashtable.c: dyncat() changed always
	  to use heap memory (as it erroneously claimed); hashtable element
	  tablename (used for debugging) freed.

	* Bart: 6830: Src/params.c: don't create the hashtable for an
	  assoc array on assignment unless there is something to put in it.

	* Sven: 6825: Src/Zle_tricky.c: make sure path prefix and suffix
	  are quoted in filename completion; recalculate length of match
	  string.

	* Sven: 6824: Src/exec.c, Src/signals.c: functions got deleted
	  from the process table too early for job control.

	* pws: 6823: Src/exec.c, Src/utils.c:  names and line numbers
	  of functions printed for errors during execution.

	* Sven: 6822: Src/Zle/complist.c, Src/Zle/zle_tricky.c: assorted
	  completion fixes: crash with old completion; too many spaces
	  with menu inserting; too many beeps with LISTBEEP.

	* Sven: 6819: Src/exec.c, Src/jobs.c, Src/signals.c:  Run
	  jobs inside shell constructs in the same process group as the
	  shell itself.

	* Sven: 6817: Src/Zle/comp.h, Src/Zle/complist.c,
	  Src/Zle/zle_tricky.c: Change ZLS_SELECT to SELECTMIN;
	  don't automatically switch on select widget until there are
	  $SELECTMIN choices.

1999-06-23  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6816: Doc/Zsh/params.yo, Src/utils.c:  ZBEEP parameter
	  gives string to output instead of beeping.

	* Sven: 6815: Src/Zle/complist.c: switch off menu-select for
	  hidden matches.

	* pws: 6814: Doc/Zsh/mod_zle.yo, Doc/Zsh/options.yo,
	  Doc/Zsh/zle.yo, Src/Zle/deltochar.c, Src/Zle/iwidgets.list,
	  Src/Zle/zle_hist.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_move.c, Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Src/Zle/zle_vi.c, Src/Zle/zle_word.c:
	  Zle determines whether to feep by the return status (except
	  for some inner code loops); completion widgets return 1 if
	  something failed in the hierarchy outside the widget function;
	  the -n and -N options work properly.

	* pws: 6812: Src/subst.c: ${(AA)foo=}, or anything that gives
	  a null string after the =, creates an empty assoc array.

	* pws: 6806: Completion/Core/compdump, Completion/Core/compinit,
	  Completion/Core/compinstall, Doc/Zsh/compsys.yo: compdump is now
	  a function which unfunctions itself; default dumpfile location
	  is now ${ZDOTDIR:-$HOME}/.zcompdump

	* Sven: 6807: Src/Zle/complist.c: accept-and-menu-complete
	  advances the menu-select selection too.

	* Sven: 6802: Src/Zle/complist.c: change some default colours

	* pws: 6801: Doc/Zsh/builtins.yo, Src/builtin.c: Make emulate -L
	  turn on LOCAL_TRAPS, too.

	* Sven: 6796: Src/Zle/zle_main.c, Src/Zle/zle_thingy.c,
	  Doc/Zsh/mod_zle.yo, Completion/Core/compinit: zle -la lists
	  all widgets, just the name; zle -la <NAME> tests if <NAME> is
	  defined.

	* Sven: 6793: Src/Zle/complist.c, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_main.c, Doc/Zsh/mod_complist.yo: Local keymaps can be
	  defined, currently only used with menu-select.

1999-06-22  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 6786: Src/Zle/zle_tricky.c, Doc/Zsh/compctl.yo: only use
	  a range when you are after the first pattern in it.

	* Sven: 6780: Src/Zle/complist.c: wasn't showinglist when it
	  thought it was.

	* Sven: 6778: don't delete function from job tables
	  
	 * pws: 6776: Doc/Makefile.in, Doc/Zsh/compsys.yo,
	  Doc/Zsh/mod_complist.yo:  Tweakchen for menu-select patch;
	  also (unposted) changed name collist to complist wherever it
	  occurs.

	* Sven: 6774, 6775: Src/Zle/collist.c, Src/Zle/comp.h,
	  Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_tricky.c,
	  Doc/Zsh/compsys.yo, Doc/Zsh/mod_collist.yo,
	  Doc/Zsh/mod_compctl.yo, Doc/Zsh/mod_deltochar.yo,
	  Doc/Zsh/modules.yo, Completion/Core/_path_files:  Improvements
	  for menu-select widget; ZLS_SELECT turns menu-completion
	  into menu-selection; key bindings more natural; highlighting
	  more useful

	* Oliver: 6772: Src/Zle/zle_tricky.c: use the whole
	  command text for job completion.

1999-06-21  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Sven: 6760: Src/Zle/zle_tricky.c: menucompletion displaying new
	  list of matches sometimes got confused.

	* Sven: 6755: Src/jobs.c: status of restarted job including
	  current shell processes was wrong.

	* Sven: 6753: Src/Zle/collist.c, Src/xmods.conf: 
	  load collist

	* Sven: 6747: Src/Zle/collist.c, Src/Zle/zle_main.c,
	  Src/Zle/zle_tricky.c: menu-select allows you to move
	  cursor to select completions; uses ma list colouring
	  capability.

	* Sven: 6742: Src/Zle/collist.c, Src/Zle/collist.mdd,
	  Src/Zle/zle_main.c, Src/Zle/zle_tricky.c, Src/module.c,
	  Src/zsh.h, Doc/Zsh/mod_collist.yo, Doc/Zsh/mod_compctly.yo,
	  Doc/Zsh/mod_deltochar.yo, Doc/Zsh/modules.yo,
	  Util/zsh-development-guide:  collist module: colour completion
	  lists by setting ZLS_COLOURS (or even ZLS_COLORS) variables.

	* pws: 6737: Doc/Zsh/builtins.yo, Doc/Zsh/zle.yo: simplifications
	  suggested by Bart.

	* Bart: 6732: Doc/Zsh/compsys.yo: restore missing bits of Sven's
	  patches (not the zle_tricky.c hunk).

	* Bart: 6731: Doc/Zsh/compctl.yo: spelling correction

1999-06-20  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* zsh-3.1.5-pws-23 made available
	
	* Sven/pws: 6616, 6609, 6726 (merged): `zle [ -N ] [ -n num ]
	  widget args'; internal widgets handle arguments and return
	  values; search commands use arguments; read -[kq] can use
	  zle's key mechanism; zle -R [msg] redisplays line editor;
	  digit-argument feeps if the keypress wasn't a digit;
	  universal-argument handles argument as numeric.

	* pws: 6725: Src/signals.c: more local traps:  now don't add trap
	  to list to restore when outside a function, but do if the function
	  simply unsets a trap which was set outside.

1999-06-18  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6718: Completion/Core/compinit, Completion/Core/compdump,
	  Doc/Zsh/compsys.yo: rebind existing completion widgets for new
	  completion instead of defining new ones.

	* pws: 6717: Doc/Zsh/options.yo, Src/exec.c, Src/options.c,
	  Src/signals.c, Src/zsh.h: Option LOCAL_TRAPS saves and restores
	  traps on exit from functions; set for ksh emulation.

	* Tanaka Akira: 6716: Completion/User/_chown: some systems use `:'
	  as separator in chown.

	* Oliver/Sven: 6709, 6710: Completion files Base/_subscript,
	  User/_chown, User/_groups, User/_x_options: _subscript shows
	  listing for ordinary arrays; new chown and chgrp completions;
	  example _x_options can complete displays.

	* Sven: 6707: Src/exec.c: Shell structures not at the end
	  of a pipeline are suspendable.  This is the only way
	  of stopping a command in such a structure where the command
	  handles interruptions in such a way that zsh doesn't see them.

1999-06-17  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6705: Doc/Zsh/builtins.yo, Src/builtin.c, Src/exec.c,
	  Src/init.c, Src/input.c, Src/parse.c: some more LINENO
	  subtleties: embedded function definitions have correct line
	  number; all lines, not just ones with new PS1, are counted
	  interactively; traps with trap builtin use line no. of
	  surrounding environment.

	* Sven: 6693: Src/Modules/parameter.c, Src/builtin.c, Src/exec.c,
	  Src/input.c, Src/zsh.h: update LINENO properly when parsing a
	  string.

	* Sven: 6692: Src/Zle/comp.h, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo,
	  Completion/Builtins/_kill, Completion/Builtins/_wait,
	  Completion/User/_gdb: allow the -y option to compadd for
	  specifying an array to use when listing.

	* Sven: 6689: Src/Zle/zle_tricky.c, Completion/Base/_subscript:
	  test for closing bracket in get_comp_string().

	* Oliver: 6688: Zsh/compsys.yo, Zsh/func.yo, Zsh/mod_zle.yo,
	  Zsh/params.yo, Zsh/zftpsys.yo: spelling changes.

	* Wayne: 6682: Src/hist.c: Uniquified history commands are limited
	  to size $SAVEHIST, so that the last  $((HISTSIZE-SAVEHIST))
	  commands are always available even with HIST_EXPIRE_DUPS_FIRST.

	* Sven: 6686: Completion/Core/_match, Completion/Core/_path_files,
	  Doc/Zsh/compsys.yo: New configuration keys path_cursor,
	  match_insert.

	* Sven: 6685: Src/Zle/compctl.c, Src/Zle/zle_params.c,
	  Doc/Zsh/zle.yo, Completion/Base/_first,
	  Completion/Commands/_correct_filename,
	  Completion/Commands/_most_recent_file,
	  Completion/Core/_approximate, Completion/Core/_expand,
	  Completion/Core/_list: NUMERIC is unset if no prefix was given;
	  it may be unset explicitly, and if set again will be restored in
	  the expected way.

	* Wayne: 6683: Src/exec.c: ambiguous brace

	* Wayne: 6681: Src/builtin.c: start-of-loop check for history -r
	  was wrong.

1999-06-16  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6679: Src/Zle/zle_thingy.c, Doc/Zsh/compwid.yo:  always
	  use .complete-word etc. as widget type in zle -C.

	* pws: 6677: Doc/Zsh/guide.yo: avoid TeX overfull hbox problem.

	* Andrej: 6674: Doc/zsh.yo, Doc/ztexi.yo: change order of initial
	formatting instructions to make interaction with system
	configuration files better.

	* pws: 6660: Doc/Zsh/compctl.yo: pointer to new completion system
	  at top of compctl documentation.

	* pws: 6659: Src/Zle/zle_tricky.c: a couple of NULL's should be 0's

	* pws: 6658: Doc/Zsh/options.yo, Src/init.c:  options strings at
	  shell startup can end with whitespace (for #!), but anything
	  after the whitespace causes an error.

	* Sven: 6657: Completion files Base/_subscript,
	  Builtins/_autoload, Builtins/_bindkey, Builtins/_echotc,
	  Builtins/_kill, Builtins/_limits, Builtins/_wait,
	  Builtins/_zmodload, User/_dd, User/_find, User/_gdb, User/_make,
	  User/_mh, User/_rlogin, User/_x_options: New gdb completion;
	  improved make completion; use compadd in preference to compgen
	  -[sk]; configuration keys ps_args, ps_listsargs.

	* Sven: 6654: Src/Zle/zle_tricky.c: empty display list after -y.

	* Bart: 6652: Src/exec.c: trailing spaces confused #! emulation.

	* Sven: 6649: Src/Zle/zle_tricky.c: behaviour of compctl -l.

	* Bart: 6646: Src/lex.c: extra braces to enhance beauty of code
	  which appeared in 3.0.5.

1999-06-15  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Tanaka Akira: 6642: Completion/Base/_tilde: complete directory
	  stack elements after ~+ or ~-.

	* Tanaka Akira: 6641: Src/subst.c: treat ~-0 like ~0

	* pws: 6639: configure.in: don't try type of $enable_val if empty
	  (needed when off_t/ino_t are 64-bit without explicit enabling).

	* zsh-3.1.5-pws-22 made available

	* Oliver: 6636: Completion/Builtins/_limits: wasn't working

	* Bart: 6617 + minor changes: Src/utils.c: Be more careful keeping
	  $COLUMNS and $LINES correct, particularly if exported.

	* Sven: zsh-users/2388: Src/jobs.c:  while loops etc. in shells
	  running without MONITOR were hard to kill.

	* Bart: 6628: Src/params.c: setting slices of unset array
	  caused a crash.

1999-06-14  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6626: Src/mem.c: in zsh's malloc, try to make sure when
	  sbrk'ing that it's sufficiently well aligned.

	* Oliver: 6624: Completion/Builtins/_kill,
	  Completion/Builtins/_wait: more widely functioning process
	  handling

	* pws: 6623: Completion/Makefile.in, Config/defs.mk.in,
	  Functions/Makefile.in, INSTALL, Src/init.c, Src/zsh.mdd,
	  configure.in: --enable-function-subdirs allows installation
	  into subdirectories of the function directory and sets the
	  initial $fpath appropriately.

	* Oliver: 6620: Completion/Builtins/_jobs: handle disown, too.

	* pws: 6618: Doc/Zsh/func.yo, Doc/Zsh/grammar.yo, Src/lex.c:
	  with SH_GLOB set, function definition parentheses after the
	  first word on the line allow spaces inside.

	* Sven: 6614: Src/Zle/zle_tricky.c, Completion/Brace/_brace_parameter:
	  completion after quotes in parameters

	* pws: 6610: Src/glob.c: globbing flags shouldn't be active
	  without extendedglob.

	* Bart: 6608: Doc/Zsh files compctl.yo, compsys.yo, compwid.yo,
	  expn.yo, files.yo, mod_mapfile.yo, mod_zftp.yo, params.yo,
	  zftpsys.yo, zle.yo: spelling corrections

1999-06-12  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6601: Src/Makefile.in: don't remake Makemod just
	  to clean up files

	* pws: 6600: Doc/Zsh/arith.yo, Doc/Zsh/compctl.yo,
	  Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo,
	  Doc/Zsh/guide.yo, Doc/Zsh/jobs.yo, Doc/Zsh/metafaq.yo,
	  Doc/Zsh/mod_compctl.yo, Doc/Zsh/mod_zftp.yo, Doc/Zsh/params.yo,
	  Doc/Zsh/redirect.yo, Doc/Zsh/zftpsys.yo, Doc/Zsh/zle.yo,
	  Doc/zman.yo, Doc/ztexi.yo, Util/zsh-development-guide:
	  Formatting of unfilled text now handled by three distinct
	  macros example(), indent(), nofill(); compctl description node
	  is now called `Programmable Completion Using compctl' to
	  distinguish it from widget completion; don't put chapters on
	  separate pages because many are too short.

	* Wayne: 6599: Src/Zle/zle_tricky.c: unitialised variable warnings
	  from gcc

1999-06-11  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6598: Doc/Zsh/zftpsys.yo, Functions/Zftp/zfinit,
	  Functions/Zftp/zfgoto, Functions/Zftp/zfmark,
	  Functions/Zftp/zftp_chpwd, Completion/Builtins/_zftp:
	  add zfmark and zfgoto implementing bookmarks (including use
	  ncftp bookmarks) for zftp function suite; autoload functions
	  from zfinit; patcomps -> _patcomps.

	* pws: 6596: Doc/Zsh/arith.yo: update on size of integers and
	  increase in clarity of presentation

	* Sven: 6589: Completion/Core/_path_files: use :h and :t instead
	  of pattern matching

	* Sven: 6587, 6588: Src/Zle/zle_misc.c, Doc/Zsh/options.yo: < and
	  > shouldn't remove a suffix, but | does

	* Sven: 6586: Src/exec.c, Src/lex.c, Src/loop.c: don't modify
	  struct cmd to insert cmd args and flags, always pass those
	  separately

1999-06-10  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Andrej: 6581: Doc/Makefile: dependencies for manuals

	* Sven: 6579: Src/exec.c: old hack of storing shell function
	  args in struct cmd doesn't work any more

	* Sven: 6577: Src/exec.c, Src/text.c, Src/utils.c: expunge
	  simplifyright(), which appears no longer to have an effect
	
	* pws: 6575: Doc/Zsh/mod_mapfile.yo: avoid mapping long files

	* pws: 6571: Src/Builtins/rlimits.c: use appropriate printf()
	  routine in printulimit() instead of just casting to long

	* pws: 6570: configure.in, INSTALL: some systems have
	  sizeof(off_t) or sizeof(ino_t) == 8 and sizeof(long) == 4 even
	  without explicit enabling, so check and if so use the
	  --enable-lfs code.

	* pws/Sven: 6567, 6568: Completion/Base/_vars: complete assoc
	  array keys

	* pws: 6566: Src/params.c: junk testhash assoc array

	* pws: 6563: sporadic: minor changes affecting casts, sizes
	  of integers, unused variables; add index for subscripts in
	  manual

	* Bart: email: Src/zsh.h: alternative definition for zulong

	* Bart: 6558: Src/builtins.c: printing functions with the
	  UNALIASED flag

	* Sven: 6557: Doc/zsh/compsys.yo: a few typos

1999-06-09  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Andrej: 6556: aczsh.m4: don't disable setting variables
	  for --enable-lfs just because some other variables were set

	* Sven: 6554: Src/Zle/zle_tricky.c: display bugs with compadd -X:
	  newline missing and display unnecessarily altered

	* pws: 6552: configure.in, aczsh.m4, acconfig.h, Src/zsh.h:
	  define separate unsigned 64-bit integer; try __int64_t and
	  __uint64_t.

	* Sven: 6548: Src/Zle/zle_tricky.c: fix `compctl -l'

	* Andrej: 6544: configure displays info on function installation

	* Sven: 6542: Src/builtin.c, Src/exec.c, Src/hist.c, Src/init.c,
	  Src/lex.c: when not using interactive history, don't allocate
	  history at all

	* Andrej: 6541: configure.in: add missing `test'

	* Sven: 6535: Completion/core/_normal: an eval was unnecessary

	* Bart: 6534: Completion/Core/compdump, Completion/Core/compinit,
	  Doc/Zsh/builtins.yo, Src/builtin.c, Src/exec.c, Src/zsh.h:
	  autoload -U defines functions which don't use expand aliases
	  during loading; used in new completion code to protect
	  functions.

	* Sven: 6527: Src/builtin.c, Src/cond.c, Src/exec.c, Src/glob.c,
	  Src/hashtable.c, Src/init.c, Src/jobs.c, Src/lex.c,
	  Src/linklist.c, Src/loop.c, Src/math.c, Src/mem.c, Src/params.c,
	  Src/parse.c, Src/signals.c, Src/text.c, Src/utils.c, Src/zsh.h:
	  various sets of patches:
	  - make zhalloc() use a pointer to the first free heap
	  - make zsh-mem allocators keep some memory back when freeing
	  - reduce the amount of allocation work done in the exec.c
	    execution hierarchy
	  - don't duplicate execution trees any more than necessary, e.g.
	    execute functions from stored tree
	
	* pws: Etc/MACHINES: Danek Duvall reports --enable-dynamic OK
	  on Solaris 2.7, despite previous reports; Sven says on Digital
	  UNIX 4.0, you need special DLLD and LDFLAGS.

1999-06-08  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: 6525: Src/lex.c (gettokstr): allow parentheses after
	  first character in command word

	* Tanaka Akira: 6522: configure.in: help string for --enable-fndir
	  had wrong default directory

	* pws: 6520: configure.in: --enable-fndir might be yes,
	  so turn it into ${datadir}/zsh/functions

	* 3.1.5-pws-21 made available

	* Sven: 6515: Src/Zle/zle_tricky.c: fix memory problems with 6492

	* Wayne: 6510: Completion/Core/compinit: another nounset problem

1999-06-07  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* pws: configure.in, Config/defs.mk.in, Functions/Makefile.in,
	  Completion/Makefile.in, rearrangement of Functions
	  subdirectories:  --enable-fndir allows function installation,
	  defaults to ${datadir}/zsh/functions; is compiled into $fpath;
	  FUNCTIONS_INSTALL can specify functions to install e.g.
	  'Core/* Base/* Builtins/* Zftp/*'.

	* pws: 6509: Src/Zle/zle_tricky.c: comp_setunset -> comp_setunsetptr

	* pws: 6506: Completion/Core/compinit, Doc/Zsh/compsys.yo: if
	  completion dumpfile is not writeable, use
	  ${ZDOTDIR:-$HOME}/.zcompdump

	* Sven: 6502: Doc/Zsh/options.yo: document 6496

	* Sven: 6496: Src/Zle/zle_misc.c (makesuffix): more characters
	  that can't be part of a filename

	* Sven: 6493: Completion/Core/_approximate,
	  Completion/Core/_expand: %e wasn't being replaced properly in
	  correction prompts

	* Sven: 6492: Src/Zle/comp.h, Src/Zle/comp1.c, Src/Zle/compctl.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_tricky.c, Doc/Zsh/compctl.yo,
	  Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	  Completion/Base/_brace_parameter:  Completion inside quotes
	  now acts as if the file name is the entire quoted string;
	  `compctl -h' takes a command line from inside a quoted string;
	  the compctl tests q[s], q[d], q[b] are true if we are in single,
	  double, back quotes; compset -q tests quotes and splits the word,
	  affecting $PREFIX, $SUFFIX and setting $IQPREFIX, $IQSUFFIX for
	  the bits which will now be ignored.

	* pws: 6490: Completion/Core/compinit: nounset workaround

	* Bart: 6485: Src/loop.c: only show one screenful at a time
	  in select, as LINES doc implies it should do

	* Sven: 6484: Src/Zle/zle_main.c, Src/Zle/zle_tricky.c: close
	  fd 0 during zle widgets and completion and redup back afterwards
	  (removed unnecessary zclose()'s)
	
	* Wayne: 6481: Doc/Zsh/builtins.yo, Doc/Zsh/options.yo,
	  Src/hist.c:  improved new history documentation and comments

	* Wayne: 6480: Src/hist.c: Ignore some lines in remhist() to
	  workaround crashes attempting to add already removed lines

	* Tanaka Akira: 6478: Completion/User/_make: complete files
	  as fallback (but use _files instead of compgen -f)

1999-06-06  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Naoki Wakamatsu <naoki-w@ht-net21.ne.jp>: 6477: configure.in:
	  undefine etcdir, not zshenv

1999-06-05  Peter Stephenson  <pws@ibmth.df.unipi.it>

	* Merge ChangeLog entry from patchlist.txt in 3.1.5-pws-20
	  These are briefer than normal ChangeLog entries, but upgrading
	  all of them is too much work.

	* pws: 6473: Src/Modules/mapfile.c: munmap() after writing file

	* Bart: 6472: doc for 6458

	* pws: 6470: options.yo doc for globalrcs

	* Sven: 6468: -first- context example; allow $compcontext for
	  direct context in _complete; other stuff

	* pws: 6464: fix problem with 6433; disallow nested parameter
	  substitution without braces

	* Sven: 6458: allow seconds in globbing qualifier time comparisons

	* Zefram: off-list: metafaq updates

	* pws: 6437: rearrange quotes in expn.yo, zftpsys.yo, minor
	  corrections

	* pws: 6433: allow quotes around names of parameters in braces

	* pws: 6431: su saga again: new documentation

	* Bart: 4127: su saga: 6299 and 6313 backed off; this alters
	  ZSH_NAME using zgetenv("SHELL").  It can be turned into an
	  --enable if anyone complains.

	* Wayne: 6430: history tweaks: more careful ignoring history with
	  foreign lines, changed name incappendhistory

	* pws: 6424: reduce excess quoting in info files

	* pws: 6421: _mh should use $words instead of $argv

	* pws: 6416: document ${(f)"$(foo)"} change and nesting of quotes
	  in braces

	* Sven: 6414: completing parameters with extra quotes, don't
	  complete local parameters

	* Sven: 6411: fix display bug on terminals which can do
	  TCMULTRIGHT (gap left when clearing list).

	* pws: 6410: RCS option can now take affect at any point during
	  initialisation, new GLOBAL_RCS applies to /etc/z* files.

	* Bart: 6404: singleton arrays treated as scalars locally (as
	  before), but correct array/scalar status is passed to enclosing
	  substitutions.

	* Bart: 6395: uninstall info files over 9, too

	* Sven: 6212 (previously missed): an extra clear list

	* Andrej: 6392: install info files higher than 9

	* 3.1.5-pws-20

	* Sven: 6388: completion in braces removes later arguments

	* Sven: 6374: autoremove behaviour on -r and -R, documentation

	* Bart: 6369: fix use of relative paths in compinstall

	* Bart: 6368: don't use cp -f, use rm -f in configure.in

	* Sven: 6355: ALL_EXPORT crashed the shell if set on command line

	* Sven: 6352, 6354: more quoting in completion

	* pws: 6346: msync() missing from mapfile.c, somehow

	* pws: 6345: Config/defs.mk is now in build tree, not source tree

	* Sven: 6343: test length of anchor in partial word matching

	* pws: 6340: INSTALL didn't work if it was install-sh after 6330

	* pws: 6335: now you can do ${(f)"$(...)"} to get arrays

	* pws: 6332: mapfile module

	* pws: 6331: protect against null hash tables in parameter module

	* pws: 6330: rewrite configuration system to use AC_SUBST_FILE
	  instead of including files by ed trickery (ed is now no longer
	  required).

	* Sven: 6326: compadd -r and -R work on automatically added
	  suffixes, too

	* Sven: 6322: reverse indexing of nested arrays

	* Sven: 6318: memory fixes for parameter module (and compctl).

	* 3.1.5-pws-19 made available

	* pws: unposted: updated some .distfiles

	* pws: 6314: in something like `{ false; } || true', errexit
	  shouldn't be used at all on the left of the ||

	* pws: 6313: fix 6299 to use $SHELL to decide emulation

	* pws: 6307, 6312: wider support for 64-bit integers on 32-bit
	  architectures

	* Tanaka Akira: 6303: _path_files: find files after symbolic link

	* Sven: 6302: more list_pipe intricacies

	* Sven: 6301: expanded ignored prefix ignored for testing

	* pws: 6299: if called as su* or -su*, zsh doesn't do sh emulation

	* Sven: 6298: (mult_isarr) ${*:-word} didn't use the default word

	* pws: 6294: typeset -U MANPATH performs uniqueness test straight
	  away

	* pws: 6291: zftp only checks for system type after login.

	* pws: 6290: parameter module uses global scope, $parameters gets
	  unreadonlied, gcc warning

	* Sven: 6285: tty/job handling when executing some command in
	  current shell code within RHS of pipeline

	* Sven: 6283: compadd -U didn't quote characters properly

	* Sven: 6278: fix ${$(foo)...} to produce an array

	* Tatsuo Furukawa: 6274: updated form of zle_refresh patch

	* Tatsuo Furukawa: 6273: don't need to defined _POSIX* flags
	  specially on HPUX

	* pws: 6272: correct even more mistakes some bozo (guess who) made
	  with rlim_t: put back RLIM_T_IS_UNSIGNED code.

	* pws: 6271: make sure -D_LARGEFILE_SOURCE is defined any time
	  there are other -D's for large file support

	* pws: 6284, should have been in 6269: changes to large file
	  support

	* Sven: 6268: parameter module for access to internal tables

	* pws: 6263: incrementalappendhistory -> incappendhistory

	* 3.1.5-pws-18 made available

	* pws: 6259: second version of compinstall

	* pws: 6258: yet another attempt at the same problem

	* pws: 6257: rewrite 6240 for any old builtin structure after the
	  pipeline

	* Wayne: 6255: more history: zle toggle between local/global
	  history;  `zle widget' can now take a direct numeric argument;
	  small tweaks

	* Sven: 6249: fix for 6046 (problem showed up with $(...))

	* pws: 6246: doc changes for 6046, plus subscripts done properly

	* Sven: 6046: nested parameter expansions can return either arrays
	  or scalars.

	* Wayne: 6241: history editing can use foreign history commands;
	  history appended in hend() instead of hbegin()

	* pws: 6240: a pipeline ending in a builtin didn't attach to the
	  tty pgrp.

	* pws: 6239: need space after incrementalappendhistory for
	  kshoptionprint

	* pws: 6238: Wayne's share_history option set in ksh emulation

	* pws: 6237: window size code upgraded from 3.0.6-pre2, plus
	  Bart's patch 4447.

	* Wayne: 6236: history changes to improve management of duplicate
	  lines, incremental history read/write, and sharing history

	* pws: 6235: unset -m shouldn't restore unset parameters;
	  unsetting a global should remove it from paramtab even inside a
	  function.

	* pws: 6227: configuration for large file support (from bash
	  aclocal.m4).

	* pws: 6224: alter 6205 to read chars only when necessary, but
	  ensure terminal is set appropriately.

	* Wayne: 6220: various compilation warnings

	* Tanaka Akira: 6219: initialize a variable in zle_tricky.c

	* Bart: 6213: race condition in $(...), use waitforpid() instead
	  of unblocking child (which shouldn't happen until later).

	* pws: 6205: use FIONREAD wherever defined, read chars immediately
	  into buffer

	* pws: 6202: trivial _correct_filename change, ^Xc -> ^XC

	* Sven: 6197: off by one error parsing assignment in completion

	* Sven: 6195: _expand_word and _correct_word change.

	* Sven: 6194: complete assoc array arguments by default where
	  necessary

	* pws: 6193: [un]setopt shouldn't complain when setting an
	  unsettable option to the value it already has

	* Bart: 6188: compinit speedup

	* 3.1.5-pws-17 made available

	* pws: 6180: Completion/Core/compinstall

	* Bart: 6171 as rewritten in 6174: old RedHat Linux doesn't have
	  normal definitions for poll.

	* Sven: 6167: show unloaded parameters as undefined

	* pws: 6165: globsubst'd foo='~/bin' depended on extendedglob
	  being set

	* Bart: 6162: autoloadable parameter code links without dynamic
	  loading

	* Sven: 6153: realparamtab to smooth access to autoloaded parameters

	* Sven: 6152: compstate[vared]

	* Sven: 6150: alwayslastprompt sometimes failed in M-x

	* Sven: 6133: autoloaded parameters

	* Sven: 6132: compctl.mdd

	* Ville Herva: 6131, see 6126: reset tv.tv_sec before select for
	  Linux

	* Sven: 6129: comments for struct cadata

	* Sven: 6128: completion after an expansion; list after a
	  non-completion list

	* Sven: 6124: menu completion wasn't consistent between tabs

	* Sven: 6121: try harder with braces after a parameter expansion

	* Sven: 6119: don't insert word separator before ignored suffix

	* pws: 6118: _closequote and _oldlist completers

	* Sven: 6117: position of ignored suffix in inserted match

	* Sven: 6113: compadd -D, nuke element in an array for each failed
	  match

	* Sven: 6109: completion in parameter assignment should set
	  context `value'

	* Bart: 6106: short documentation fixes in expn.yo, options.yo,
	  redirect.yo

	* Sven: 6105: _make patch whitespace

	* Geoff: 6104: multi-line prompt fix (6101 backed off)

	* 3.1.5-pws-16 made available

	* pws: 6101: multi-line prompt ending in '\n' got another newline

	* Tanaka Akira: 6092: _find, bad glob pattern

	* Tanaka Akira: 6085: _make can hang when no [mM]akefile

	* pws: zsh-announce/94: FAQ and FAQ.yo updated

	* Sven: 6079: compwid.yo typo

	* Tanaka Akira: 6078: _find syntax error

	* Sven: 6077: do_single() fix for old completion

	* pws: 6074: zftp function suite moved to Functions/Zftp and
	  provided with documentation.

	* pws: 6070: ~ in character class in parentheses with extendedglob
	  failed

	* Sven: 6066: create list of modules built into the base executable

	* Sven: 6062: test whether using the same widget when doing
	  menucompletion

	* Sven: 6060: don't invalidatelist() in zle_main.c before calling
	  completion functions

	* Sven: 6058: small changes in _path_files, compinit and
	  documentation

	* Sven: 6056: compwid.yo

	* pws: 6053: compwid.yo

	* 3.1.5-pws-15 made available

	* Sven: 6031: defcomp -> compdef

	* pws: 6030: compsys.yo

	* Sven: 6026: _path_files slight rewrite for speed

	* Sven: 6021: _path_files expanding path fix

	* pws: 6018: (#l) and friends with a trailing / on the glob
	  pattern always failed

	* pws: 6016: compinit and _zftp

	* Andrej: 6017 (ex 6014): -i and -s options for _long_options

	* Sven: 6013: pass ignored prefix and suffix in _path_files

	* Sven: 6011: compadd uses first (not last) occurrence of an option

	* Sven: 6010: _match_pattern and _match_test replaced by options
	  to compadd (and deleted from distribution)

	* Sven: extracted from 6009: chunk for getmatcharr()

	* Sven: 6008: %{ works in completion listings

	* Sven: 6005: Misc/compctl-examples altered for latest (more
	  consistent) nested parameter expansion rules

	* Bart: 6002, 6003: in ${foo/#bar/thing}, the `#' can appear from
	  substitution and can be quoted

	* Sven: 5999: ~foo<TAB> completes with /

	* Sven: 5996: compsys.yo, special contexts

	* Sven: 5995: should fix 5969

	* Sven: 5986: compstate[insert]

	* Sven: 5983: documentation for Completion/ system (compsys.1).

	* Sven: 5982: menu behaviour

	* Sven: 5981: bit masks in comp.h

	* Sven: 5972: compconf without arguments lists; _compalso takes
	  extra arguments

	* Sven: 5971: shell code control over re-using existing completion
	  lists

	* Sven: 5970: completion fix compilation; #defcomp is now #compdef

	* Sven: 5969: clear to end of display optimization (may need
	  modifying for some terminals)

	* Sven: 5968: fix brace re-insertion problem in completion

	* pws: 5965: _correct_word

	* Sven: 5960: $PREBUFFER: lines before current $BUFFER

	* Sven: 5959: quoting characters in completion

	* Bruce: 5958: _make

	* Sven: 5955: more compstate choices: list_max, last_prompt, to_end

	* 3.1.5-pws-14 made avaliable

	* pws: unposted: updated .distfiles under Completion

	* Sven: 5947: completion functions fix

	* Sven: 5942: spaces in file names with old completion

	* Sven: 5940: move cursor

	* Sven: 5938, 5937: compset to replace modifying conditions

	* Sven: 5936: replace modifying completion tests with compset

	* pws: 5934: option GLOBAL_RCS_FIRST runs /etc/z* files before
	  user's files.

	* Sven: 5933: don't complete local parameters; _setopt/_unsetopt
	  complete all options (code to use currently unset/set options
	  remains in comments)

	* pws: 5931: more parameter substitution rules

	* Sven: 5928: copy context in zle_tricky

	* Sven: 5926: $HISTNO

	* Sven: 5925: path_expand

	* Sven: 5918: _list completer

	* Sven: 5916: _expand completer

	* pws: 5915: minor type fixes

	* Sven: 5914: _main_complete takes optional completer arguments

	* Sven: 5913: zle -C test

	* Sven: 5912: compiler warnings

	* pws: 5905: _main_complete should at least try to get
	  _unset_options correct.

	* Sven: 5904: print local for parameters

	* Sven: 5895, 5898, 5906: fix completion prefixes

	* Sven: 5890: _match completer

	* Sven: 5879, 5899: completion documentation

	* Sven: 5872, 5881, 5889: corresponding Completion function rewrite

	* Sven: 5871, 5875: big zle_tricky.c cleanup, with compstate
	  changes and IFSUFFIX

	* Bart: 5868: expn.yo fixes

	* 3.1.5-pws-13 made available

	* pws: 5863: substitution rules

	* Sven: 5862: _path_files (turning on menu) and _cd (include . in
	  path)

	* pws: 5854: man page dependencies in Doc/Makefile.in

	* Sven: 5852: warnings about _long_options

	* pws: 5844: don't set errflag if noerrs = 2.

	* Sven: 5831: in subscripts and math environments, the whole
	  string is always passed down to the function handler.

	* Sven: 5830: in ${#:-stuff}, stuff is treated as a single word
	  (unless split for some other reason).

	* Sven: 5829: clear the completion list in more zle functions

	* Sven: 5818: parameter name in subscript which looks math-like;
	  _subscript.

	* Sven: 5811: put back _multi_parts which got left out when it was
	  moved into Core.

	* Sven: 5804: _pdf

	* Sven: 5800: _path_files; path altered when no possible match

	* pws: 5797: set CLOBBERS_TYPEAHEAD for Irix; old config.guess
	  change for Reliant UNIX and Apple Rhapsody re-imported from old
	  config.guess.

	* Sven: 5796: globcomplete shouldn't always turn on menucompletion

	* Sven: 5795: parsing change for assignment and arrays in nested
	  substitution.

	* Sven (reposted by Bart): 5783: zerr() sets errflag even if
	  noerrs is set

	* pws: 5780: Completion/Base/_brace_parameter change

	* 3.1.5-pws-12 made available

	* Geoff: 5779: correct mistakes some bozo (guess who) made testing
	  rlim_t for long long.

	* pws: unposted archive changes: .distfiles in Completion
	  hierarchy, dunno what these do but it looks better; _comp_parts
	  is now _sep_parts; moved _long_options into Base and mentioned
	  it in Completion/README.

	* pws: 5776: untested patch for typeahead problems when reading
	  multiple lines of input

	* Sven: 5775: correcting completion will not ignore everything the
	  user has typed; prefix quote fix

	* Sven: 5770: _path_files again

	* Sven: 5766: _path_files closer to compctl/compgen behaviour

	* Sven: 5761: remove unnecessary compiler warnings in compctl.c

	* Sven: 5759: math environment fixes

	* pws: www archive: updated Etc/FAQ finally, keep forgetting

	* Sven: 5758: _path_files accepts -q, -r and -R options

	* Sven: 5757: compconfig

	* Sven: 5756: compstate[force_list]

	* Lehti Rami: 5754: --disable-restricted-r stops the shell
	  becoming restricted when its name starts with r

	* Sven: zsh-users/2211 (+ p -> s): setopt -m handles underscores
	  and case sensitivity

	* pws: 5737: ${foo#* } is more efficient in ordinary cases

	* Sven: 5736: completion before = in assignment

	* Sven: 5732: _a2ps, _long_options

	* pws: 5729: _bindkey doc

	* Sven: 5726: zle_tricky.c: ctokenize() fix and parameter completion

	* Will Day: 5724 (+postprocessing, 5741): signames2.awk: match
	  extra spaces if produced by CPP.

	* Andrej: 5719: _bindkey can use - as anchor for wildcard matching

	* Sven: 5716: zle.h, zle_misc.c, zle_tricky.c: iremovesuffix() can
	  be told whether to keep a list of matches

	* Sven: 5714: _path_files: failed completions get left alone more
	  often

	* Sven: 5713: zle_tricky.c, interesting code specimen made extinct

	* Sven: 5712: _path_files, noglobcomplete fix

	* Sven: 5710: zle_tricky.c, completion inside words

	* Sven: 5708: completion manual, -M anchors must be matched
	  explicitly

	* Sven: 5707: tokenization changes

	* Sven: 5704: _long_options

	* Sven: 5701: _main_complete, _multi_parts, _path_files, a few
	  cosmetic changes.

	* Sven: 5699: matching prefixes of various sorts

	* Sven: 5698: array indexing in _long_options and _multi_parts

	* Sven: 5696, 5697: "${${path}[1]}" indexes on characters again

	* Sven: 5692: remove compstate[matcher] test from _long_options

	* Sven: 5682: bindkey fix

	* Sven: 5677, 5679: Completion/User/_long_options and consequent
	  upgrades for Completion/User files which use long GNU-style
	  options.

	* Sven: 5676: all Completion example functions return a status

	* pws: from autoconf 2.13: new config.guess, too.

	* Sven: 5675: tidying up for zle_tricky.c

	* Sven: 5671: another small parameter fix for multiple braces

	* Sven: 5670: parameter completion fix

	* 3.1.5-pws-11 made available

	* pws: from autoconf 2.13: new config.sub

	* Sven: 5666: calling inststrlen() with a null string

	* Sven: 5665: return values from completion functions

	* Sven: 5663: compctl -i _completion_function

	* Sven: 5662: / following brace parameter

	* Sven: 5659: globcomplete changes

	* Sven: 5651: widespread completion fixes

	* Andrej: 5650: more tricks with _configure

	* Sven: 5647: _multi_parts doesn't replace so many *'s

	* Sven: 5640: _multi_parts, _path_files, _tar

	* Sven: 5637: mustuseheap check in complistflags

	* Sven: 5634: return values for compgen and compadd

	* Sven: 5631: compilation warnings

	* Sven: 5629: approximate correction patches

	* pws: 5628: _builtin, _cd, _most_recent_file

	* Sven: 5624: CCORIG required to be offered original string when
	  correcting using COMPCORRECT

	* Sven: 5623: -X strings with compadd were mishandled

	* Sven: 5622: zshcompwid manual: clarifications

	* Sven: 5621: manual for nmatches and matcher

	* Sven: 5620: fix for completion inside expansible braces

	* Bart: 5614: Completion/Base/_match_test works out of the box

	* Sven: 5613: copy scalar variable used for compgen -y

	* Sven: 5605: explanation listing fix

	* Sven: 5604: approximate completion.

	* Sven: 5603: compstat[pattern_match]

	* pws: 5602: _tar

	* Sven: 5601: compstate[exact_string] and compstate[total_matchers]

	* Sven: 5599: _comp_parts, _path_files tweaks

	* Sven: 5598: a neater way of handling compadd -p/-P

	* pws; 5597: Use separate file mymods.conf for your own builtin
	  modules rather than the automatically generated modules-bltin.

	* Matt: 5596: Makefile dependencies for module compilation

	* Sven: 5593: _path_files -w

	* Sven: 5590: compadd -p, -s and -P fixes

	* Sven: 5588: fix _most_recent_file idiocy

	* Sven: 5586: addmatch fix (old completion wasn't working)

	* pws: 5583: post-patch restructuring of _mh, _zftp,
	  _most_recent_file.

	* Sven: 5582: _path_files will expand /u/ -> /usr/ even if /u
	  exists if nothing later on would match otherwise (got that?)

	* Sven: 5574, 5578: Completion/README notes

	* Sven: 5571: Functions/Builtins/_cd tests if $cdpath is set

	* Sven: 5566: $foo[(b.<index>.i)<match>] starts searching $foo for
	  for <match> at <index>

	* Sven: 5565, 5576: $NUMERIC gives the numeric argument in a zle
	  widget

	* Sven: 5564, 5577, 5579: massive new completion reworking with
	  $words, $compstate, etc., etc.

	* pws: 5561: attempted (untested) fix for QNX4 compilation;
	  halloc() is now zhalloc().  (By private email from
	  probin@qnx.co.uk, it seems the QNX problems are more
	  considerable with 3.1.5.)

	* Sven: 5560: subscripting fixes in params.c: flags for scalars
	  and converting integer AA element to string

	* pws: 5559: cd /.. doesn't show .. (except if RFS was detected).

	* Larry P. Schrof: 5550: last -> previous in history documentation

	* pws: 5557: configure.in for making sure signals really are
	  defined in the file found.  This was in pws-10, but the patch
	  didn't appear on the list for four days.

	* 3.1.5-pws-10 made available

	* pws: unposted: Functions/Completion moved to Completion;
	  subdirectories Core, Base, Builtins, User, Commands created;
	  Completion/README created.

	* Matt: 5553: under _WIN32, .exe suffix is optional for commands

	* Sven: 5548: _path_files, _comp_parts

	* Sven: 5547: group handling -J/-V in compadd

	* pws: 5545: silly set -x mistake

	* Sven: 5544: another completion cleanup

	* Sven: 5543: compadd -X, zshcompwid manual

	* pws: 5538: approximate pattern matching, (#a1)readme etc.

	* pws: 5531: small init fix

	* Sven: 5529: cleanup for Functions/Completion

	* Sven: 5521: improved option handling for _path_files

	* Sven: 5512, 5525: globcomplete fix for new completion

	* Sven: 5511: make sure compctl is available for new completion

	* pws: 5508: init and dump, globbing and printing.

	* pws: unposted, see 5503: remove dynamic=no from configure.in when
	  underscore is needed.

	* Sven: 5490: unset test for AA elements when substituting

	* Sven: 5489: control for matching in _path_files and _comp_parts

	* Sven: 5483: completeinword fixes

	* Sven: 5476: quoting of tildes in Functions/Completion/_path_files
	  
	* Sven: 5471: range code knows not to handle associative arrays

	* Sven: 5470: new completion conditions didn't handle untokenization
	  consistently.

	* Sven: 5469: init fix and Functions/Completion/_comp_parts

	* Sven: 5467: expn manual typo

	* Sven: 5466: compwid manual for -after and -between

	* Sven: 5455: keep track of which matcher specification to use

	* Matt: 5330: I've put this back the way it original was.  I hate
	  sed almost as much as awk.

	* Martin Buchholz: 5448: libc.h can't be included on Debian Linux,
	  so only include it on NeXT where it's necessary.

	* 3.1.5-pws-9 made available

	* pws: unposted (but see 5440): zftp changes: more return 6's,
	  functions now do auto-open and avoid subshells.

	* pws: 5436: set -x for function calls and ((...)).

	* Sven: 5430: rewrite Functions/Completions with simplified syntax
	  (no #array type completions).

	* Sven: 5429: $CONTEXT strings

	* pws: 5425: fix pattern matching for new completion

	* Sven: 5424: addmatches fix when not doing matching

	* Sven: 5423: compadd accepts either - or -- to end options

	* Sven: 5422: braces in completions were not tokenized; array
	  parameters wereused uncopied

	* pws: 5421: setting same element of assoc array in full array
	  assignment crashed

	* Sven: 5418: small addmatches fixes

	* Sven: 5417: multiple subscripts with undefined array

	* Sven: 5415: anchors in matchers shouldn't match variable part of
	  completion

	* Sven: 5412: better matcher control

	* Helmut Jarausch/pws: 5410: IRIX 6.5 problems in Etc/MACHINES

	* pws: 5408: set -x output for [[ ... ]]

	* pws: 5403: magicequalsubst now affects all ...=~...:~

	* Sven: 5401: files -> __files

	* Sven: 5400, 5402: print needs - in dump; auto-dump and use
	  $COMPDUMP file

	* Sven: 5399, 5407: do_ambiguous overhaul

	* pws: 5398: fixlet for __path_files

	* pws: 5393: dump new completion status for faster init

	* Sven: 5384, 5397: manual for new completion so far

	* Andrej: 5377: Reliant UNIX configuration

	* Oliver: 5374: compctl -T doc for ~dirs

	* Oliver: 5372: change of mailing list host

	* Bart: 5367: CVS ignores version.h

	* 3.1.5-pws-8 made available

	* pws: 5365: make dependencies for main.o, Makemod, zshpaths.h

	* pws: 5364: 5281 now works

	* pws: Misc/Completion now Functions/Completion, some new
	  new-style completions

	* pws: 5362: #key-* completions allow >= 0 key bindings

	* Sven: 5355: compadd -R function for suffix removal

	* Sven: 5354: redisplaying completion lists, don't show if
	  completion failed

	* Sven: 5352: new fignore handling

	* pws/Bart: 5349, 5361: "$foo[@]" didn't get removed if $foo
	  wasn't set

	* pws/Sven: 5341, 5351: completion init and __normal

	* Sven: 5342, 5343: ignoring ignored prefix in new conditions

	* Sven: 5341: modularise new completion shell code

	* Sven: 5335: printing zle condition codes

	* pws: 5332: emulate -L

	* Sweth/Bart/pws: zsh-users/2121: Functions/allopt with the odd
	  emulate and local added

	* pws/Matt: 5326, 5329, 5330: signames.c generation

	* pws: 5321: compctl -LM

	* Sven: 5320: keys available in zle widgets

	* Sven: 5316: compctl matcher users reference counts

	* Matt: 5311: CHAR(+) -> CHAR(43) in zmacros

	* Bart: 5305: trashzle() crashed shell with loading dynamic but
	  zle builtin

	* Bart: 5299: PWD, OLDPWD export confusion

	* Bart: 5297: local variables and $argv doc

	* Geoff: 5295: no ld -g on NetBSD

	* 3.1.5-pws-7 made available

	* pws; 5281: interrupts in getquery() weren't handled gracefully

	* Sven: 5266: get matcher number in new completion functions

	* Sven: 5265, 5284: rewrite of $foo:q and doc

	* Sven: 5262: compctl -M, REC_EXACT fixes

	* Sven: 5261, 5268: GLOB_COMPLETE docs

	* Bart: 5260: new mailing lists in Meta-FAQ

	* Bart: 5258: parameter scoping docs

	* pws: 5247: typeset -T fix

	* pws: Etc/MACHINES: Linux Alpha with egcs

	* pws: 5233: .zlogout doc

	* pws/Sven: 5229, 5234, 5235, 5269: bashautolist option

	* Sven: 5120: use ${foo:q} for quoting completion prefix/suffix

	* Sven: 5208: preliminary version of ${foo:q}

	* Sven: 5207: completion in conditions

	* Sven: 5206: completion in arrays

	* Sven: 5203: o -> f, O -> o, O = ^o

	* Sven: 5201: zle commands erase listing when minibuffer used

	* pws: 5185, 5198: compctl documentation tidy-up

	* Sven: 5183, 5199, 5200: ${(P)...} flag

	* Sven: 5178: fix for command completion and pattern completions

	* Bart: 5174: unset assoc array elements

	* Sven: 5145, 5204: compadd -m, -F, -r

	* Sven: 5144: partial word completion fix

	* Matt: 5133: cygwin needs native getcwd()

	* Matt Armstrong: 5132, 5151: makepro.awk can spit out
	  preprocessor lines, move init.pro inclusion

	* Bart: 5129: vared assoc array and elements thereof

	* Bart: 4965, missing hunk: unset assoc array when assigned as
	  scalar

	* pws: 5054: zls

	* 3.1.5-pws-6 made available

	* Drazen Kacar/pws: 5118: unlock terminal device on Solaris

	* pws: 5111: unsetting special zle variables

	* Sven: 5107: glob qualifier o for modes

	* pws: 5105: remove old zle -C, zle -C does new completion
	
	* Sven: 5104: zle and widget information via variables

	* Drazen Kacar/pws/Bart: 5103, 5113: terminal bug on Solaris with
	  Openwindows

	* Sven: 5102: glob qualifiers doc

	* pws: 5094, 5120: typeset -T MYPATH mypath; MYPATH=(foo),
	  mypath=foo fix; PATH=(foo) bug

	* Sven: 5092: extra completion context

	* Sven: 5060: completion in brace expansion

	* Sven: 5059, 5065, 5085: compcall, compctl -K ' func', avoid
	  recursion, fix dynamic loading

	* pws: 5047: make install doesn't make install.info

	* Phil/Bart: 5032, 5037: zless with localoptions added

	* Sven: 5022, 5045, 5078: ${(t)param} and nounset behaviour

	* Andrej: 5016: insert zsh.info into dir when installing

	* pws: new mirror site ftp://ftp.win.ne.jp/pub/shell/zsh/

	* Sven: 4986, 4988: new-style completion after redirection

	* Sven: 4981: fix completion whitespace for copy-previous-word

	* Sven: 4979, 4987: new glob modifiers for sort order and
	  selecting items from list

	* Sven: 4976: compadd and new-completion-examples

	* Sven: 4975, 5007: comptl -M matches with *'s

	* Sven: 4974: compctl list with single string

	* Andrej: 5021: configuration on Reliant UNIX

	* Bart: 4965: add-on

	* Sven: 4957: completion after redirection

	* Made available as 3.1.5-pws-5; top level directory now
	  zsh-3.1.5-pws-5

	* Helmut Jarausch: 4947: part of patch missed

	* Sven: 4850, 4881, 4941, 4942, 4943, 4944, 4946, 4949, 4950,
	  4945: New completion system

	* Sven: 4940: compctl -t (minor incompatibility)

	* pws: 4939: configure checks for tgetent() accepts null but then
	  tgetstr() dumps core

	* pws: 4931: compiler warnings

	* Sven: 4930: completion after reserved words

	* pws/Bart: 4923, 4924: findcmd() memory leak and comment

	* pws: 4912: Etc/MACHINES

	* pws: 4902: typeset neatness, -a, -m

	* Bart: 4893: setting assoc array elements inside a substitution

	* Andrej Borsenkow + pws: 4888: zftp shouldn't dup sockets until
	  connected

	* Oliver Kiddle: 4887: configure

	* Sven: 4880: conditions from module again

	* Sven: 4879: group completion

	* Sven: 4878: accept-and-menu-complete

	* Bart: 4874: array slices

	* Geoff: 4855: refresh line the same length as terminal width

	* pws: 4852: zftp test subcommand

	* Bart: 4851: sethparam(), part got missed

	* 3.1.5-pws-4 made available

	* Sven: 4845: isident()

	* Sven: 4837, 4842: more for loadable conditions

	* Sven: 4828: ignored character

	* Bart/Sven: 4826, 4831, 4836: assoc array fixes

	* Gene Cohler + pws: 4824, 4833, 4843: dynamical loading under
	  HPUX

	* Sven: 4821: network byte order in zftp

	* Bart: 4817: parameter documentation

	* Sven: 4806, 4815, 4820, 4822, 4830: be careful when unloading
	  modules which may have side effects

	* pws: 4805: define INADDR_NONE in zftp if not defined

	* pws: 4801: compilation without HAVE_GETPWUID

	* Bart: 4792: Handle --program-{suf,pre}fix in configure

	* Bart: 4791: don't hash PWD after all

	* Bart: 4789, 4794, 4795: sethparam(), setsparam; allow assoc
	  array assignment ${(AA)=assoc::=key1 val1 ...}

	* Bart: 4788: some missing patches put back

	* Phil: 4784: unused variable j in glob.c

	* Phil: 4783: wtmp is in /var/log on Linux

	* pws: 4779: compiling statically linked

	* pws: version 3.1.5-pws-3 made available

	* Sven: 4767: completion listing fix

	* Bart: 4763, 4766, 4764: associative arrays using subscripting
	  flags and typeset output

	* Bart: 4762: use of conddef without dynamic loading

	* pws: 4761: zftp module

	* Phil: 4737: typeset -a docs

	* pws: 4736, 4754: ${foo/orig/new} subst as in bash; optimize
	  pattern matching in strings
	
	* Phil Pennock: 4727: associative arrays in stat builtin

	* Sven: 4716, 4732, 4734, 4742, 4769:  allow modules for
	  conditions and wrappers around functions

	* Sven: 4700: heap memory fixes suggested by Phil Pennock

	* Sven: 4698, 4707: ignore completions if cursor not in
	  completable part of word

	* Sven: 4697: zle_tricky.c

	* pws: 4693: case-indendent globbing fix

	* Bart: 4678: viforwardword

	* pws: don't use vifirstnonblank()in vioperswapcase()

	* Bart: 4674: scanmatchtable()

	* Bart: 4482: cdmatch2

	* Bart: 4644: delimiters in parameter substitution flags

	* Bart: 4624: don't be too clever with optimizing when doing ***

	* pws: 4612: 8 bit character input problem if char was signed

	* Bart: 4606: error messages from parameters

	* pws: 4601: rewrite prompt truncation in more predictable,
	  delimitable way

	* Bart: 4599, 4602, 4608, 4641, 4653, 4654: associative arrays

	* pws: 4596: allow PWD to be hashed on explicit user request

	* pws: 4595: globbing fix for problem which showed up in `case'

	* Wilfredo Sanchez: 4594: fix configure problems

	* pws: 4591: test line length in prompt e.g. %(40l.yes.no)

	* Bart: 4589: PWD and OLDPWD fix

	* Bart: 4472: doc fixes

	* Bart: 4471: fixes for shell functions

	* Bart: line missed in zle_tricky.c when patching

	* Bart: 4589: chpwd

	* pws: lete2ctl update

	* pws: fixsuffix() missed in delcharorlist() when patching

	* Bart: 4574: doc fix

	* Bart: 4570: flags to allow zle command not to interrupt
	  cumulative effects, deltochar

	* pws: 4564: fix completion suffix for yank

	* pws: 4533: ~PWD should not be displayed as such

	* pws: 4513, 4552: case-insensitive globbing (#i)

	* Sven: 4509, 4510, 4526, 4527, 4534, 4557: alternative matches in
	  completion (compctl -t), mapping between characters on line and
	  in matches (compctl -M)

	* pws: 4477: change function names to avoid dynamic loading
	  clashes

	* Bart: 4473, 4475, 4476: collected minor fixes since 3.1.5

	* Zoli: 3933: AIX dynamic patch

Thu Oct 29 21:51:10 1998  Andrew Main  <zefram@zsh.org>

	* Config/version.mk: Version 3.1.5.

	* Doc/Makefile.in, Doc/META-FAQ.yo: Format the plain-ASCII
	  META-FAQ in a manner consistent with the other plain-ASCII
	  documents.

	* Src/exec.c: Retry reading from a pipe on EINTR, to avoid
	  getting truncated output.  (schaefer, u1880)

	* acconfig.h, aczsh.m4, configure.in, Src/compat.c, Src/system.h,
	  Src/watch.c: New zsh_STRUCT_MEMBER macro for structure member
	  tests (changes names of some existing preprocessor defines).
	  Test for d_ino and d_stat in struct dire[nc]t.  New code in
	  zgetdir() to make use of d_stat if available.

	* Src/params.c, Src/system.h, Src/watch.c: Move definition of
	  DEFAULT_WATCHFMT into watch.c (where the decision about which
	  utmp structure to use is made).

	* Doc/Zsh/metafaq.yo: Another mirror (sunsite.doc.ic.ac.uk).

Wed Oct 28 21:02:28 1998  Andrew Main  <zefram@zsh.org>

	* Src/builtin.c: More accurate test for ncurses, for the benefit
	  of systems where ncurses' termcap.h is used.

	* Etc/BUGS, Etc/CONTRIBUTORS, Etc/FEATURES, Etc/MACHINES,
	  Etc/NEWS, INSTALL, README, Util/zsh-development-guide:
	  Consistent formatting.

	* Etc/NEWS: List universal-argument and POSIX character classes.

	* Doc/Zsh/metafaq.yo, Etc/CONTRIBUTORS: Use more zsh.org email
	  addresses.

Tue Oct 27 20:23:18 1998  Andrew Main  <zefram@zsh.org>

	* Etc/FAQ.yo: New version, 1998-10-26.  (pws)

Mon Oct 26 21:13:42 1998  Andrew Main  <zefram@zsh.org>

	* Doc/Zsh/guide.yo, Doc/Zsh/metafaq.yo, Etc/CONTRIBUTORS,
	  Functions/checkmail, Functions/run-help, Functions/zed,
	  Misc/compctl-examples, Misc/lete2ctl, README,
	  Src/Builtins/rlimits.awk, Src/Zle/zle_main.c, Src/makepro.awk,
	  Src/signames.awk, Util/helpfiles, Util/reporter: Consistently
	  use zsh.org email addresses where available.  Remove some
	  stray individual credits from the source, in favour of the
	  more usual credit in ChangeLog and CONTRIBUTORS files.

	* acconfig.h, configure.in, Src/watch.c: Some systems have ut_tv
	  in struct utmpx, rather than ut_xtime or ut_time.

Sun Oct 25 21:04:01 1998  Andrew Main  <zefram@zsh.org>

	* Src/exec.c: Save and restore simple_pline.  (pws, 4390)

	* Src/loop.c: Set isfirstln to get the right behaviour on ^D
	  in select.  (pws, 4389)

	* Src/exec.c: Don't fail to AUTO_CD if there is an improperly
	  hashed external command of the same name.  (pws, 4426;
	  schaefer, 4434)

	* Src/builtin.c: getopts wasn't resetting all its counters
	  correctly.  (schaefer, 4416)

	* Src/Zle/zle_tricky.c: Prevent removable suffixes remaining in
	  effect when a new completion is attempted.

	* Doc/Zsh/compctl.yo: Add an example of usage of n[...] to the
	  compctl manual.  (pws, u1857)

	* Src/Zle/zle_main.c, Src/Zle/zle_misc.c: Give ungetkey()
	  external linkage.

	* Doc/Zsh/zle.yo, Src/Zle/zle_misc.c: Make universal-argument
	  accept a typed integer, EMACS-style.  (pws, 4425)

	* Src/Zle/zle.h, Src/Zle/zle_misc.c: Fix neg-argument.  (pws,
	  4420)

Sat Oct 17 17:12:31 1998  Andrew Main  <zefram@zsh.org>

	* Doc/Zsh/mod_files.yo: Note that mv won't move across devices.

	* Doc/Zsh/expn.yo: Add some examples to the parameter expansion
	  section.  (schaefer, 4402)

	* Src/jobs.c: Unset STAT_DONE when adding a process to a job,
	  in case $() processes finish before all the processes have
	  been started.  (pws, 4397)

	* Doc/Zsh/builtins.yo, Src/builtin.c, Src/hashtable.c, Src/zsh.h:
	  type/whence/where/which -w gives machine-readable output.
	  (pws, 4388)

	* Doc/Zsh/builtins.yo: Document the effect of unset on a local
	  parameter.

	* Src/params.c: unset should not remove the localness of a
	  local parameter.  (pws, 4317)

	* Src/compat.c, Src/prototypes.h: Give gethostname() the right
	  prototype (the length argument is a size_t), and implement it
	  to spec.

	* Doc/Zsh/metafaq.yo: New address for web-based mailing list
	  archive (http://www.zsh.org/mla/).

	* Doc/Zsh/metafaq.yo: New mirror (foad.org).

Thu Oct 15 19:07:17 1998  Andrew Main  <zefram@zsh.org>

	* configure.in, Src/Modules/cap.c, Src/utils.c: Check for the
	  existence of cap_get_proc() rather than cap_init(), because
	  some systems have a different cap_init().

	* Etc/MACHINES: Format changes.  Removed some entries that didn't
	  actually contain any intelligible information.

	* Etc/MACHINES: Tested on FreeBSD 2.2.7.  (Roland Jesse
	  <jesse@prinz-atm.cs.uni-magdeburg.de>, u1770)

	* acconfig.h, configure.in, Src/watch.c: Handle systems where
	  struct utmpx has a member named ut_time rather than ut_xtime.

	* Src/parse.c: Do not require a separator after esac.  (hzoli,
	  4376)

	* Doc/Makefile.in: Ignore errors from makeinfo.

	* Src/Zle/zle_thingy.c: Use permanent allocation when executing
	  widgets.  (schaefer, 4350)

	* Functions/multicomp: Fix for leading tildes; made
	  case-insensitive.  (schaefer, 4342)

	* Src/Zle/zle_utils.c: Fix an uninitialised pointer in
	  mkundoent().  (pws, 4315)

	* config.guess: Support Netwinder (arm-unknown-linux).
	  (Jason Naughton <jnaughto@ee.ryerson.ca>, 4308)

	* configure.in: Dynamic linking on OSF.  (<simond@informix.com>,
	  4258)

	* Misc/lete2ctl: Update for Perl5.004.  Use compctl -/ and -W.
	  Some other fixes.  (pws, 4245)

	* Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo: Minor typo fixes.
	  (schaefer, 4232)

	* Src/signals.h: A variable was being modified twice without an
	  intervening sequence point.  (Gray Watson <gwatson@lycos.com>,
	  4221)

	* Makefile.in: Remove spurious ";\".  (Gray Watson
	  <gwatson@lycos.com>, 4221)

Tue Oct 13 21:42:47 1998  Andrew Main  <zefram@zsh.org>

	* Doc/Zsh/expn.yo, Src/glob.c: Add the [:blank:] character class
	  required by POSIX, which has no corresponding ctype macro.

	* Doc/Zsh/expn.yo, Misc/globtests, Src/glob.c, Src/lex.c:
	  Add POSIX globbing character classes ([:alnum:] etc.).
	  (pws, 4209+4212)

Sun Oct 11 20:39:06 1998  Andrew Main  <zefram@zsh.org>

	* Src/Zle/zle_tricky.c: Make compctl -S '' work properly (i.e.,
	  suppress the addition of the default suffix).  (schaefer, u1668)

	* Src/loop.c: Fix the handling of empty user input to select.
	  (schaefer, 4200)

	* Src/utils.c: Y2K bugfix in %y sequence in ztrftime().
	  (zefram, 4198)

	* Src/init.c, Src/main.c: Abort on parse errors, except when
	  reading input from stdin.  (pws, 4191; some semantic changes
	  by zefram)

	* Misc/compctl-examples: Fix the setopt completion in the case
	  where KSH_OPTION_PRINT is set.  (schaefer, 4176)

	* Doc/Zsh/compctl.yo: Mention the read builtin in the
	  documentation of compctl -K.  (sven, 4150)

	* Src/Zle/zle_tricky.c: Fixed a bug where completing in a word
	  could duplicate part of the word due to it being in both the
	  common prefix and the common suffix.  (sven, 4147)

	* Doc/Zsh/builtins.yo, Doc/Zsh/compat.yo, Doc/Zsh/expn.yo,
	  Doc/Zsh/grammar.yo, Doc/Zsh/intro.yo, Doc/Zsh/options.yo,
	  Doc/Zsh/params.yo, Doc/Zsh/restricted.yo, Doc/Zsh/zle.yo:
	  Spelling/typo fixes in documentation.  (schaefer, 4136)

	* Misc/compctl-examples: Better implementations of the CVS
	  compctl functions.  (schaefer, 4130)

Sun Sep 27 18:31:55 1998  Andrew Main  <zefram@zsh.org>

	* Doc/zsh.yo, Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
	  Doc/Zsh/expn.yo, Doc/Zsh/grammar.yo, Doc/Zsh/guide.yo,
	  Doc/Zsh/intro.yo, Doc/Zsh/params.yo, Doc/Zsh/redirect.yo,
	  Doc/Zsh/zle.yo: Clarification of the expansion documentation.
	  Several other documentation bugfixes.  (schaefer, 4116)

	* Src/Modules/rlimits.awk: Cosmetic fix of the generated file.

	* Src/Modules/rlimits.awk: Avoid using the sub() function,
	  which some older awks lack.

	* Doc/Zsh/grammar.yo: List "builtin" as a precommand modifier.

	* Doc/Zsh/builtins.yo: Fuller details of the interaction between
	  options of the read builtin.  (schaefer, 4109)

	* Src/Modules/stat.c: The ls-style mode string was not being
	  terminated.  (Goran Larsson <hoh@lorelei.approve.se>, 4105)

	* Src/Zle/zle_hist.c: Make use of repeat count in history
	  searches.  (wayne, 4104)

	* Src/Zle/zle_hist.c: Some bugfixes and code simplifications
	  for {vi-,}{up,down}-line-or-{history,search}.  (wayne, 4086)

Sat Sep 26 16:08:53 1998  Andrew Main  <zefram@zsh.org>

	* Etc/zsh-development-guide: Expanded the section on C coding
	  style.  Added some notes about documentation.

	* configure.in, Src/exec.c, Src/glob.c, Src/hashtable.c,
	  Src/init.c, Src/params.c, Src/system.h, Src/utils.c,
	  Src/Modules/stat.c, Src/Zle/zle_tricky.c: Cope with systems
	  that lack <pwd.h>, <grp.h>, nice(), getpw{ent,nam,uid}(),
	  getgr{gid,nam}().

	* Doc/Zsh/metafaq.yo: uiarchive now mirrors ftp.zsh.org.

	* Doc/ztexi.yo, Doc/Zsh/expn.yo, Doc/Zsh/options.yo,
	  Doc/Zsh/redirect.yo, Doc/Zsh/zle.yo: Some minor documentation
	  fixes.  (schaefer, 4045)

	* Src/hist.c, Src/input.c, Src/parse.c: Simplification and
	  bugfixes of the input flushing code on history and parse
	  errors.  (pws, 4172)

	* configure.in: Use "1,$s" instead of ",s" in the generated
	  ed script, for compatibility with historical systems.

Mon Sep 21 19:16:03 1998  Andrew Main  <zefram@zsh.org>

	* Src/Makefile.in: Clean up conditionals in install/uninstall
	  rules.

	* Config/clean.mk, Config/config.mk, Src/Makemod.in.in: Avoid
	  empty argument list in for loops, for /bin/sh.

	* aczsh.m4, configure.in, Etc/MACHINES: Check for systems with
	  broken static/shared library combinations, such as SINIX.

	* Doc/Zsh/params.yo, Src/builtin.c, Src/params.c: Make PWD and
	  OLDPWD parameters non-special.  (hzoli, 3990; doc by zefram)

	* Src/builtin.c: Don't crash when exporting an unset special
	  parameter.  (hzoli, 3983)

	* Src/Zle/zle_utils.c: Mark sticks to preceding character instead
	  of the following one.  (wayne, 3969)

	* Src/builtin.c, Src/init.c, Src/utils.c: Set stdin to read
	  blockingly where appropriate.  (hzoli, 3950; POSIXification
	  by zefram)

Mon Sep 14 14:44:32 1998  Andrew Main  <zefram@zsh.org>

	* Makefile.in, configure.in, Config/.distfiles, Config/config.mk,
	  Config/defs.mk, Config/version.mk, Doc/.cvsignore,
	  Doc/.distfiles, Doc/Makefile.in, Doc/paths.yo.in,
	  Doc/zman.yo, Doc/zsh.yo, Doc/ztexi.yo, Doc/Zsh/builtins.yo,
	  Doc/Zsh/filelist.yo, Doc/Zsh/files.yo, Doc/Zsh/mod_comp1.yo,
	  Doc/Zsh/modules.yo, Doc/Zsh/options.yo, Doc/Zsh/params.yo,
	  Etc/Makefile.in, Src/.distfiles, Src/Makefile.in,
	  Src/Makemod.in.in, Src/version.h, Src/zsh.mdd: Move version
	  data into a single file, Config/version.mk.  Remove all site
	  dependencies from the documentation.  Some related Makefile
	  cleanups.

Sun May 31 09:28:18 1998  Andrew Main  <zefram@zsh.org>

	* Src/version.h: Version 3.1.4.

	* Doc/paths.yo.in: New date.

	* configure.in, aczsh.m4, acconfig.h, Src/system.h,
	  Src/watch.c: Don't confuse utmp and utmpx files.  Don't rely
	  on having a utmp structure at all.

	* Src/system.h, Src/Modules/clone.c, Src/Modules/files.c,
	  Src/builtin.c, Src/compat.c, Src/exec.c, Src/hist.c, Src/init.c,
	  Src/utils.c: Use O_NOCTTY on all open() calls, to get consistent
	  behaviour (no controlling tty) on all systems.

	* Doc/Zsh/grammar.yo: Correct and clarify the "simple commands &
	  pipelines" section.  (schaefer, u1548; markup and some additions
	  by zefram)

	* Src/params.c: When unsetting paired special parameters (e.g.,
	  CDPATH/cdpath), don't try to remove names that don't exist.
	  (hzoli, 3974)

Sat May 30 16:16:13 1998  Andrew Main  <zefram@zsh.org>

	* Src/system.h: #define _XPG_IV on SINIX (Reliant UNIX).  It is
	  reported that this is necessary in order to get the right
	  version of gettimeofday().

	* Doc/Zsh/grammar.yo, Src/lex.c, Src/subst.c, Src/utils.c,
	  Etc/NEWS: ksh93 $'' syntax.  (hzoli, 3952; documentation
	  clarifications by zefram)

Thu May 28 21:13:04 1998  Andrew Main  <zefram@zsh.org>

	* Functions/checkmail: Zero-length folders don't count as
	  containing new mail, regardless of when they've been examined.
	  (hzoli, 3963)

	* Src/glob.c: When globbing `foo/', stat `foo/.', so that only
	  directories are matched (as POSIX requires).  With (-T)
	  qualifier, dangling symlinks should be matched as normal.
	  With (T-/), etc., stat the pathname *before* modification by
	  (T).  (hzoli, 3960)

	* Src/Modules/stat.c: Some old K&R compilers don't like automatic
	  aggregate initialisation.  (hzoli, 3962)

	* Src/glob.c: tail was assumed to be NULL when pattern parsing
	  was called.  (hzoli, 3961)

	* Src/builtin.c: Fix off-by-one allocation bug in read.
	  (hzoli, 3951)

	* Src/builtin.c: Cleanup of read builtin.  Also backslash should
	  quote characters, as well as performing line continuation.
	  (hzoli, 3949)

	* Src/Zle/zle_tricky.c: Remove prototype cast for
	  yp_callback.foreach, because on some systems the prototype
	  is wrong.  (hzoli, 3948)

	* Src/math.c: Avoid an unbalanced stack error on $((0x1+0x1)).
	  (hzoli, 3947)

	* Src/params.c: PM_UNIQUE should persist across changes of
	  parameter type.  (hzoli, 3946)

	* Etc/NEWS: List major changes from 3.0.

Tue May 26 21:39:06 1998  Andrew Main  <zefram@zsh.org>

	* Src/glob.c, Doc/Zsh/expn.yo: `~' alone should not trigger
	  globbing.

Mon May 25 21:13:41 1998  Andrew Main  <zefram@zsh.org>

	* Src/mkmakemod.sh, configure.in, aczsh.m4: Link modules against
	  $(LIBS), and include -lc in $(LIBS), in case a module requires
	  a function that only exists in static libraries.

	* Src/makepro.awk: Change `\{' to `[{]' in regexps, because some
	  nawks dislike the former.

	* configure.in: Use tr to avoid giving backslashes to echo
	  (which may interpret them).

Fri May  1 19:39:12 1998  Andrew Main  <zefram@zsh.org>

	* Doc/Zsh/metafaq.yo: ftp.math.technion.ac.il now mirrors
	  ftp.zsh.org.

Thu Apr 30 20:19:47 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.3.

	* Doc/paths.yo.in: New date.

	* Src/Modules/stat.c: Remove some unused variables.

	* configure.in: Start of configuration for dynamic modules
	  on netbsd.  (gcw)

	* Doc/Zsh/metafaq.yo: New mirror (ftp.roedu.net).  ftp.cs.elte.hu
	  and ftp.cenatls.cena.dgac.fr now mirror ftp.zsh.org.

Wed Apr 29 20:24:16 1998  Andrew Main  <zefram@fysh.org>

	* many files: Remove RCS Id lines.

	* Etc/pubring.pgp: Change mason's DSS/DH key.

	* Doc/Zsh/metafaq.yo: New mirror (sunsite.auc.dk).
	  ftp.math.gatech.edu now mirrors ftp.zsh.org.

Tue Apr 28 23:18:44 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/metafaq.yo: New primary archive, ftp.zsh.org.

	* Etc/FAQ.yo: New version, 1998-04-24.  (pws)

	* Etc/FTP-README, Etc/pubring.pgp, Etc/.distfiles: Include these
	  files from the FTP site in the distribution.

	* configure.in, Util/mkdisttree.sh, Config/, Config/clean.mk,
	  Config/config.mk, Config/defs.mk Makefile.in,
	  Doc/Makefile.in, Etc/Makefile.in, Functions/Makefile.in,
	  Misc/Makefile.in, Src/Makefile.in, Src/Makemod.in.in,
	  StartupFiles/Makefile.in, Util/Makefile.in, .distfiles,
	  Config/.distfiles, Doc/.distfiles, Doc/Zsh/.distfiles,
	  Etc/.distfiles, Functions/.distfiles, Misc/.distfiles,
	  Src/.distfiles, Src/Builtins/.distfiles, Src/Modules/.distfiles,
	  Src/Zle/.distfiles, StartupFiles/.distfiles, Util/.distfiles:
	  Modify config.status to add a file inclusion facility;
	  this is used to remove common code from many Makefiles.
	  New distribution-building mechanism: `.distfiles' files list
	  the files to go in the distribution, and Util/mkdisttree.sh
	  processes these.  As a result, directories in which nothing
	  is ever built no longer need Makefiles.

Sun Apr 26 22:08:06 1998  Andrew Main  <zefram@fysh.org>

	* configure.in, Src/mkmakemod.sh: Modify config.status to allow
	  .in files in the build tree.

Sun Apr 26 19:35:17 1998  Andrew Main  <zefram@fysh.org>

	* Src/glob.c: Glob patterns with | alternation at the top level
	  were not setting C_LAST flags correctly.  (zefram, 3876)

Sun Apr 26 13:49:28 1998  Andrew Main  <zefram@fysh.org>

	* Src/cond.c, Src/glob.c, Src/system.h, Src/utils.c,
	  Src/Modules/files.c, Src/Modules/stat.c, Src/Zle/zle_tricky.c:
	  Use POSIX S_I* macros instead of fixed octal values.  (zefram,
	  3875)

	* configure.in, Src/params.c, Src/system.h: Don't need configure
	  test for sizeof(long).

	* configure.in, Src/cond.c, Src/glob.c, Src/system.h,
	  Src/Modules/files.c, Src/Modules/stat.c, Src/Zle/zle_tricky.c:
	  Use S_IS* macros in all cases instead of S_IF*.  Define S_IS*
	  macros for file types that don't exist, to avoid needing
	  conditionals; support readlink() similarly.  Add more file
	  type letters to the stat module.  (zefram, 3874)

Sat Apr 25 22:58:34 1998  Andrew Main  <zefram@fysh.org>

	* Src/Zle/zle_misc.c: Fix an array overrun in suffix removal,
	  caused by a signed/unsigned char mixup.  (zefram, 3873)

Sat Apr 25 17:15:32 1998  Andrew Main  <zefram@fysh.org>

	* Src/utils.c: Make CHASE_LINKS take effect on cd, as documented.
	  (zefram, 3872)

	* Misc/globtest, Misc/globtest.ksh, Src/glob.c: Fix for exclusions
	  nested inside more complex glob patterns.  (pws, 3870)

Thu Apr 23 21:21:29 1998  Andrew Main  <zefram@fysh.org>

	* META-FAQ, Doc/META-FAQ.yo, Doc/Makefile.in, Doc/Zsh/guide.yo,
	  Doc/Zsh/intro.yo, Doc/Zsh/metafaq.yo, Doc/Zsh/seealso.yo:
	  Generate the META-FAQ and the related parts of the documentation
	  from a common source (Doc/Zsh/metafaq.yo).  Updated list of
	  mirror sites.

	* Src/exec.c: Back out patch 3859.  NO_CLOBBER should allow
	  opening non-regular files (POSIX.2 clause 3.7.2).  Instead fix
	  the errno handling.  (zefram, 3869)

Wed Apr 22 21:11:30 1998  Andrew Main  <zefram@fysh.org>

	* Etc/BUGS, Etc/MACHINES: sed is no longer used for generating
	  prototypes.  We also now know about /proc/self/fd.

	* Misc/compctl-examples: Remove some code to cope with very old
	  zsh versions.

	* Etc/CONTRIBUTORS, Util/zsh-development-guide, Doc/Zsh/intro.yo,
	  META-FAQ, README: New coordinator.

	* Src/exec.c: NO_CLOBBER should prevent opening FIFOs, not just
	  overwriting regular files.  (zefram, 3859)

Wed Apr  8 20:29:28 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.2-zefram4.

	* Src/Zle/zle_keymap.c: Bind "^[OA" etc. as well as "^[[A".
	  Change vi arrow key bindings to match vi practice.  (zefram)

	* Src/jobs.c: Don't read tty settings when ZLE is active.
	  (pws, 3818)

	* Src/Zle/zle_keymap.c: Don't set errflag in bindkey.  (pws, 3815)

	* Etc/FAQ: New FAQ version, 1998-03-24.  (pws, a76)

	* Misc/compctl-examples: tar completion that lists files in
	  the archive.  (pws, u1409)

	* Src/glob.c: Fix foo(:s/foo/bar).  (pws, 3808)

	* Src/subst.c: Fix ${i:s/foo/bar}.  (pws, 3806)

	* Doc/Zsh/expn.yo: Mention in the parameter expansion section
	  that history modifiers can be used.  (pws, 3805)

Mon Apr  6 21:45:30 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/expn.yo, Doc/Zsh/options.yo, Src/glob.c, Src/options.c,
	  Src/parse.c: More glob changes:
	  + remove `-(...)' glob qualifier syntax
	  + allow normal qualifier syntax with KSH_GLOB
	  + add option BARE_GLOB_QUAL (emulation-relevant, zsh-only)
	    that enables glob qualifiers
	  + remove the paren twiddling when using patterns in [[ ]]
	    and case
	  (zefram)

	* Misc/globtests, Misc/globtests.ksh: More tests for exclusions,
	  which currently don't work properly.  (zefram)

Sun Apr  5 20:00:40 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/expn.yo, Doc/Zsh/options.yo, Src/glob.c: Glob changes:
	  + KSH_GLOB doesn't affect parens that are not preceded by the
	    special characters
	  + correctly handle combinations like ?(foo)##
	  + parens always trigger globbing
	  + with EXTENDED_GLOB, embedded `~' triggers globbing,
	    as the documentation already states
	  + remove incorrect special handling of (^...)
	  + general documentation cleanup
	  (zefram)

	* Doc/Zsh/expn.yo, Doc/Zsh/options.yo, Misc/globtests,
	  Misc/globtests.ksh, Src/glob.c, Src/options.c, Src/parse.c,
	  Src/zsh.h: KSH_GLOB.  (pws, 3764)

Sat Apr  4 15:44:05 1998  Andrew Main  <zefram@fysh.org>

	* Src/Zle/zle_tricky.c: expand-or-complete-prefix rewrite.
	  (pws, 3770)

Wed Mar 25 21:51:15 1998  Andrew Main  <zefram@fysh.org>

	* Src/builtin.c: getopts bugfixes.  (bugs pointed out by Bernd
	  Eggink <eggink@uni-hamburg.de>, 3797)

	* Misc/compctl-examples: Completions for ssh, nslookup, telnet,
	  ping, finger and gdb.  (<mirar@idonex.se>, u1274; some fiddling)

	* Misc/compctl-examples: pine completion.  (pws, u1359)

Tue Mar 24 21:36:47 1998  Andrew Main  <zefram@fysh.org>

	* Src/compat.c, Src/prototypes.h: gettimeofday() returns int,
	  not void.  (zefram)

	* Misc/compctl-examples: cvs completion.  (<mirar@idonex.se>,
	  u1243; much fiddling)

	* Misc/compctl-examples: lynx completion.  (Oliver Kiddle
	  <opk101@cs.york.ac.uk>, 3760; some fiddling for portability)

Mon Mar 23 21:18:11 1998  Andrew Main  <zefram@fysh.org>

	* Src/loop.c: Don't reprint the select list after non-empty input.
	  (Bernd Eggink <eggink@uni-hamburg.de>, 3796)

	* configure.in: Display module compiler flags.  (zefram)

	* Src/signames.awk, Src/Builtins/rlimits.awk: Remove leading
	  zeros from decimal constants to avoid interpretation as octal.

	* configure.in: define CLOBBERS_TYPEAHEAD for SINIX.  (Andrej
	  Borsenkow <borsenkow.msk@sni.de>, 3737)

	* Misc/compctl-examples: mount completion.  (Stefan Monnier
	  <monnier@tequila.systemsz.cs.yale.edu>, u1238)

Sun Mar 22 19:02:04 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/prompt.yo, Src/utils.c: %L strftime sequence to do %l
	  without fill.  (pws, 3731)

	* Src/prompt.c, Doc/Zsh/prompt.yo: %L prompt escape for $SHLVL.
	  (Phil Pennock <bear@dcs.warwick.ac.uk>)

	* Src/Makefile.in: Use LD_RUN_PATH instead of -R.  (Andrej
	  Borsenkow <borsenkow.msk@sni.de>, 3739)

	* Etc/FAQ: New FAQ version, 1998-03-02.  (pws, a75)

Thu Jan 15 23:28:02 1998  Andrew Main  <zefram@fysh.org>

	* Src/makepro.awk, Src/mkmakemod.sh, Src/mkmodindex.sh:
	  Portability fixes.  (zefram, 3713)

	* configure.in: Test for yp_all(), not getdomainname(), to see
	  if -lnsl is required.  (zefram, 3715)

	* Makefile.in, Src/Makefile.in, Src/Makemod.in.in: Accept
	  $(INSTALL) being a relative pathname, set by configure.
	  (zefram, 3716)

	* configure.in, Src/Makefile.in: More logical name for libzsh.
	  Install/uninstall/clean libzsh.  Link with a -R option to
	  indicate where libzsh will be installed.  (zefram, 3714)

	* Src/glob.c: Don't use up more digits in a <-> glob pattern
	  than the range can match.  There are still several cases that
	  don't work; backtracking is required.  (pws, 3680)

Sun Jan 11 19:22:13 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.2-zefram3.

	* Src/builtins.c: Rewrote getopts to remove its various bugs.

Sun Jan 11 14:22:50 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Makefile.in, Etc/Makefile.in, Functions/Makefile.in,
	  Makefile.in, Misc/Makefile.in, Src/Makefile.in,
	  Src/Makemod.in.in, StartupFiles/Makefile.in, Util/Makefile.in:
	  Pass on all configuration variables to all Makefiles.

	* Src/mkmakemod.sh: Fix $sed_normalise script to allow for
	  compilation in the source tree.

Sat Jan 10 23:56:33 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.2-zefram2.

	* Doc/Zsh/compctl.yo, Src/Zle/comp.h, Src/Zle/comp1.c,
	  Src/Zle/compctl.c, Src/Zle/zle_tricky.c: compctl -Y is like -X,
	  but performs expansion on the string.  compctl -y allows the
	  displayed completions to be user-generated.  (pws, 3636)

Sat Jan 10 16:27:30 1998  Andrew Main  <zefram@fysh.org>

	* Misc/compctl-examples: Use compctl -W where appropriate.

	* Doc/Zsh/compctl.yo, Src/Zle/comp.h, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c: compctl -W applies an invisible prefix
	  when matching pathnames.  (pws, 3498+3502)

	* Misc/compctl-examples: Use compctl -/ where appropriate.

	* Doc/Zsh/compctl.yo, Src/Zle/comp.h, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c: compctl -/ completes directories in the
	  manner of -f.  (pws, 3492+3493+3495+3502)

Sat Jan 10 00:36:04 1998  Andrew Main  <zefram@fysh.org>

	* Makefile.in, Src/Makefile.in, Src/Makemod.in.in: make clean
	  fixes.

Fri Jan  9 21:04:38 1998  Andrew Main  <zefram@fysh.org>

	* Src/system.h, Src/zsh.h, Src/utils.c, Src/parse.c: Don't
	  depend on any relation between sizes of ints and pointers when
	  duplicating/freeing structures.

	* Src/Zle/zle_refresh.c: Refresh bugfix.  (schaefer, 3511)

	* Util/helpfiles: Updated.  (pws, 3598)

	* Doc/Zsh/intro.yo: Mention the list archives.

	* configure.in: Prefer -lcurses to -ltermcap on HP-UX 10.*.
	  (pws, 3360)

Fri Jan  9 01:28:46 1998  Andrew Main  <zefram@fysh.org>

	* Src/Makefile.in: ansi2knr was being built as a.out.

Wed Jan  7 23:44:16 1998  Andrew Main  <zefram@fysh.org>

	* Src/glob.c, Misc/globtests: Backtrack in globbing, to support
	  nested closures.  (pws, 3513+3514+3515+3525)

	* Doc/Zsh/expn.yo: Clarifications and corrections to the
	  documentation for history expansion modifiers.  (pws, 3549)

	* Src/subst.c: Fix for a typo that made RC_EXPAND_PARAM expansion
	  of an empty array go horribly wrong.  (hzoli, 3548)

	* Src/builtin.c, Src/hist.c: Neater method to remove fc commands
	  from the history list.  (pws, 3531)

	* Src/builtin.c, Src/init.c, Src/main.c: Make $(r) work.
	  (pws, 3526)

Wed Jan  7 22:17:31 1998  Andrew Main  <zefram@fysh.org>

	* Doc/Zsh/options.yo, Src/Zle/zle_tricky.c: Completion in brace
	  expansion, with magic suffix removal on `,' and `}' triggered by
	  AUTO_PARAM_KEYS.  (pws, 3438; suffix code rewritten by zefram)

	* Src/Zle/zle_tricky.c, Doc/Zsh/compctl.yo: Print -X explanation
	  iff there was not a unique match, rather than iff there were
	  no matches.  (code: hzoli, 3423.  doc: pws, 3424)

Wed Jan  7 20:44:46 1998  Andrew Main  <zefram@fysh.org>

	* Src/init.c, Doc/Zsh/func.yo: preexec shell function is run
	  immediately before running each command.  (pws, u1068)

	* Src/Zle/zle_main.c: Select keymap earlier; apparently
	  this avoids a crash in some circumstances.  (Bernd Eggink
	  <eggink@uni-hamburg.de>, 3625)

	* Src/mem.c: zrealloc() should check for out-of-memory condition.
	  (hzoli, 3522)

	* Src/subst.c: A fix for `a="a "; print -l ${(o)=a}b'.  (hzoli,
	  3522)

	* Src/rlimits.awk: Some awks do not like || in the pattern.
	  (hzoli, 3522)

	* Misc/c2z: Many corrections.  (schaefer, 3484)

	* Doc/Zsh/expn.yo: An extra paragraph explaining RC_EXPAND_PARAM
	  behaviour.  (pws, 3417; markup brought into line with the rest
	  of the documentation)

	* Src/zsh.h, Src/subst.c, Src/utils.c: Make parameter expansion
	  with RC_EXPAND_PARAM behave the same as brace expansion,
	  and make it make sense.  (hzoli, 3403)

	* Src/parse.c: Fix error recovery on inputs such as
	  `( [[ $I bug 10 ]] )', which previously got mangled.
	  (hzoli, 3383)

	* configure.in, Src/Builtins/rlimits.awk: Find and correctly
	  handle the GNU hurd <resourcebits.h>, which defines RLIMIT_*
	  in an enum.  (Kunihiro Ishiguro <kunihiro@zebra.org>, 3369)

	* Src/glob.c: restrict leaf optimisation of recursive globs to
	  the case of nlink == 2.  Some systems don't keep proper link
	  counts for directories, but will probably distinguish themselves
	  by having a link count of 1 or 0 for directories.  (hzoli, 3368)

Tue Jan  6 23:29:43 1998  Andrew Main  <zefram@fysh.org>

	* Src/version.h: Version 3.1.2-zefram1.

	* Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c: Rewrite of the
	  removable suffix mechanism.  In all cases, the longest possible
	  meaningful suffix is added, and on following insertions the
	  minimum trailing part of the suffix removed in order to put
	  the character in a sensible place.  (zefram, 3353)

	* Doc/Zsh/options.yo, Src/options.c, Src/utils.c, Src/zsh.h:
	  Option PRINT_EIGHT_BIT, indicates that characters >= 0x80 are
	  printable, even if isprint() says otherwise.  (pws, 3318)

	* Src/Zle/zle_utils.c: Spaces were getting added to the end of
	  the line when menu completing.  (pws, 3308)

	* Src/jobs.c: Set STAT_NOSTTY in bg.  The result is that
	  STAT_NOSTTY is set if a job is ever run backgrounded.
	  (Suzuki Hisao <suzuki@otsl.oki.co.jp>, 3302)

	* Src/Zle/zle_tricky.c, Src/params.c: A couple of memory leaks.
	  (pws, 3301)

	* Src/zsh.h, Src/exec.c, Src/jobs.c: New job flag STAT_NOSTTY
	  means don't inherit the tty settings from this job when it
	  exits.  Is set on jobs that are started in the background.
	  (hzoli, 3297)

	* Src/params.c: Keep actual inherited environment strings around
	  while importing individual variables.  This is required because
	  the special behaviour when setting $TERM (and potentially
	  other variables) depends on the value of other variables.
	  (hzoli, 3293)

	* Src/glob.c: In `*(-M)', the (-) should affect the type of stat
	  used for (M).  (pws, 3285)

	* Src/Zle/zle_refresh.c: Buffer overrun bug fix.  (gcw, 3260)

	* INSTALL, Makefile.in, configure.in, Src/Makefile.in,
	  Src/**/*.c, Src/mkbltnmlst.sh, Src/prototypes.h,
	  Src/signals.h, Src/signames.awk, Src/xmods.conf, Src/zsh.h,
	  Src/Zle/comp.h, Src/Zle/zle.h, Src/Makemod.in.in,
	  Src/mkmakemod.sh, Src/mkmodindex.sh, Src/zsh.mdd,
	  Src/Builtins/rlimits.mdd, Src/Builtins/sched.mdd,
	  Src/Modules/cap.mdd, Src/Modules/clone.mdd,
	  Src/Modules/example.mdd, Src/Modules/files.mdd,
	  Src/Modules/stat.mdd, Src/Zle/comp1.mdd, Src/Zle/compctl.mdd,
	  Src/Zle/deltochar.mdd, Src/Zle/zle.mdd, Src/conf.sed,
	  Src/mkstamp.sh, Src/mods.conf, Src/Builtins/Makefile.in,
	  Src/Modules/Makefile.in, Src/Zle/Makefile.in: Rewrite of
	  the module build system.  Knowledge specific to each module
	  is localised in a .mdd file for that module.  Makefiles and
	  headers are automatically generated.  (zefram, 3252)

	* Src/jobs.c: `disown' was leaking memory.  (pws, 3251)

	* Src/subst.c: `set "$@"' was freeing strings while still needed,
	  due to paramsubst() not duplicating them.  (zefram, 3250)

	* Src/glob.c: globbing of `foo*r~foob*' was failing, due to
	  the character before the ~ not being marked as being the end
	  of a pattern.  (pws, 3249)

	* Src/Zle/zle_tricky.c: AUTO_PARAM_KEYS was adding suffix
	  characters in the middle of a word if completing within a word.
	  (hzoli, 3247)

	* Src/params.c: filter out garbage when importing environment
	  variables.  (hzoli, 3246)

	* Doc/Zsh/builtins.yo, Doc/Zsh/mod_compctl.yo,
	  Doc/Zsh/mod_sched.yo, Doc/Zsh/mod_zle.yo: Move documentation
	  of the standard moduleified builtins into zshmodules(1).
	  (zefram, 3244)

	* Src/Makefile.in, Src/builtin.c, Src/exec.c, Src/glob.c,
	  Src/globals.h, Src/hashtable.c, Src/hashtable.h, Src/hist.c,
	  Src/init.c, Src/input.c, Src/jobs.c, Src/lex.c, Src/loop.c,
	  Src/makepro.awk, Src/math.c, Src/mem.c, Src/module.c,
	  Src/options.c, Src/params.c, Src/parse.c, Src/prompt.c,
	  Src/prototypes.h, Src/signals.c, Src/signals.h,
	  Src/signames.awk, Src/subst.c, Src/utils.c, Src/zsh.h,
	  Src/Builtins/Makefile.in, Src/Modules/Makefile.in,
	  Src/Zle/Makefile.in, Src/Zle/comp.h, Src/Zle/comp1.c,
	  Src/Zle/zle.h, Src/Zle/zle_hist.c, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_refresh.c, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Src/Zle/zle_vi.c: Move all object
	  declarations into .c files, so that they are processed by
	  makepro.awk.  (zefram, 3243)

	* Src/Makefile.in, Src/builtin.c, Src/exec.c, Src/glob.c,
	  Src/globals.h, Src/hist.c, Src/init.c, Src/jobs.c,
	  Src/lex.c, Src/main.c, Src/math.c, Src/mem.c, Src/options.c,
	  Src/params.c, Src/parse.c, Src/signals.c, Src/watch.c,
	  Src/zsh.h, Src/Builtins/Makefile.in, Src/Modules/Makefile.in,
	  Src/Zle/Makefile.in, Src/Zle/zle.h, Src/Zle/zle_bindings.c,
	  Src/Zle/zle_refresh.c, Src/Zle/zle_tricky.c, Src/makepro.sh,
	  Src/makepro.awk: Generate prototypes with an awk script, which
	  handles data declarations as well as functions.  Make data
	  objects static where appropriate.  (zefram, 3242)

	* Src/builtin.c, Src/exec.c, Src/hashtable.c, Src/hashtable.h,
	  Src/module.c, Src/zsh.h, Src/Builtins/rlimits.c,
	  Src/Builtins/sched.c, Src/Modules/cap.c, Src/Modules/clone.c,
	  Src/Modules/example.c, Src/Modules/files.c, Src/Modules/stat.c,
	  Src/Zle/compctl.c, Src/Zle/zle_main.c: Use struct builtin
	  instead of struct binlist, avoiding some dynamic memory
	  allocation.  (zefram, 3241)

	* configure.in, Src/builtin.c, Src/Builtins/Makefile.in,
	  Src/Builtins/rlimits.c, Src/Modules/cap.c: Always build the
	  rlimits module.  (zefram, 3240)

	* Src/builtin.c, Src/globals.h, Src/init.c, Src/input.c,
	  Src/loop.c, Src/prompt.c, Src/utils.c, Src/Zle/zle.h,
	  Src/Zle/zle_main.c, Src/Zle/zle_refresh.c: Format prompts once
	  per editing session, so that they don't get changed improperly.
	  (zefram, 3239)

	* Doc/Zsh/compat.yo, Doc/Zsh/options.yo, Doc/Zsh/prompt.yo,
	  Src/options.c, Src/prompt.c, Src/zsh.h: Options PROMPT_PERCENT
	  and PROMPT_BANG, controlling which type of sequences get
	  expanded in prompts.  Set appropriately for sh and ksh
	  emulation.  (zefram, 3052)

	* Doc/Zsh/options.yo, Src/exec.c, Src/options.c, Src/zsh.h:
	  Option HIST_NO_FUNCTIONS, to exclude function definitions
	  from the history list.  Option alias NO_LOG (from ksh).
	  (zefram, 3050)

	* Src/init.c: When emulating sh or ksh, make the default prompts
	  "$ " (or "# ") and "> ".  (zefram, 3004)

	* Doc/Zsh/options.yo, Src/builtin.c, Src/options.c, Src/utils.c,
	  Src/zsh.h: Option RM_STAR_WAIT to wait ten seconds at the `rm
	  *' prompt.  (zefram, 2999)

Tue Jun  3 06:14:14 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/version.h: zsh-3.1.2 released

	* Src/params.c: Some compilers do not like ? (void *) :

	* Src/jobs.c: pg(){ less;};:|pg caused suspended (tty input)

Mon Jun  2 07:52:31 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Doc/paths.yo.in: Updated date

	* Doc/paths.yo, Doc/zsh.1, Doc/zsh.texi, Doc/zshall.1,
 	  Doc/zshbuiltins.1, Doc/zshcompctl.1, Doc/zshexpn.1,
 	  Doc/zshmisc.1, Doc/zshmodules.1, Doc/zshoptions.1,
 	  Doc/zshparam.1, Doc/zshzle.1: generated zsh-3.1.2 manuals

	* Doc/Zsh/builtins.yo, Doc/Zsh/params.yo: Typo fixes from Tomasz
 	  Cholewo (3163)

	* Src/Zle/zle_refresh.c: Xterm cut & paste fixes from Geoff (3135)

	* Src/hist.c: Fix !# history expansion during completion.  From
 	  Peter (3132)

	* Doc/Zsh/builtins.yo, Doc/Zsh/compat.yo, Doc/Zsh/expn.yo,
 	  Doc/Zsh/func.yo: Minor documentation fixes from Zefram (3125)

	* Doc/Zsh/guide.yo, Doc/Zsh/intro.yo: The zsh web site moved

	* Etc/FAQ, Etc/FAQ.yo: FAQ from Peter: Id: zshfaq.yo,v 1.6
 	  1997/05/29 09:15:00 pws Exp

	* Etc/Makefile.in: Do not make FAQ.yodl by default

	* INSTALL: Instructions about dynamic modules and builtin modules

	* Functions/zls: Improved zll module renamed to zls supporting the
 	  ailLFd options

	* Src/glob.c: The T glob flag did not work

Sun Jun  1 08:02:19 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/system.h: Use _POSIX_VDISABLE is available.  Fixes ^@ in zle
 	  on some systems.

	* Src/Zle/zle_tricky.c: expand-or-complete-prefix fixed

	* Src/Builtins/rlimits.c, Src/Builtins/sched.c,
 	  Src/Modules/clone.c, Src/Modules/example.c, Src/Zle/comp1.c,
 	  Src/Zle/compctl.c, Src/Zle/deltochar.c, Src/Zle/zle_hist.c,
 	  Src/Zle/zle_keymap.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
 	  Src/Zle/zle_move.c, Src/Zle/zle_params.c, Src/Zle/zle_refresh.c,
 	  Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c,
 	  Src/Zle/zle_vi.c, Src/Zle/zle_word.c, Src/builtin.c,
 	  Src/compat.c, Src/cond.c, Src/exec.c, Src/glob.c,
 	  Src/hashtable.c, Src/hist.c, Src/init.c, Src/input.c, Src/jobs.c,
 	  Src/lex.c, Src/linklist.c, Src/loop.c, Src/main.c, Src/math.c,
 	  Src/mem.c, Src/module.c, Src/options.c, Src/params.c,
 	  Src/parse.c, Src/prompt.c, Src/prototypes.h, Src/signals.c,
 	  Src/subst.c, Src/text.c, Src/utils.c, Src/watch.c: Declare
 	  functions used locally in one file static.

Sat May 31 07:29:53 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/comp.h, Src/prototypes.h, Src/makepro.sh,
 	  Src/Builtins/Makefile.in, Src/Makefile.in,
 	  Src/Modules/Makefile.in, Src/Zle/Makefile.in, Src/Zle/zle.h,
 	  Src/module.c: Use fixed names for module make/cleanup funxtions.
  	  Generate prototypes for static functions.  Ideas from articles
 	  3123 and 3124 from Zefram.

Thu May 29 05:17:31 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/cond.c: directories are always executable by root

	* META-FAQ: The zsh web page moved.

	* aclocal.m4, configure, configure.in: --enable-ansi2knr configure
 	  option added.  From Zefram (3122)

Tue May 20 05:22:16 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/utils.c: if abort or edit used on a correct prompt, do not
 	  attempt to correct further words on the line.

Sun May 18 18:57:08 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/builtin.c, Src/exec.c, Src/init.c, Src/signals.c, Src/jobs.c:
 	  Do not handle SIGPIPE specially for shells with job control

	* Src/init.c, Src/jobs.c, Src/utils.c: (:); while true; do; done
 	  was uninterruptible.  Sometimes LINES/COLUMNS was not set
 	  properly for non-interractive shells.

	* Src/exec.c, Src/signals.c: `:`; while true; do; done was
 	  uninterruptible

Mon May 12 09:01:55 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* configure, configure.in: on NetBSD <sys/time.h> is needed for
 	  rlimit type checks.  From Geoff.

	* Src/hist.c: !:2-1 history expansion caused memory corruption

Sun May 11 08:52:00 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/lex.c: $((foo);bar) syntax works

	* Src/hist.c: A terminal hangup caused coredump while saving history

	* Src/globals.h, Src/init.c, Src/params.c: if we cannot get the
 	  correct window size with ioctl, set LINES and COLUMNS from
 	  termcap.

	* Src/builtin.c: make sure zexit is not reentered when its
 	  execution is interrupted by a signal.

Fri May  9 07:59:00 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/utils.c: print_if_link (used by whence -s) did not work well.

	* Doc/zsh.texi: @br{} removed

	* Src/exec.c: Quick hack: do not open file redirections if noexec
 	  is set

	* Src/jobs.c: printjobs() set errflag when the foreground process
 	  was interrupted.

Thu May  8 09:18:56 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/cond.c: [[ -x file ]] does stat for privileged users

	* Src/Zle/zle_utils.c: do no read line[ll] (which is undefined)

	* Src/signals.c: flush the input queue on interrupt

	* Src/lex.c, Src/parse.c: improve parsing of for ((...))

	* Src/Zle/zle_tricky.c, Src/hist.c, Src/lex.c, Src/parse.c:
	  ((foo);bar) now works

Wed May  7 14:50:08 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Etc/Makefile.in: make clean should delete generated htmls

Tue May  6 06:33:06 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Etc/Makefile.in: rules to create FAQ and FAQ.html from the yodl
 	  source

	* Doc/Makefile.in, Doc/Zsh/guide.yo, Doc/Zsh/mod_cap.yo,
 	  Doc/Zsh/mod_clone.yo, Doc/Zsh/modules.yo, Doc/Zsh/prompt.yo,
 	  Src/Modules/Makefile.in, Src/Modules/cap.c, Src/mods.conf,
 	  Src/prompt.c, Src/system.h, Src/utils.c, config.h.in, configure,
 	  configure.in: Make the shell aware of POSIX.1e capabilities and
 	  add a cap builtin module.  From Zefram (3088)

	* Src/Zle/zle_main.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c: vi
 	  line range bugfix from Zefram (3094)

	* Src/signals.c: WINCH traps did not work.  From Peter (3093)

	* Src/hashtable.h, Src/params.c: LC_* parameters stopped working
 	  after patch 3014.  From Zefram (3089)

	* Doc/Zsh/builtins.yo, Doc/Zsh/restricted.yo, Src/builtin.c,
 	  Src/hashtable.h: hash builtin fixes from Zefram (3061)

	* Src/Zle/zle_thingy.c, Src/hashtable.c, Src/params.c, Src/zsh.h:
 	  Allow adding/deleting nodes during scanhashtable.  From Zefram
 	  (3058)

Mon May  5 09:29:22 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/hist.c: % word designator fix from Bruce Murphy
 	  <packrat@iinet.net.au> (3065)

	* Doc/Zsh/builtins.yo, Src/builtin.c, Src/hashtable.h,
 	  Src/utils.c: whence -s prints expanded symlinks (idea from
 	  art. 3067 by Juergen A. Erhard <jae@laden.ilk.de>).  Use zputs
 	  in whence. xsymlinks return 1 iff it found some symlinks or ../
 	  (previously it always returned 0 although it had some
 	  never-reached return 1 statements).

	* Src/params.c: zero LINES/COLUMNS should not set narrow/short
 	  term.  From Zefram (3063)

	* Src/builtin.c: typeset -R UID caused a coredump

	* Src/globals.h, Src/mem.c, Src/prototypes.h: alloc/ncalloc
 	  declarations moved to globals.h.  From Zefram (3057)

	* Doc/Makefile.in, Doc/zsh.yo: doc install and zshall fixes.  From
 	  Zefram (3056)

	* Src/prototypes.h, Src/system.h, config.h.in, configure,
 	  configure.in: checks for memcpy and memmove.  From Zefram (3055)

	* Doc/Zsh/params.yo: parameter documentation improvements.  From
 	  Zefram (3051)

	* Src/utils.c: simplify adjustwinsize().  Based on art. 3053 from
 	  Zefram.

	* Src/Zle/zle_main.c, Src/Zle/zle_params.c, Src/builtin.c,
 	  Src/exec.c, Src/globals.h, Src/init.c, Src/params.c: remove
 	  locallist.  From Zefram (3049)

	* Doc/Zsh/builtins.yo, Doc/Zsh/guide.yo, Doc/Zsh/params.yo,
 	  Src/builtin.c, Src/params.c: local parameters can hide special
 	  parameters.  From Zefram (3048)

Sun May  4 06:16:44 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Builtins/Makefile.in, Src/Makefile.in,
 	  Src/Modules/Makefile.in, Src/Zle/Makefile.in, aczsh.m4,
 	  configure, configure.in: Strip shared modules and executables if
 	  possible.  From Zefram (3038)

	* Doc/Zsh/mod_sched.yo, Doc/Zsh/guide.yo, Doc/Zsh/mod_files.yo,
 	  Doc/Zsh/mod_stat.yo, Doc/Zsh/modules.yo,
 	  Src/Builtins/Makefile.in, Src/Builtins/sched.c, Src/Makefile.in,
 	  Src/builtin.c, Src/globals.h, Src/hashtable.h, Src/init.c,
 	  Src/linklist.c, Src/mods.conf, Src/utils.c, Src/xmods.conf,
 	  Src/zsh.h: The sched builtin moved to a separate module.  From
 	  Zefram (3037)

	* Src/Builtins/rlimits.c, Src/prototypes.h, Src/hashtable.h,
 	  Src/mods.conf, Src/xmods.conf, Src/Builtins/Makefile.in,
 	  Src/Makefile.in, configure, configure.in: Src/Builtins directory
 	  created.  rlimits.c moved to Src/Builtins and converted into a
 	  loadable module.

Wed Apr 30 07:40:30 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Doc/Zsh/grammar.yo, Src/globals.h, Src/lex.c, Src/loop.c,
 	  Src/parse.c, Src/text.c, Src/zsh.h: ksh style ;& case
 	  fall-through feature from Zefram (3062)

	* Src/text.c: printing case commands were broken.  From Zefram (3062)

	* Doc/Zsh/builtins.yo, Doc/Zsh/func.yo, Doc/Zsh/options.yo,
 	  Src/builtin.c, Src/exec.c, Src/hashtable.c, Src/options.c,
 	  Src/utils.c, Src/zsh.h: KSH_AUTOLOAD option from Zefram (3060)

	* Src/module.c: Do not remove dependencies for a module when it is
 	  unloaded. From Zefram (3033)

	* Src/Zle/zle_main.c, Src/Zle/zle_tricky.c, Src/builtin.c,
 	  Src/exec.c, Src/utils.c: get{sh,fp}func() return &dummy_list for
 	  non-existent functions.  This allows autoloading empty
 	  functions.  From Zefram (3036)

	* Src/exec.c: Assume ksh-autoloading only if the autoloaded file
 	  is a single function definition.  From Zefram (3032)

	* Src/Makefile.in, Src/mkbltnmlst.sh, Src/mkstamp.sh,
 	  Src/xmods.conf, aczsh.m4, configure, configure.in: Link comp1
 	  into the main zsh if the system lacks RTDL_GLOBAL functionality.
  	  From Zefram (3030)

	* config.h.in, configure, aczsh.m4, configure.in, Makefile.in,
 	  acconfig.h, aclocal.m4: The config part of the nameclash patch
 	  from Zefram (3028).  The code part does not work with ansi2knr.

Mon Apr 28 07:28:34 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/comp.h, Src/Zle/comp1.c, Src/Zle/compctl.c,
 	  Src/Zle/deltochar.c, Src/Zle/zle.h, Src/Zle/zle_bindings.c,
 	  Src/Zle/zle_hist.c, Src/Zle/zle_keymap.c, Src/Zle/zle_main.c,
 	  Src/Zle/zle_misc.c, Src/Zle/zle_move.c, Src/Zle/zle_params.c,
 	  Src/Zle/zle_refresh.c, Src/Zle/zle_thingy.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c,
 	  Src/Zle/zle_word.c, Src/builtin.c, Src/globals.h, Src/init.c,
 	  Src/zsh.h: move compctl related read stuff global variables from
 	  the main binary into the comp1 module.  From Zefram (3029)

	* Src/Zle/zle_tricky.c: Yet an other suffix removal fix from
 	  Zefram (3024)

	* Src/builtin.c, Src/system.h, acconfig.h, config.h.in, configure,
 	  configure.in, Src/Builtins/rlimits.c: Use rlim_t if available

	* Doc/Zsh/builtins.yo, Doc/Zsh/restricted.yo, Src/globals.h,
 	  Src/init.c, Src/jobs.c, Src/main.c: jobs -Z documented, improved
 	  and disabled in restricted mode.  From Zefram (3027)

	* Doc/Zsh/builtins.yo, Src/hashtable.h, Src/jobs.c: jobs -d prints
 	  the working current directory of jobs.  From Peter (2889)

	* Doc/Zsh/restricted.yo, Src/module.c: disallow adding module
 	  dependencies with absolute pathnames in restricted mode.  From
 	  Zefram (3025)

	* Doc/Zsh/options.yo, Src/options.c: New option aliases to please
 	  bash users: dotglob, hashall, histappend, histexpand, mailwarn,
 	  onecmd and promptvars.  From Zefram (3026)

	* Etc/FAQ.yo: from Peter: Id: zshfaq.yo,v 1.5 1997/04/24 10:19:15
 	  pws Exp

	* Etc/FAQ: April 24 1997 FAQ from Peter

	* Src/Makefile.in, Src/Zle/zle_params.c, Doc/Zsh/zle.yo,
 	  Src/Zle/Makefile.in, Src/Zle/zle.h, Src/Zle/zle_main.c,
 	  Src/exec.c, Src/hashtable.h, Src/mods.conf, Src/params.c,
 	  Src/zsh.h: New special parameters {,L,R}BUFFER, CURSER added
 	  only present in zle widget functions.  Virtualised unset method
 	  in struct param.  pm->data modev to pm->u.data.  From Zefram
 	  (3014)

	* Src/Zle/zle_thingy.c: Fix a memory leak when unloading zle with
 	  user-defined widgets.  From Zefram (3015)

	* Src/Zle/zle.h, Src/Zle/zle_hist.c, Src/Zle/zle_main.c,
 	  Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Src/builtin.c,
 	  Src/globals.h, Src/init.c, Src/input.c, Src/loop.c, Src/utils.c,
 	  Src/zsh.h: Remove in_vared and use a third parameter to zleread
 	  to allow history recall.  histallowed is a new zle global
 	  variable for that.  Rename inzlefunc to incompctlfunc.  Add some
 	  checks to avoid dangerous recursive zle calls.  From Zefram
 	  (3013)

	* Src/Zle/zle_main.c, Src/Zle/zle_tricky.c: menu completion did
 	  not work well with auto_param_keys.  From Zefram (3011)

Sat Apr 26 06:26:11 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Functions/zed: Reenter zed if it fails to save the file

	* Functions/zed: Use bindkey -L to temporarily save bindings.
  	  From Zefram (3012)

	* Src/builtin.c, Src/init.c: Do not retry failed autoloads.  From
 	  Zefram (3010)

	* Src/Makefile.in, Src/mkbltnmlst.sh: non-dynamic zsh can be built
 	  without zle.  From Zefram (3008)

	* Doc/Zsh/builtins.yo, Src/module.c: Rearrange modules.c.
  	  zmodload -qu removes dependencies.  From Zefram (3009)

	* Doc/Zsh/builtins.yo, Src/module.c: zmodload -i -a works as one
 	  would expect.  From Zefram (3007)

	* Doc/Zsh/builtins.yo, Src/module.c: zmodload -a argument swap to
 	  allow autoloading multiple builtins from a single file in one
 	  command.  From Zefram (2997)

Fri Apr 25 06:41:36 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Doc/zman.yo: use UPPERCASE yodl macro

	* Functions/cdmatch, Misc/compctl-examples: compctl-examples
 	  improvements from Zefram (3006)

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
 	  Src/Zle/zle_hist.c, Src/Zle/zle_keymap.c, Src/Zle/zle_main.c,
 	  Src/Zle/zle_thingy.c: ZLE unload code from Zefram (3005)

	* Src/options.c: NOTIFY is off in sh/ksh mode.  From Zefram (3003)

	* Doc/Zsh/builtins.yo, Doc/Zsh/zle.yo, Misc/compctl-examples,
 	  Src/Zle/Makefile.in, Src/Zle/deltochar.c, Src/Zle/iwidgets.list,
 	  Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
 	  Src/Zle/zle_main.c, Src/Zle/zle_misc.c, Src/Zle/zle_move.c,
 	  Src/Zle/zle_things.sed, Src/Zle/zle_thingy.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c, Src/Zle/zle_widget.sed,
 	  Src/Zle/zle_word.c, Src/xmods.conf: New ZLE widgets allow
 	  user-defind ZLE functions.  From Zefram (3002)

	* Src/params.c: ${foo#bar} writes to the value of foo which can be
	  a const causing SEGV.  From Zefram (2998)

	* Src/Modules/files.c: files module fixes from Zefram (2996)

	* Functions/zll, Src/Modules/Makefile.in, Src/Modules/stat.c,
 	  Src/mods.conf: stat module fixes from Zefram (2995)

	* Functions/zll, Src/Modules/stat.c: stat module from Peter (2994)

	* Doc/Makefile.in, Doc/Zsh/compctl.yo, Doc/Zsh/guide.yo,
 	  Doc/Zsh/intro.yo, Doc/Zsh/mod_clone.yo, Doc/Zsh/mod_comp1.yo,
 	  Doc/Zsh/mod_compctl.yo, Doc/Zsh/mod_deltochar.yo,
 	  Doc/Zsh/mod_example.yo, Doc/Zsh/mod_files.yo,
 	  Doc/Zsh/mod_stat.yo, Doc/Zsh/mod_zle.yo, Doc/Zsh/modules.yo,
 	  Doc/Zsh/seealso.yo, Doc/zsh.yo, Doc/zshmodules.yo: Module
 	  documentations from zefram (2994)

Sun Apr 20 07:24:12 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/init.c, Src/params.c, Src/utils.c: Remove setintenv()

Tue Apr 15 05:51:27 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_refresh.c: SGTABTYPE can contain more than one bit
 	  set.  From Geoff (2976)

	* Doc/Zsh/prompt.yo, Src/prompt.c, Src/utils.c, Src/watch.c: New
 	  escapes %K and %f inside %D{...} promt sequences.  %k and %e are
 	  now compatible with strftime().  From Peter (2963)

	* Src/Zle/zle_keymap.c: bindkey -s "^X^L" "^@" produced a pound
 	  sterling sign.  From Zefram (2951)

	* Src/Zle/zle_main.c: vared 1 caused a coredump.  From Peter (2909)

	* Src/exec.c, Src/signals.c: execute trap on EXIT in the caller's
 	  environment. From Peter (2896)

	* Src/Zle/zle_tricky.c: Autoparamkeys broken by earlier patch
 	  fixed.  From Zefram and Peter (2894)

	* Src/Zle/zle_tricky.c: Clear menucur in invalidatelist().  From
 	  Peter (2881)

	* Src/Zle/zle_main.c: vared path caused permanent
 	  allocation in arrayfixenv

Sat Apr 12 04:27:34 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_misc.c: Overwrite mode did not work

Sat Mar  8 00:17:24 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/compctl.c: Sometimes an incorrect compctl caused a core
 	  dump.  From Peter (2942)

Fri Mar  7 23:54:18 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Makefile.in: zle_binding.pro is not used

	* Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_refresh.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c, Src/builtin.c,
 	  Src/globals.h, Src/init.c, Src/params.c, Src/prompt.c,
 	  Src/zsh.h: termok changed to termflags.  Modified version of
 	  art. 2970 from Geoff

Thu Mar  6 18:06:17 1997  Zoltan T. Hidvegi  <hzoli@vnet.ibm.com>

	* Src/init.c, Src/params.c, Src/utils.c: handle narrow and short
	  terminals centralized in zlevarsetfn().  From Bart and me
	  (2956, 2957)

Wed Mar  5 23:37:30 1997  Zoltan T. Hidvegi  <hzoli@vnet.ibm.com>

	* Src/Zle/zle.h, Src/Zle/zle_refresh.c: act as if single_line_zle
	  were set when LINES < 3.  From Geoff (2865)

	* Doc/zmacros.yo: Use UPPERCASE() yodl macro instead of chartable
 	  hacks.  From Zefram (2873)

	* Src/Zle/zle_tricky.c: menu completing parameters removed
 	  non-existent / suffix. From Zefram (2872)

	* Src/Zle/zle_bindings.c: Some zle functions did not use
 	  ZLE_KEEPSUFFIX.  From Zefram (2871)

	* Src/Zle/Makefile.in, Src/Zle/zle.h: zle_bindings doesn't define
 	  any functions so zle_bindings.pro is not needed

	* Src/loop.c: $? was incorrectly reset before executing case,
	  while, for

Tue Feb 18 20:59:51 1997  Zoltan Hidvegi  <hzoli@vnet.ibm.com>

	* Src/Zle/zle_bindings.c: M-p and M-n defaults to
	  history-beginning-search-*

	* Src/builtin.c: getopts handling of required argument fix from
	  Andrew Robinson (2846)

	* Src/builtin.c, Src/globals.h, Src/hist.c, Src/lex.c, Src/zsh.h:
	  History fixes: fc -AI;fc -R now do not confuse hist_ignore_dups
	  and some other cleanups from Peter (2845).  Contains changes
	  from articles 2748 and 2755.

	* Src/signals.c: An #ifdef SIGWINCH was missing.  From Hrvoje
	  Niksic <hniksic@srce.hr> (2844)

	* Src/Modules/files.c: fix problems on machines with unsigned long
	  mode_t.  From Zefram (2843)

	* Doc/Makefile.in, Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
	  Doc/Zsh/expn.yo, Doc/Zsh/guide.yo, Doc/Zsh/prompt.yo,
	  Doc/Zsh/restricted.yo, Doc/zman.yo, Doc/zsh.yo, Doc/ztexi.yo,
	  configure.in: Various documentation fixes from Zefram (2842)

	* Src/exec.c: return from a function called from a loop breaked
	  the loop

	* Src/lex.c: eval \$\{$#\} did not work

Tue Feb 11 20:25:59 1997  Zoltan Hidvegi  <hzoli@cs.elte.hu>

	* config.h.in, Src/compat.c, Src/utils.c, configure, configure.in:
	  stupid AIX 3.2 does not have fchdir

Tue Jan 28 00:57:37 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/version.h: zsh-3.1.1 released

	* Doc/paths.yo, Doc/zsh.1, Doc/zsh.texi, Doc/zshall.1,
 	  Doc/zshbuiltins.1, Doc/zshcompctl.1, Doc/zshexpn.1,
 	  Doc/zshmisc.1, Doc/zshoptions.1, Doc/zshparam.1, Doc/zshzle.1:
 	  yodl generated generated documentation

Mon Jan 27 22:04:29 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/signals.c: temprarily set breaks to zero when executing a trap

	* Src/exec.c: do not reset breaks in doshfunc

	* Src/parse.c: words following for ((...)) are in command position.

Sun Jan 26 23:29:48 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/builtin.c, Src/hashtable.h: fix cd -, use unrecognized
 	  option arguments literally

	* Src/exec.c: localoptions should not restore RESTRICTED

	* Src/signals.c: terminate a restricted shell if an untrapped INT
 	  signal is received

	* Src/init.c: set noerrexit to -1 in setupvals()

Sat Jan 25 20:07:46 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/subst.c, Src/utils.c: some assignments were missing from my
 	  spacesplit fix

	* Etc/FAQ: FAQ from Peter: Id: zsh.FAQ,v 2.23 1997/01/24 13:21:16
 	  pws Exp

	* config.h.in, configure, configure.in: check for setsid()

	* Src/Modules/Makefile.in, Src/Modules/clone.c: new builtin: start
 	  a forked instance of the current shell on a new terminal

Thu Jan 23 15:45:27 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_refresh.c, Src/globals.h, Src/prompt.c:
	  redisplay fix for multiline prompts from Geoff (2817)

	* Src/subst.c, Src/utils.c: a${=:- }b expanded to `ab'

	* Doc/Zsh/compctl.yo, Doc/Zsh/guide.yo, Doc/Zsh/options.yo,
 	  Doc/Zsh/restricted.yo, Doc/zsh.yo, Doc/zshmisc.yo: RESTRICTED
 	  option documentation

	* Doc/Makefile.in: generate everything with yodl

	* Doc/zman.yo, Doc/ztexi.yo: itemize environment added

	* Src/module.c: disable zmodload -a and loading explicitely given
 	  modules when restricted

	* Doc/Zsh/zle.yo: what-cursor-position zle function documented

Wed Jan 22 00:54:02 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Doc/Zsh/builtins.yo: cd -sLP documentation

	* Doc/Zsh/builtins.yo, Src/module.c: zmodload -au removes defined
 	  but not yet loaded builtins

Tue Jan 21 20:38:24 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Doc/ztexi.yo: sitem() fix for TeX

	* Misc/compctl-examples: limit/unlimit compctl improvemenmt

	* Doc/Zsh/builtins.yo, Doc/ztexi.yo: TeX changes

Mon Jan 20 21:11:22 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/hashtable.h, acconfig.h, config.h.in, configure,
 	  configure.in: some old compilers cannot initialise a union

	* Src/Zle/zle.h, Src/Zle/zle_keymap.c, Src/options.c: changes for
 	  K&R compilers

	* Src/Zle/deltochar.c: deltochar is IN_ZLE

	* Src/Modules/files.c, Src/Zle/zle_misc.c, Src/mem.c: stupid SunOS
 	  4 has broken headers

	* Src/system.h: cast alloca in VARARR

	* Src/Zle/zle_bindings.c, Src/Zle/zle_keymap.c,
 	  Src/Zle/zle_misc.c: what-cursor-position zle function added

	* Src/Zle/zle_utils.c: move the mark when characters are
 	  inserted/deleted.  From Peter (2807)

	* Src/builtin.c, Src/hashtable.h: bash/ksh compatible cd -LP options

	* Src/utils.c: lchdir fix

	* Src/Modules/files.c: rm -r works with arbitrary deep
 	  hierarchies.  rm -r can be interrupted

Sun Jan 19 13:30:36 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/glob.c: glob arbitrary deep directory structures

	* Src/mem.c, Src/Zle/zle_keymap.c, Src/subst.c, Src/utils.c,
	  Src/zsh.h: add real hrealloc()

Sat Jan 18 22:34:17 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_keymap.c: in bindkey -s the string was not zrdupped.

	* Src/utils.c: after Zefram's changes getkeystring should return
	  the result on the heap

	* Src/utils.c: fix file descriptor leak in lchdir

	* acconfig.h, config.h.in, configure, configure.in: use the
	  AC_FUNC_STRCOLL builtin autoconf test

	* Src/subst.c, Src/system.h, config.h.in, configure, configure.in:
	  alloca() and VARARR macro added which defines a variable sized
	  automatic array

Tue Jan 14 23:17:34 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/glob.c: debugging changes (the change is mostrly reindentation)

	* Src/Zle/zle_move.c: vi-goto-column did not move to the last column

	* Src/glob.c: some old C compilers cannot use typedefed type
	  defined function prototypes

	* Src/exec.c: PATH=foo somecommand gives error in restricted mode

	* Src/options.c, Src/init.c: the -r command line option turns on
	  restricted mode

Mon Jan 13 21:28:35 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/builtin.c, Src/exec.c, Src/hashtable.h, Src/init.c,
	  Src/options.c, Src/params.c, Src/text.c, Src/zsh.h: RESTRICTED
	  option added

Sun Jan 12 01:00:04 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_tricky.c: automenu starts iff lastambig is true.
	  From Zefram (2781)

	* Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_move.c: add ZLE_LASTCOL flag to
	  zle-commands which set lastcol.  From Zefram (2780)

	* Src/Zle/deltochar.c, Src/Zle/zle.h, Src/Zle/zle_bindings.c,
	  Src/Zle/zle_hist.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c: zle removable suffix
	  cleanup.  ZLE_INSERT and ZLE_DELETE is gone and ZLE_KEEPSUFFIX
	  added for commands which do not remove autoremovable suffixes.
	  From Zefram (2779)

	* Src/Zle/zle.h, Src/Zle/zle_hist.c, Src/Zle/zle_utils.c: remove
	  some code duplications and undo fixes.  From Zefram (2769)

Sat Jan 11 23:45:50 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/compat.c: lstat is defined to stat on systems without lstat

	* Src/system.h: define lstat(X,Y) instead of lstst if HAVE_LSTAT
	  is not defined

	* Src/Zle/zle_tricky.c: ll was not restored for xorrec

	* Src/builtin.c: read -l forgot to duplicate line before assignment

	* Src/jobs.c: do not execute trap when only the child receives the
	  signal.  Based on article 2480 from Zefram.

	* Src/builtin.c, Src/jobs.c: move job control builtins to jobs.c

	* Src/builtin.c: fix bugs when there was no current job after disown

Thu Jan  9 16:07:31 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/rlimits.c: zstrtorlimit was defined instead of zstrtorlimt

	* Src/Modules/Makefile.in, Src/Zle/Makefile.in: some buggy makes
	  could not find out how to make .so from .c

Wed Jan  8 22:02:51 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Doc/Zsh/zle.yo, Doc/zsh.texi, Doc/zshzle.man, Src/Zle/zle.h,
	  Src/Zle/zle_bindings.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_utils.c: zle undo rewrite from Zefram (2746)

	* Src/Zle/zle.h, Src/Zle/zle_hist.c, Src/Zle/zle_main.c,
	  Src/Zle/zle_misc.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c,
	  Src/utils.c: feep() just sets a flag and the main zle loop calls
	  beep() when this flag is set so multiple feeps cause only one
	  beep.  From Zefram (2745)

	* Src/hist.c, Src/main.c, Src/utils.c: use shout instead of stderr
	  where appropriate.  From Zefram (2743)

	* configure, configure.in: on NetBSD <sys/time.h> is needed for
	  rlimit type checks.  Based on article 2742 from Geoff

	* Src/builtin.c: empty cd caused a coredump

	* Doc/Makefile.in: texi -> dvi suffix rule added

	* Doc/Zsh/redirect.yo: fix a typo.  From Zefram (2685)

	* Doc/Zsh/expn.yo, Doc/Zsh/grammar.yo: brace related bugfixes

	* Doc/Makefile.in, Doc/Zsh/arith.yo, Doc/Zsh/builtins.yo,
	  Doc/Zsh/compat.yo, Doc/Zsh/compctl.yo, Doc/Zsh/cond.yo,
	  Doc/Zsh/exec.yo, Doc/Zsh/expn.yo, Doc/Zsh/filelist.yo,
	  Doc/Zsh/files.yo, Doc/Zsh/func.yo, Doc/Zsh/grammar.yo,
	  Doc/Zsh/guide.yo, Doc/Zsh/index.yo, Doc/Zsh/intro.yo,
	  Doc/Zsh/invoke.yo, Doc/Zsh/jobs.yo, Doc/Zsh/options.yo,
	  Doc/Zsh/params.yo, Doc/Zsh/prompt.yo, Doc/Zsh/redirect.yo,
	  Doc/Zsh/seealso.yo, Doc/Zsh/zle.yo, Doc/paths.yo.in,
	  Doc/zmacros.yo, Doc/zman.yo, Doc/zsh.yo, Doc/zshbuiltins.yo,
	  Doc/zshcompctl.yo, Doc/zshexpn.yo, Doc/zshmisc.yo,
	  Doc/zshoptions.yo, Doc/zshparam.yo, Doc/zshzle.yo, Doc/ztexi.yo:
	  documentation rewritten into yodl format by Zefram.

Tue Jan  7 23:10:24 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/params.c, Src/builtin.c, Src/exec.c: print error when
	  changing read-only variables, prevent core dump when assigning
	  an array to read-only scalar and some other fixes

	* Src/Zle/zle_tricky.c: compctl -S bugfix

Mon Jan  6 20:43:36 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/exec.c, acconfig.h, config.h.in, configure, configure.in:
	  better /dev/fd filesystem check

	* Src/Zle/Makefile.in, Src/Zle/zle.h, Src/Zle/zle_tricky.c: make
	  dependency cleanups

	* Src/Zle/Makefile.in, Src/Zle/zle.h, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_things.sed: autogenerate the enum of z_* and t_*
	  macros.  From Zefram (2731)

	* Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_keymap.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_move.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c: zle
	  prefix commands rewrite from Zefram (2722)

	* Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c:
	  history-search-*ward serch for complete words.  From Zefram
	  (2721, 2730)

	* Doc/zsh.texi, Doc/zshbuiltins.man, Src/Zle/zle_keymap.c,
	  Src/Zle/zle_main.c: remove bindkey -u -U options.  From Zefram
	  (2711)

	* Src/Zle/Makefile.in, Src/Zle/deltochar.c, Src/Zle/zle.h,
	  Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_keymap.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_thingy.c, Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c,
	  Src/mods.conf: first zle extendability patch from Zefram (2710)

Sun Jan  5 23:33:32 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/builtin.c, Src/exec.c: do builtin autoloading in execcmd and
	  do not ignore BINF_PSPECIAL and BINF_MAGICEQUALS flags for the
	  builtin being loaded

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
	  Src/builtin.c, Src/prototypes.h, Src/rlimits.c, Src/utils.c:
	  move limit/ulimit/unlimit builtins to rlimits.c

	* Src/builtin.c, Src/system.h, Src/utils.c, acconfig.h,
	  config.h.in, configure, configure.in: checks for quad_t and
	  unsigned resource types

	* Src/Modules/example.c, Src/Modules/files.c: the copyright notice
	  was different from the rest of the code

	* Src/jobs.c: set_clktck() function added

	* Src/compat.c, Src/Modules/files.c, Src/builtin.c, Src/utils.c,
	  Src/zsh.h: safe rm and cd which do not follow any symlinks

	* Src/builtin.c, Src/rlimits.awk: safe fallback when RLIM_ macros
	  are not found

	* Src/Zle/zle_main.c: EOF ignored in interactive mode when not in
	  the first line.  From Peter (2713)

Fri Jan  3 02:26:03 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Misc/compctl-examples: setopt/unsetopt compctl fixes

	* Src/Zle/comp.h, Src/Zle/comp1.c, Src/Zle/compctl.c,
	  Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/mods.conf, Src/xmods.conf, Src/Zle/Makefile.in: compctl base
	  module.  compctl no longer depends on zle instead both zle and
	  compctl depends on this new comp1 module.  From Zefram (2700)

	* Src/Zle/zle.h, Src/Zle/zle_keymap.c, Src/Zle/zle_main.c,
	  Src/Zle/zle_refresh.c, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Src/utils.c: add showmsg() which displays
	  an arbitrary message below the ZLE buffer and minibuffer.  From
	  Zefram (2699)

	* Src/Zle/zle_keymap.c, Src/hashtable.c: omit resize option from
	  emptytable thus make is available as a generic emptytable
	  method.  From Zefram (2698)

	* Src/Zle/zle_utils.c: literal ^ characters were not escaped when
	  printing key sequences.  From Zefram (2689)

	* Src/utils.c: finddir() now can cope with arbitrary long
	  directories.	From Zefram (2688)

	* Src/prompt.c: my long directories in prompt fix broke prompt
	  truncation.  From Zefram (2687)

Thu Jan  2 20:57:33 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* configure, configure.in: alpha-linux defines signals in
	  <asm/signum.h>.  From David Krinsky <krinsky@hcs.harvard.edu>
	  (2706)

	* Src/Makefile.in: . does not set positional parameters

	* Src/builtin.c, Src/compat.c: zchdir returns -2 when it looses
	  the current directory.

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
	  Src/Zle/compctl.c, Src/Zle/zle.h, Src/params.c, Src/zsh.h:
	  header dependencies and inclusions fixes from Zefram (2697)

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
	  Src/conf.sed, Src/mkbltnmlst.sh, Src/mkstamp.sh, Src/mods.conf,
	  Src/xmods.conf: more Makefile fixes from Zefram (2703)

	* Src/Modules/files.c, Src/utils.c: files module rm -r fixes

	* Src/Modules/files.c: make rm -r safe so that it never follows
	  symlinks.

	* Src/utils.c (lchdir): paranoid chdir which does not follow
	  symlinks.  From Zefram (2690)

	* Src/Modules/Makefile.in, Src/Modules/files.c: module with
	  builtin ln, mkdir, mv, rm, rmdir, sync utilities.  From Zefram
	  (2621)

	* Src/compat.c: do not use lstat if HAVE_LSTAT is not defined

	* Src/conf.sed, Src/mkbltnmlst.sh, Src/mkstamp.sh: move big shell
	  scripts from the Makefile to separate files.

Wed Jan  1 20:04:06 1997  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/options.c: remove union initialisation hacks and use optno
	  for aliases

	* Src/params.c, Src/hashtable.h: remove the struct iparam hack
	  which assumed that sizeof(long) == sizeof(void*)

	* Src/system.h, configure, configure.in: dgux CLOBBERS_TYPEAHEAD.
	  From Roderick Schertler <roderick@gate.net> (2623)

Tue Dec 31 02:28:09 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  improve proto dependency rules

	* Doc/zshbuiltins.man, Doc/zshzle.man, Src/Zle/Makefile.in,
	  Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_keymap.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
	  Src/Zle/zle_move.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c,
	  Src/hashtable.c, Src/mods.conf, Src/utils.c, Util/reporter:
	  keymap rewrite from Zefram (2648)

	* Src/Makefile.in: avoid using -nt test operator

	* Src/Zle/zle_tricky.c, Src/params.c, Src/utils.c: use
	  dupstrpfx/ztrduppfx

Mon Dec 30 23:24:46 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/init.c, Src/mods.conf, Src/xmods.conf:
	  automatic generation of linked-in module boot code and automatic
	  autoload code.  From Zefram (2647)

	* Src/utils.c: dupsctruct/freestruct now work even if sizeof(int)
	  != sizeof(void*)

	* Src/options.c: option initialisation did not work on Alpha

	* Src/Makefile.in: some sh's do not like empty for lists

	* Src/options.c: use short instead of enum

	* Src/globals.h, Src/input.c, Src/lex.c, Src/zsh.h: after alias
	  foo='echo ' ; alias bar=foo, foo bar should expand to foo echo.
	  From Peter (2558)

	* Src/compat.c: zgetcwd's result should not be freed

	* Src/prompt.c (putpromptchar): handle long pwd

	* Src/builtin.c, Src/compat.c, Src/init.c: zgetcwd's result should
	  not be freed

	* Src/glob.c: make functions only called from glob.c static.
	  Rearrange functions so that they are already defined when first
	  referenced.

Sun Dec 29 22:34:21 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Doc/zsh.texi, Doc/zshexpn.man, Doc/zshmisc.man, Src/glob.c,
	  Src/lex.c: brace related bugfixes

	* Src/glob.c, Src/utils.c: fix a buffer overflow bug in parsecomp()

	* Src/exec.c, Src/loop.c, Src/parse.c: case argument should not be
	  globbed

Sat Dec 28 19:55:04 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/options.c (optlookup): no prefix was ignored

	* Src/Makefile.in, Src/Modules/example.c, Src/Zle/compctl.c,
	  Src/Zle/zle_main.c, Src/init.c, Src/module.c, Src/zsh.h:
	  addbuiltins() and deletebuiltins() functions to add/delete a
	  group of builtins.  From Zefram (2646)

Fri Dec 27 23:33:20 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Modules/example.c, Src/Zle/compctl.c, Src/Zle/zle_main.c,
	  Src/init.c, Src/module.c: addbuiltin can now set all members of
	  the builtin structure.  From Zefram (2643)

	* Src/options.c: set ALWAYSLASTPROMPT, APPENDHISTORY, AUTOLIST,
	  AUTOMENU, AUTOPARAMKEYS, AUTOPARAMSLASH, AUTOREMOVESLASH,
	  LISTAMBIGUOUS, LISTTYPES options by default

	* Src/main.c, Src/options.c, Src/zsh.h: use the hastable functions
	  for optiontab instead of the optns array.

	* Src/exec.c: minor noclobber changes

Thu Dec 26 22:43:13 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/exec.c, Src/hist.c, Src/lex.c, Src/mem.c, Src/params.c,
	  Src/subst.c, Src/text.c, Src/utils.c: all "can't happen"
	  messages start with a BUG: From Zefram (2633)

	* Src/Makefile.in: better rules for version changes

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  some Makefile cleanups

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in,
	  configure, configure.in: use ..o suffix for module objects.
	  From Zefram (2632)

	* Src/Makefile.in, Src/init.c, Src/zsh.h: only init.o depends on
	  zshxmods.h.  From Zefram (2631)

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  some hacks to get parallel make work.	 From Zefram (2630)

	* Src/Zle/zle.h, Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c,
	  Src/Zle/zle_main.c, Src/Zle/zle_misc.c, Src/Zle/zle_move.c,
	  Src/Zle/zle_refresh.c, Src/Zle/zle_tricky.c,
	  Src/Zle/zle_utils.c, Src/Zle/zle_vi.c, Src/Zle/zle_word.c,
	  Src/globals.h, Src/init.c, Src/module.c, Src/zsh.h: zle module
	  autoloading interface cleanup from Zefram (2627)

	* Src/Zle/compctl.c, Src/Zle/zle_main.c: remove unnecessary
	  contitional code for printcompctlp.  From Zefram (2629)

	* Src/module.c: print error message when module's boot/cleanup
	  function not found.  From Zefram (2628)

	* Src/module.c: zmodload -L did not handle module names starting
	  with `-'. From Zefram (2626)

	* Doc/zshbuiltins.man, Src/hashtable.h, Src/module.c,
	  Util/reporter: zmodload -a lists builtins declared for
	  autoloading. -L prints everything in sourcable format.  From
	  Zefram (2620)

	* Src/Zle/zle_main.c, Src/hashtable.c, Src/options.c,
	  Src/params.c, Src/zsh.h: Make ZSH_HASH_DEBUG less visible.  From
	  Zefram (2619)

	* Src/builtin.c, Src/compat.c, Src/utils.c: handle arbitrary long
	  pathnames in pwd

Wed Dec 25 16:04:45 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Doc/zsh.texi, Doc/zshoptions.man, Src/Makefile.in,
	  Src/Zle/zle_tricky.c, Src/builtin.c, Src/glob.c, Src/globals.h,
	  Src/init.c, Src/main.c, Src/params.c, Src/prototypes.h,
	  Src/utils.c, Src/zsh.h, Src/options.c: New hash table for
	  options, option aliases.  From Zefram (2612)

Tue Dec 24 02:25:20 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_tricky.c, Src/glob.c, Src/hashtable.c, Src/utils.c:
	  move . and .. special case handling into zreaddir().	From
	  Zefram (2617)

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  parallel make support gone again as it always rebuilt everything

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Zle/Makefile.in:
	  More Makefile cleanups.  Parallel make now runs fine

	* Src/Zle/zle.h, Src/Zle/zle_main.c, Src/globals.h, Src/init.c,
	  Src/main.c, Src/module.c, Src/zsh.h, Src/Makefile.in,
	  Src/Modules/Makefile.in, Src/Zle/Makefile.in: module makefile
	  improvements, better support for builtin modules.  From Zefram
	  (2611)

Sat Dec 21 02:00:12 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/version.h: zsh-3.1.0 released

	* Makefile.in: modifications for the beta series

	* Src/Zle/zle_main.c, Src/globals.h, Src/hist.c, Src/module.c,
 	  Src/zsh.h: changes to allow compilation on SunOS 4 with K&R
 	  compiler

	* Doc/zsh.texi, Doc/zshbuiltins.man, Src/builtin.c, Src/hashtable.h:
	  pwd now accepts -L and -P to be compatible with bash and ksh

	* configure, configure.in: SunOS 4 shared libraries do not work
 	  when they are stripped

Thu Dec 19 21:27:17 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/init.c: work around a bug in NeXTStep 3.2 which caused slow
 	  refresh

	* Etc/FAQ: FAQ from Peter: Id: zsh.FAQ,v 2.22 1996/12/19 09:52:11
 	  pws Exp

Wed Dec 18 23:51:24 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Doc/zsh.texi, Etc/FAQ, META-FAQ: ftp.prz.tu-berlin.de no longer
 	  mirrors zsh, uiarchive.uiuc.edu name correction

Tue Dec 17 20:08:58 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/params.c: remove some compiler varnings

	* Src/Makefile.in: rlimits.h depends on rlimits.awk.  Cosmetic
 	  changes.  From Zefram (2589)

Mon Dec 16 03:33:12 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* README: unknown limits should no longer be a problem

	* Src/glob.c: toggles were not reset after a comma in a glob
 	  qualifier list (e.g. *(@-.,/))

	* Src/builtin.c: fg %% failed and disabled job control sometimes
 	  when there were no current job

Sun Dec 15 01:07:40 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* README: beta warning

	* Misc/compctl-examples: compctl for zmodload

Sat Dec 14 22:50:00 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_main.c: Remove unnecessary prefix delay in zle.
  	  From Zefram (2583)

	* Src/exec.c (execcmd): builtin < / > / closed stdin

	* configure, Src/Makefile.in, Src/builtin.c, Src/rlimits.awk,
 	  configure.in: awk generated rlimits from Peter (2573)

	* config.guess, config.sub, configure, configure.in: upgrade to
 	  autoconf-2.12.  Linux machines are still recognized without the
 	  -gnu suffix

	* configure, configure.in: working fifos should be tested in /tmp

Wed Dec 11 02:30:39 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_tricky.c, Src/builtin.c, Src/exec.c, Src/globals.h,
 	  Src/hist.c, Src/init.c, Src/input.c, Src/lex.c, Src/zsh.h:
 	  remove the alias stack and fix several related bugs. From Peter
 	  (2548, 2551)

	* Doc/zsh.texi, META-FAQ: ftp mirror site changes

	* Src/params.c: use the heap in getstrvalue()

Tue Dec 10 02:27:35 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_refresh.c: single line zle refresh bugfix from Geoff
 	  (2549)

	* Src/subst.c: ${(l:4:)foo} stopped working between 3.0.0 and 3.0.1

	* Src/math.c: $((#\c)) character code expansion did not work when
 	  c was a metafied

	* Src/params.c: $foo[i] did not work when foo[i] was a metafied
 	  character

	* Src/builtin.c: use the heap in zexit()

Sun Dec  8 21:32:06 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/utils.c, Doc/zshbuiltins.man, Src/hashtable.h, Src/module.c:
 	  zmodload can be used to define atoloaded builtins and module
 	  dependencies

	* Doc/zsh.texi, Doc/zshoptions.man: options documentation
 	  improvements from Zefram (2529)

	* Src/globals.h, Src/hist.c, Src/zsh.h: HIST_REDUCE_BLANKS from
 	  Wayne (2446)

	* Etc/FEATURES, Etc/NEWS: news in zsh-3.1

	* Src/hashtable.h: security: do not import MODULE_PATH

	* Src/input.c: no further input should be attempted when lexstop
 	  is true (e.g. after eof).

	* Src/Makefile.in: make tags fix

	* Misc/compctl-examples: MH compctl changes from Peter (2535)

	* Src/Zle/zle_tricky.c, Src/glob.c, Src/hashtable.c, Src/utils.c:
 	  unmetafy did not put a null terminator to the end of the string.
  	  zreaddir discarded the metafied filename.  readdir was used
 	  instead of zreaddir in zle_tricky.c.  From Zefram (2533)

	* Src/Zle/zle_vi.c: vi-replace-chars now emulates better the real
 	  vi.  From Zefram (2496)

	* Src/jobs.c: CLK_TCK is 60 on NeXT not 64 as defined in the
 	  system headers.  From Robert F Tobler
 	  <rft@raven.cg.tuwien.ac.at> (2522)

	* Src/input.c, Src/zsh.h: alias foo='a=b foo' ; foo caused an
 	  infinite loop.  From Peter (2515)

	* Src/builtin.c, Src/zsh.h: put hash tables to a linked list when
 	  hash-debug is enabled and move the simplified bin_hashinfo into
 	  hashtable.c.  From Zefram (2509)

	* Src/builtin.c, Src/Zle/compctl.c: more bad option fixes. Make
 	  the getopts builtin 8-bit clean.  From Zefram (2508)

	* Src/builtin.c: show metafied characters correctly in bad option
 	  errors.  From Zefram (2497)

Thu Dec  5 03:59:45 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/Modules/Makefile.in, Src/Modules/example.c,
 	  Src/Zle/Makefile.in, Src/Zle/deltochar.c, Src/Zle/zle.h,
 	  Src/Zle/zle_bindings.c, Src/Zle/zle_hist.c, Src/Zle/zle_main.c,
 	  Src/Zle/zle_misc.c, Src/Zle/zle_move.c, Src/Zle/zle_refresh.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c,
 	  Src/Zle/zle_word.c, Src/builtin.c, Src/globals.h,
 	  Src/hashtable.c, Src/hashtable.h, Src/init.c, Src/input.c,
 	  Src/loop.c, Src/main.c, Src/module.c, Src/modules-bltin,
 	  Src/prompt.c, Src/prototypes.h, Src/utils.c, Src/zsh.h,
 	  configure, configure.in: Move zle into a separate directory and
 	  convert it to an optional auto-loadable module.  Create Modules
 	  subdirectory.  Many Makefile changes.  boot_modname and
 	  cleanup_modname is back since on elf all module use one common
 	  name space.  Lots of other changes.

Wed Nov 27 03:20:53 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_main.c, Src/Zle/zle_vi.c: ANSI was broken and fixed
 	  again in zle_main.c ESC in vi command mode caused SEGV.  From
 	  Zefram (2479)

	* configure, configure.in: -pedantic is used with
 	  --enable-zsh-debug.  Link non-debugged zsh with -s.  From Zefram
 	  (2479)

Tue Nov 26 02:45:15 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/exec.c: the STTY parameter did not work well when pipes were
 	  used.  From Peter (2474)

	* Src/Zle/zle_main.c: little fix for the bindkey patch from Peter
 	  (2470)

	* Doc/zshbuiltins.man, Src/Zle/zle.h, Src/Zle/zle_bindings.c,
 	  Src/Zle/zle_hist.c, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c, Src/builtin.c,
 	  Src/globals.h, Src/hashtable.c, Src/init.c: big multi-character
 	  key bindings fix from Zefram (2464)

	* Doc/zshbuiltins.man, Src/hashtable.h, Src/module.c, Src/zsh.h:
 	  The -f option of zmodload is removed.  Improved zmodload
 	  documentation.

	* Src/hashtable.h, Doc/zshbuiltins.man, Src/module.c: zmodload
 	  with -i will not complain and will succeed without doing
 	  anything if an already loaded module is loaded or a non-loaded
 	  module is unloaded.  From Zefram (2463)

	* Doc/Makefile.in, Doc/zshbuiltins.man, Doc/zshparam.man: zmodload
 	  documentation.  It only appears in the final manual if dynamic
 	  modules are enabled.  Note that the texinfo documentation is
 	  still missing.  From Zefram (2460)

	* Etc/FAQ: FAQ from Peter: Id: zsh.FAQ,v 2.21 1996/11/25 09:13:28
 	  pws Exp

Mon Nov 25 02:39:08 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/module.c: try to load the modules with .DL_EXT appended
 	  first.  Honor PATH_DIRS when loading a module.

	* Src/Makefile.in: handle force ruleas as in the top-level Makefile

	* Makefile.in, Src/Makefile.in, Src/init.c: module install added,
 	  default module_path is $(libdir)/zsh/$(VERSION).  From Zefram
 	  (2458 and 2465 with modifications)

	* Src/Makefile.in: optimized and made more silent

	* Src/Makefile.in, Src/Modules/example.c, Src/Zle/deltochar.c,
 	  Src/init.c, Src/main.c, Src/module.c: modules can now statically
 	  compiled into zsh.  From Zefram (2455)

Sun Nov 24 22:44:12 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Zle/zle_move.c: vi-goto-mark fix from Thorsten

	* Src/utils.c: dupnode mergerd into the simplified dupstruct2,
 	  freetreenode merged into the simplified freestruct

	* Src/globals.h, Src/text.c, Doc/zsh.texi, Doc/zshmisc.man,
 	  Src/lex.c, Src/loop.c, Src/parse.c, Src/utils.c, Src/zsh.h: for
 	  ((expr; expr; expr)) command added

Sat Nov 23 23:34:58 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/exec.c:
	  ((...)) substituted the expression twice and coredumped on (())

	* Doc/zsh.texi, Doc/zshcompctl.man: compctl -e clarification from
 	  Peter (2453)

	* Src/hist.c (hend): minor cleanup from Wayne (2447)

	* Doc/zsh.texi, Doc/zshzle.man, Src/Zle/zle_hist.c:
 	  insert-last-word with numeric arguments inserts the given word
 	  from the previous history event.  From Bart (2445),
 	  documentation by me.

	* Src/subst.c, acconfig.h, config.h.in, configure, configure.in:
 	  added configure check for variable-length automatic arrays

Wed Nov 20 00:58:06 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/utils.c: The spell checker always tries to fix as many
 	  leading directory compontents as possible.  From Bart (2429)

	* Src/Zle/zle.h, Src/Zle/zle_main.c, Src/Zle/zle_misc.c,
 	  Src/Zle/zle_tricky.c, Src/Zle/zle_vi.c: the source was not ANSI
 	  C compatible.  From Thorsten Meinecke <kaefer@aglaia.aball.DE>

	* Src/Zle/zle_tricky.c: my spell-word fix used an uninitialised
 	  pointer.  Fix from Bart (2428)

Sun Nov 17 21:21:22 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Makefile.in: fix the .SUFFIXES list

	* Src/module.c: do not call dlclose() if cleanup_module failed
 	  (returned nonzero)

	* Src/Makefile.in, Src/init.c, Src/main.c, Src/prototypes.h,
 	  configure, configure.in: try to support dynamic loading on SVR4
 	  systems

	* config.h.in: Makefile and configure fixes from Zefram (2416)

	* Src/params.c: remove a few memory leaks when initialising the
 	  parameter table.

	* Src/exec.c, Src/zsh.h: allow arbitrary number of multios.  From
 	  Zefram (2414)

	* Src/exec.c, Src/parse.c, Src/text.c, Src/zsh.h: do not convert
 	  ((...)) to builtin let internally.

Sat Nov 16 23:57:40 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/zle_tricky.c: spell-word zle function did not work for word
 	  beginning with a tilde

	* Src/hist.c: histignoredups ignores insignificant whitespace
 	  changes.  From Peter (1949)

	* Src/zle_main.c: execute-last-named-cmd may point to an already
 	  removed zle function after a zle module is deleted.  From Zefram
 	  (2418)

	* Doc/Makefile.in: give some explanation if the user compiling zsh
 	  has no makeinfo

	* configure.in: fix a problem introduced by patch 2338.  From
 	  Zefram (2416)

	* Makefile.in, acconfig.h, configure.in: Makefile and configure
 	  fixes from Zefram (2416)

	* Src/zle_tricky.c: the cursor moved back on TAB when it was on
 	  "".  From Zefram (2415)

Thu Nov 14 12:59:25 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/zle_refresh.c: one more refresh fix from Geoff (2404)

	* Src/Makefile.in, Src/Modules/deltochar.c, Src/Modules/example.c,
 	  configure, configure.in: move modules into Src/Modules

Wed Nov 13 21:47:28 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Modules/deltochar.c, Src/Modules/example.c, Src/module.c:
 	  unload the module if the boot routine failed

	* config.guess, config.sub: recognize i[6-9]86

	* Src/globals.h, Src/init.c, Src/utils.c: make fdtable dynamic

	* Src/zle_refresh.c: zle_refresh fix from Geoff (2387)

	* Src/zle_refresh.c: some checks added.  From Geoff (2386)

	* Src/zle_refresh.c: fix an off-by-one array bound bug.  From
 	  Geoff (2359)

	* Doc/zsh.texi, Doc/zshbuiltins.man, Src/Modules/deltochar.c,
 	  Src/hashtable.h, Src/module.c, Src/zle_main.c: handle name
 	  clashes when adding zle modules and remove bindings when a zle
 	  module is removed.  From Peter (2370)

	* Src/zle_refresh.c: zle_refresh scrolling change from Geoff (2351)

	* Src/Modules/deltochar.c, Src/module.c, Src/zle.h,
 	  Src/zle_main.c, Src/zle_misc.c, Src/zle_tricky.c, Src/zle_vi.c:
 	  zle function modules from Peter (2339)

Tue Nov 12 21:35:18 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/init.c, Src/zle_refresh.c: zle-refresh patch from Geoff (2336)

	* Src/hashtable.h, Src/module.c: rename modload to zmodload.  From
 	  Peter (2333)

	* Src/Makefile.in: added automatic ansi2knr rules

Mon Nov 11 21:55:17 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/Modules/example.c, Src/module.c, configure,
 	  configure.in: various module changes from Zefram (2338)

	* configure, configure.in: a $ was missing.  IRIX gcc needs
 	  -shared for modules.  From Peter

Wed Nov  6 20:54:33 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/mod_example.c: moduule modifications for
 	  old compilers

Sun Nov  3 23:00:05 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/system.h: set OPEN_MAX to 64 if NOFILE is not defined

	* Src/hashtable.c: disable -f TRAPxxx permanently removed the
	  function

	* Functions/pushd: setopt localoptions must come after
	  emulate -R zsh

Sat Nov  2 22:47:53 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/compat.c, Src/hashtable.c, Src/utils.c: do not blindly
 	  assume that . and .. are always the first two enrties in a
 	  directory.  Problem discovered by Hideki ONO and fixed by Bart
 	  (2309)

	* Src/utils.c: max_zsh_fd should not be decreased below zero

Thu Oct 31 01:38:10 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/Makefile.in, Src/globals.h, Src/hashtable.c,
 	  Src/hashtable.h, Src/init.c, Src/mod_example.c, Src/module.c,
 	  Src/prototypes.h, Src/zsh.h, acconfig.h, config.h.in, configure,
 	  configure.in: support dynamically loaded binary modules

	* Src/hist.c: zsh splitted lines longer than 1022 while reading
 	  the history file

	* Src/glob.c (doesmatch): <-number> range glob did not work

	* Src/builtin.c: read -c ignored its first parameter

Fri Oct 25 20:50:38 1996  Zoltn Hidvgi  <hzoli@cs.elte.hu>

	* Src/version.h: zsh-3.0.1 released
